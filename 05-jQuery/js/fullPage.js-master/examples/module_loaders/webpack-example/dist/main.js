!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){var o;
/*!
 * fullPage 3.0.2
 * https://github.com/alvarotrigo/fullPage.js
 *
 * @license GPLv3 for open source use only
 * or Fullpage Commercial License for commercial use
 * http://alvarotrigo.com/fullPage/pricing/
 *
 * Copyright (C) 2018 http://alvarotrigo.com/fullPage - A project by Alvaro Trigo
 */
/*!
 * fullPage 3.0.2
 * https://github.com/alvarotrigo/fullPage.js
 *
 * @license GPLv3 for open source use only
 * or Fullpage Commercial License for commercial use
 * http://alvarotrigo.com/fullPage/pricing/
 *
 * Copyright (C) 2018 http://alvarotrigo.com/fullPage - A project by Alvaro Trigo
 */
!function(r,i,l,a,c){void 0===(o=function(){return r.fullpage=a(i,l),r.fullpage}.call(t,n,t,e))||(e.exports=o)}(this,window,document,function(e,t){"use strict";var n="fullpage-wrapper",o="."+n,r="fp-responsive",i="fp-notransition",l="fp-destroyed",a="fp-enabled",c="fp-viewing",s="active",u="."+s,f="fp-completely",d="."+f,v=".section",p="fp-section",h="."+p,g=h+u,m="fp-tableCell",b="."+m,S="fp-auto-height",y="fp-normal-scroll",w="fp-nav",E="#"+w,L="fp-tooltip",x="."+L,T="fp-show-active",A=".slide",k="fp-slide",M="."+k,O=M+u,C="fp-slides",H="."+C,I="fp-slidesContainer",R="."+I,B="fp-table",j="fp-slidesNav",z="."+j,N=z+" a",P=".fp-controlArrow",D="fp-prev",V="fp-controlArrow "+D,_=P+("."+D),Y="fp-controlArrow fp-next",F=P+".fp-next";function U(t,n){e.console&&e.console[t]&&e.console[t]("fullPage: "+n)}function W(e,n){return(n=arguments.length>1?n:t)?n.querySelectorAll(e):null}function X(e){e=e||{};for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var o in n)n.hasOwnProperty(o)&&("object"==typeof n[o]&&null!=n[o]?e[o]=X(e[o],n[o]):e[o]=n[o])}return e}function K(e,t){return null!=e&&(e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className))}function q(){return"innerHeight"in e?e.innerHeight:t.documentElement.offsetHeight}function Q(e,t){var n;for(n in e=oe(e),t)if(t.hasOwnProperty(n)&&null!==n)for(var o=0;o<e.length;o++){e[o].style[n]=t[n]}return e}function G(e,t,n){for(var o=e[n];o&&!Ee(o,t);)o=o[n];return o}function $(e,t){return G(e,t,"previousElementSibling")}function J(e,t){return G(e,t,"nextElementSibling")}function Z(e){return e.previousElementSibling}function ee(e){return e.nextElementSibling}function te(e){return e[e.length-1]}function ne(e,t){e=le(e)?e[0]:e;for(var n=null!=t?W(t,e.parentNode):e.parentNode.childNodes,o=0,r=0;r<n.length;r++){if(n[r]==e)return o;1==n[r].nodeType&&o++}return-1}function oe(e){return le(e)?e:[e]}function re(e){e=oe(e);for(var t=0;t<e.length;t++)e[t].style.display="none";return e}function ie(e){e=oe(e);for(var t=0;t<e.length;t++)e[t].style.display="block";return e}function le(e){return"[object Array]"===Object.prototype.toString.call(e)||"[object NodeList]"===Object.prototype.toString.call(e)}function ae(e,t){e=oe(e);for(var n=0;n<e.length;n++){var o=e[n];o.classList?o.classList.add(t):o.className+=" "+t}return e}function ce(e,t){e=oe(e);for(var n=t.split(" "),o=0;o<n.length;o++){t=n[o];for(var r=0;r<e.length;r++){var i=e[r];i.classList?i.classList.remove(t):i.className=i.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}}return e}function se(e,t){t.appendChild(e)}function ue(e,n,o){var r;n=n||t.createElement("div");for(var i=0;i<e.length;i++){var l=e[i];(o&&!i||!o)&&(r=n.cloneNode(!0),l.parentNode.insertBefore(r,l)),r.appendChild(l)}return e}function fe(e,t){ue(e,t,!0)}function de(e,t){for("string"==typeof t&&(t=xe(t)),e.appendChild(t);e.firstChild!==t;)t.appendChild(e.firstChild)}function ve(e,t){return e&&1===e.nodeType?Ee(e,t)?e:ve(e.parentNode,t):null}function pe(e,t){ge(e,e.nextSibling,t)}function he(e,t){ge(e,e,t)}function ge(e,t,n){le(n)||("string"==typeof n&&(n=xe(n)),n=[n]);for(var o=0;o<n.length;o++)e.parentNode.insertBefore(n[o],t)}function me(){var n=t.documentElement;return(e.pageYOffset||n.scrollTop)-(n.clientTop||0)}function be(e){return Array.prototype.filter.call(e.parentNode.children,function(t){return t!==e})}function Se(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ye(e){if("function"==typeof e)return!0;var t=Object.prototype.toString(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}function we(n,o,r){var i;r=void 0===r?{}:r,"function"==typeof e.CustomEvent?i=new CustomEvent(o,{detail:r}):(i=t.createEvent("CustomEvent")).initCustomEvent(o,!0,!0,r),n.dispatchEvent(i)}function Ee(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}function Le(e,t){if("boolean"==typeof t)for(var n=0;n<e.length;n++)e[n].style.display=t?"block":"none";return e}function xe(e){var n=t.createElement("div");return n.innerHTML=e.trim(),n.firstChild}function Te(e){e=oe(e);for(var t=0;t<e.length;t++){var n=e[t];n&&n.parentElement&&n.parentNode.removeChild(n)}}function Ae(e,t,n){for(var o=e[n],r=[];o;)(Ee(o,t)||null==t)&&r.push(o),o=o[n];return r}function ke(e,t){return Ae(e,t,"nextElementSibling")}function Me(e,t){return Ae(e,t,"previousElementSibling")}return e.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,n){n=n||e;for(var o=0;o<this.length;o++)t.call(n,this[o],o,this)}),e.fp_utils={$:W,deepExtend:X,hasClass:K,getWindowHeight:q,css:Q,until:G,prevUntil:$,nextUntil:J,prev:Z,next:ee,last:te,index:ne,getList:oe,hide:re,show:ie,isArrayOrList:le,addClass:ae,removeClass:ce,appendTo:se,wrap:ue,wrapAll:fe,wrapInner:de,closest:ve,after:pe,before:he,insertBefore:ge,getScrollTop:me,siblings:be,preventDefault:Se,isFunction:ye,trigger:we,matches:Ee,toggle:Le,createElementFromHTML:xe,remove:Te,filter:function(e,t){Array.prototype.filter.call(e,t)},untilAll:Ae,nextAll:ke,prevAll:Me},function(G,oe){var le=oe&&new RegExp("([\\d\\w]{8}-){3}[\\d\\w]{8}|OPEN-SOURCE-GPLV3-LICENSE").test(oe.licenseKey)||t.domain.indexOf("alvarotrigo.com")>-1;if(!K(W("html"),a)){var ue=W("html, body"),ge=W("body")[0],Ae={};oe=X({menu:!1,anchors:[],lockAnchors:!1,navigation:!1,navigationPosition:"right",navigationTooltips:[],showActiveTooltip:!1,slidesNavigation:!1,slidesNavPosition:"bottom",scrollBar:!1,hybrid:!1,css3:!0,scrollingSpeed:700,autoScrolling:!0,fitToSection:!0,fitToSectionDelay:1e3,easing:"easeInOutCubic",easingcss3:"ease",loopBottom:!1,loopTop:!1,loopHorizontal:!0,continuousVertical:!1,continuousHorizontal:!1,scrollHorizontally:!1,interlockedSlides:!1,dragAndMove:!1,offsetSections:!1,resetSliders:!1,fadingEffect:!1,normalScrollElements:null,scrollOverflow:!1,scrollOverflowReset:!1,scrollOverflowHandler:e.fp_scrolloverflow?e.fp_scrolloverflow.iscrollHandler:null,scrollOverflowOptions:null,touchSensitivity:5,normalScrollElementTouchThreshold:5,bigSectionsDestination:null,keyboardScrolling:!0,animateAnchor:!0,recordHistory:!0,controlArrows:!0,controlArrowColor:"#fff",verticalCentered:!0,sectionsColor:[],paddingTop:0,paddingBottom:0,fixedElements:null,responsive:0,responsiveWidth:0,responsiveHeight:0,responsiveSlides:!1,parallax:!1,parallaxOptions:{type:"reveal",percentage:62,property:"translate"},sectionSelector:v,slideSelector:A,v2compatible:!1,afterLoad:null,onLeave:null,afterRender:null,afterResize:null,afterReBuild:null,afterSlideLoad:null,onSlideLeave:null,afterResponsive:null,lazyLoading:!0},oe);var Oe,Ce,He,Ie,Re=!1,Be=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),je="ontouchstart"in e||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,ze="string"==typeof G?W(G)[0]:G,Ne=q(),Pe=!1,De=!0,Ve=!0,_e=[],Ye={m:{up:!0,down:!0,left:!0,right:!0}};Ye.k=X({},Ye.m);var Fe,Ue,We,Xe,Ke,qe,Qe,Ge,$e=e.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"},Je={touchmove:"ontouchmove"in e?"touchmove":$e.move,touchstart:"ontouchstart"in e?"touchstart":$e.down},Ze='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]',et=X({},oe);Dn(),e.fp_easings=X(e.fp_easings,{easeInOutCubic:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}}),ze&&(Ae.version="3.0.2",Ae.setAutoScrolling=ft,Ae.setRecordHistory=dt,Ae.setScrollingSpeed=vt,Ae.setFitToSection=pt,Ae.setLockAnchors=function(e){oe.lockAnchors=e},Ae.setMouseWheelScrolling=ht,Ae.setAllowScrolling=gt,Ae.setKeyboardScrolling=mt,Ae.moveSectionUp=bt,Ae.moveSectionDown=St,Ae.silentMoveTo=yt,Ae.moveTo=wt,Ae.moveSlideRight=Et,Ae.moveSlideLeft=Lt,Ae.fitToSection=Rt,Ae.reBuild=xt,Ae.setResponsive=Tt,Ae.getFullpageData=oe,Ae.destroy=function(n){ft(!1,"internal"),gt(!1),mt(!1),ae(ze,l),clearTimeout(Xe),clearTimeout(We),clearTimeout(Ue),clearTimeout(Ke),clearTimeout(qe),e.removeEventListener("scroll",It),e.removeEventListener("hashchange",nn),e.removeEventListener("resize",mn),t.removeEventListener("keydown",rn),t.removeEventListener("keyup",an);var o=[dn,ln,un,vn];["click","touchstart"].forEach(function(e){o.forEach(function(n){t.removeEventListener(e,n)})}),["mouseenter","touchstart","mouseleave","touchend"].forEach(function(e){t.removeEventListener(e,kt,!0)}),clearTimeout(Xe),clearTimeout(We),n&&(jn(0),W("img[data-src], source[data-src], audio[data-src], iframe[data-src]",ze).forEach(function(e){Qt(e,"src")}),W("img[data-srcset]").forEach(function(e){Qt(e,"srcset")}),Te(W(E+", "+z+", "+P)),Q(W(h),{height:"","background-color":"",padding:""}),Q(W(M),{width:""}),Q(ze,{height:"",position:"","-ms-touch-action":"","touch-action":""}),Q(ue,{overflow:"",height:""}),ce(W("html"),a),ce(ge,r),ge.className.split(/\s+/).forEach(function(e){0===e.indexOf(c)&&ce(ge,e)}),W(h+", "+M).forEach(function(e){oe.scrollOverflowHandler&&oe.scrollOverflowHandler.remove(e),ce(e,B+" "+s+" "+f);var t=e.getAttribute("data-fp-styles");t&&e.setAttribute("style",e.getAttribute("data-fp-styles"))}),yn(ze),[b,R,H].forEach(function(e){W(e,ze).forEach(function(e){e.outerHTML=e.innerHTML})}),Q(ze,{"-webkit-transition":"none",transition:"none"}),W("html")[0].scrollTo(0,0),W("body")[0].scrollTo(0,0),[p,k,I].forEach(function(e){ce(W("."+e),e)}))},Ae.getActiveSection=function(){return new Fn(W(g)[0])},Ae.getActiveSlide=function(){return Xt(W(O,W(g)[0])[0])},Ae.test={top:"0px",translate3d:"translate3d(0px, 0px, 0px)",translate3dH:function(){for(var e=[],t=0;t<W(oe.sectionSelector,ze).length;t++)e.push("translate3d(0px, 0px, 0px)");return e}(),left:function(){for(var e=[],t=0;t<W(oe.sectionSelector,ze).length;t++)e.push(0);return e}(),options:oe,setAutoScrolling:ft},Ae.shared={afterRenderActions:Ht},e.fullpage_api=Ae,oe.css3&&(oe.css3=function(){var n,o=t.createElement("p"),r={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var i in o.style.display="block",t.body.insertBefore(o,null),r)void 0!==o.style[i]&&(o.style[i]="translate3d(1px,1px,1px)",n=e.getComputedStyle(o).getPropertyValue(r[i]));return t.body.removeChild(o),void 0!==n&&n.length>0&&"none"!==n}()),oe.scrollBar=oe.scrollBar||oe.hybrid,function(){if(!oe.anchors.length){var e="[data-anchor]",t=W(oe.sectionSelector.split(",").join(e+",")+e,ze);t.length&&t.forEach(function(e){oe.anchors.push(e.getAttribute("data-anchor").toString())})}if(!oe.navigationTooltips.length){var e="[data-tooltip]",n=W(oe.sectionSelector.split(",").join(e+",")+e,ze);n.length&&n.forEach(function(e){oe.navigationTooltips.push(e.getAttribute("data-tooltip").toString())})}}(),function(){Q(ze,{height:"100%",position:"relative"}),ae(ze,n),ae(W("html"),a),Ne=q(),ce(ze,l),ae(W(oe.sectionSelector,ze),p),ae(W(oe.slideSelector,ze),k);for(var e=W(h),o=0;o<e.length;o++){var r=o,i=e[o],c=W(M,i),u=c.length;i.setAttribute("data-fp-styles",i.getAttribute("style")),Ot(i,r),Ct(i,r),u>0?Mt(i,c,u):oe.verticalCentered&&Ln(i)}oe.fixedElements&&oe.css3&&W(oe.fixedElements).forEach(function(e){ge.appendChild(e)}),oe.navigation&&function(){var e=t.createElement("div");e.setAttribute("id",w);var n=t.createElement("ul");e.appendChild(n),se(e,ge);var o=W(E)[0];ae(o,"fp-"+oe.navigationPosition),oe.showActiveTooltip&&ae(o,T);for(var r="",i=0;i<W(h).length;i++){var l="";oe.anchors.length&&(l=oe.anchors[i]),r+='<li><a href="#'+l+'"><span></span></a>';var a=oe.navigationTooltips[i];void 0!==a&&""!==a&&(r+='<div class="'+L+" fp-"+oe.navigationPosition+'">'+a+"</div>"),r+="</li>"}W("ul",o)[0].innerHTML=r,Q(W(E),{"margin-top":"-"+W(E)[0].offsetHeight/2+"px"}),ae(W("a",W("li",W(E)[0])[ne(W(g)[0],h)]),s)}(),W('iframe[src*="youtube.com/embed/"]',ze).forEach(function(e){!function(e,t){var n=e.getAttribute("src");e.setAttribute("src",n+function(e){return/\?/.test(e)?"&":"?"}(n)+t)}(e,"enablejsapi=1")}),oe.scrollOverflow?Fe=oe.scrollOverflowHandler.init(oe):Ht()}(),gt(!0),ft(oe.autoScrolling,"internal"),bn(),In(),"complete"===t.readyState&&tn(),e.addEventListener("load",tn),e.addEventListener("scroll",It),e.addEventListener("hashchange",nn),e.addEventListener("blur",fn),e.addEventListener("resize",mn),t.addEventListener("keydown",rn),t.addEventListener("keyup",an),["click","touchstart"].forEach(function(e){t.addEventListener(e,function(e){var t=e.target;t&&ve(t,E+" a")?dn.call(t,e):Ee(t,x)?ln.call(t):Ee(t,P)?un.call(t,e):(Ee(t,N)||null!=ve(t,N))&&vn.call(t,e)})}),oe.normalScrollElements&&(["mouseenter","touchstart"].forEach(function(e){At(e,!1)}),["mouseleave","touchend"].forEach(function(e){At(e,!0)})));var tt=!1,nt=0,ot=0,rt=0,it=0,lt=0,at=(new Date).getTime(),ct=0,st=0,ut=Ne;return Ae}function ft(e,t){e||jn(0),Pn("autoScrolling",e,t);var n=W(g)[0];if(oe.autoScrolling&&!oe.scrollBar)Q(ue,{overflow:"hidden",height:"100%"}),dt(et.recordHistory,"internal"),Q(ze,{"-ms-touch-action":"none","touch-action":"none"}),null!=n&&jn(n.offsetTop);else if(Q(ue,{overflow:"visible",height:"initial"}),dt(!1,"internal"),Q(ze,{"-ms-touch-action":"","touch-action":""}),null!=n){var o=Kt(n.offsetTop);o.element.scrollTo(0,o.options)}}function dt(e,t){Pn("recordHistory",e,t)}function vt(e,t){Pn("scrollingSpeed",e,t)}function pt(e,t){Pn("fitToSection",e,t)}function ht(n){n?(function(){var n,o="";e.addEventListener?n="addEventListener":(n="attachEvent",o="on");var r="onwheel"in t.createElement("div")?"wheel":void 0!==t.onmousewheel?"mousewheel":"DOMMouseScroll";"DOMMouseScroll"==r?t[n](o+"MozMousePixelScroll",Vt,!1):t[n](o+r,Vt,!1)}(),ze.addEventListener("mousedown",cn),ze.addEventListener("mouseup",sn)):(t.addEventListener?(t.removeEventListener("mousewheel",Vt,!1),t.removeEventListener("wheel",Vt,!1),t.removeEventListener("MozMousePixelScroll",Vt,!1)):t.detachEvent("onmousewheel",Vt),ze.removeEventListener("mousedown",cn),ze.removeEventListener("mouseup",sn))}function gt(e,t){void 0!==t?(t=t.replace(/ /g,"").split(",")).forEach(function(t){Nn(e,t,"m")}):(Nn(e,"all","m"),e?(ht(!0),(Be||je)&&(oe.autoScrolling&&(ge.removeEventListener(Je.touchmove,jt,{passive:!1}),ge.addEventListener(Je.touchmove,jt,{passive:!1})),W(o)[0].removeEventListener(Je.touchstart,Pt),W(o)[0].removeEventListener(Je.touchmove,zt,{passive:!1}),W(o)[0].addEventListener(Je.touchstart,Pt),W(o)[0].addEventListener(Je.touchmove,zt,{passive:!1}))):(ht(!1),(Be||je)&&(oe.autoScrolling&&(ge.removeEventListener(Je.touchmove,zt,{passive:!1}),ge.removeEventListener(Je.touchmove,jt,{passive:!1})),W(o)[0].removeEventListener(Je.touchstart,Pt),W(o)[0].removeEventListener(Je.touchmove,zt,{passive:!1}))))}function mt(e,t){void 0!==t?(t=t.replace(/ /g,"").split(",")).forEach(function(t){Nn(e,t,"k")}):(Nn(e,"all","k"),oe.keyboardScrolling=e)}function bt(){var e=$(W(g)[0],h);e||!oe.loopTop&&!oe.continuousVertical||(e=te(W(h))),null!=e&&Ft(e,null,!0)}function St(){var e=J(W(g)[0],h);e||!oe.loopBottom&&!oe.continuousVertical||(e=W(h)[0]),null!=e&&Ft(e,null,!1)}function yt(e,t){vt(0,"internal"),wt(e,t),vt(et.scrollingSpeed,"internal")}function wt(e,t){var n=An(e);void 0!==t?kn(e,t):null!=n&&Ft(n)}function Et(e){_t("right",e)}function Lt(e){_t("left",e)}function xt(t){if(!K(ze,l)){Pe=!0,Ne=q();for(var n=W(h),o=0;o<n.length;++o){var r=n[o],i=W(H,r)[0],a=W(M,r);oe.verticalCentered&&Q(W(b,r),{height:xn(r)+"px"}),Q(r,{height:Ne+"px"}),a.length>1&&hn(i,W(O,i)[0])}oe.scrollOverflow&&Fe.createScrollBarForAll();var c=ne(W(g)[0],h);c&&yt(c+1),Pe=!1,ye(oe.afterResize)&&t&&oe.afterResize.call(ze,e.innerWidth,e.innerHeight),ye(oe.afterReBuild)&&!t&&oe.afterReBuild.call(ze)}}function Tt(e){var t=K(ge,r);e?t||(ft(!1,"internal"),pt(!1,"internal"),re(W(E)),ae(ge,r),ye(oe.afterResponsive)&&oe.afterResponsive.call(ze,e)):t&&(ft(et.autoScrolling,"internal"),pt(et.autoScrolling,"internal"),ie(W(E)),ce(ge,r),ye(oe.afterResponsive)&&oe.afterResponsive.call(ze,e))}function At(e,n){t["fp_"+e]=n,t.addEventListener(e,kt,!0)}function kt(e){e.target!=t&&oe.normalScrollElements.split(",").forEach(function(n){Ee(e.target,n)&&gt(t["fp_"+e.type])})}function Mt(e,n,o){var r=100*o,i=100/o,l=t.createElement("div");l.className=C,fe(n,l);var a=t.createElement("div");a.className=I,fe(n,a),Q(W(R,e),{width:r+"%"}),o>1&&(oe.controlArrows&&function(e){var t=[xe('<div class="'+V+'"></div>'),xe('<div class="'+Y+'"></div>')];pe(W(H,e)[0],t),"#fff"!==oe.controlArrowColor&&(Q(W(F,e),{"border-color":"transparent transparent transparent "+oe.controlArrowColor}),Q(W(_,e),{"border-color":"transparent "+oe.controlArrowColor+" transparent transparent"})),oe.loopHorizontal||re(W(_,e))}(e),oe.slidesNavigation&&function(e,t){se(xe('<div class="'+j+'"><ul></ul></div>'),e);var n=W(z,e)[0];ae(n,"fp-"+oe.slidesNavPosition);for(var o=0;o<t;o++)se(xe('<li><a href="#"><span></span></a></li>'),W("ul",n)[0]);Q(n,{"margin-left":"-"+n.innerWidth/2+"px"}),ae(W("a",W("li",n)[0]),s)}(e,o)),n.forEach(function(e){Q(e,{width:i+"%"}),oe.verticalCentered&&Ln(e)});var c=W(O,e)[0];null!=c&&(0!==ne(W(g),h)||0===ne(W(g),h)&&0!==ne(c))?Bn(c,"internal"):ae(n[0],s)}function Ot(e,t){t||null!=W(g)[0]||ae(e,s),Ie=W(g)[0],Q(e,{height:Ne+"px"}),oe.paddingTop&&Q(e,{"padding-top":oe.paddingTop}),oe.paddingBottom&&Q(e,{"padding-bottom":oe.paddingBottom}),void 0!==oe.sectionsColor[t]&&Q(e,{"background-color":oe.sectionsColor[t]}),void 0!==oe.anchors[t]&&e.setAttribute("data-anchor",oe.anchors[t])}function Ct(e,t){void 0!==oe.anchors[t]&&K(e,s)&&wn(oe.anchors[t],t),oe.menu&&oe.css3&&null!=ve(W(oe.menu)[0],o)&&ge.appendChild(W(oe.menu)[0])}function Ht(){var e=W(g)[0];ae(e,f),Gt(e),$t(e),oe.scrollOverflow&&oe.scrollOverflowHandler.afterLoad(),function(){var e=An(on().section);return!e||void 0!==e&&ne(e)===ne(Ie)}()&&ye(oe.afterLoad)&&Ut("afterLoad",{activeSection:null,element:e,direction:null,anchorLink:e.getAttribute("data-anchor"),sectionIndex:ne(e,h)}),ye(oe.afterRender)&&Ut("afterRender")}function It(){var e;if(!oe.autoScrolling||oe.scrollBar){var t=me(),n=function(e){var t=e>nt?"down":"up";return nt=e,ct=e,t}(t),o=0,r=t+q()/2,i=ge.offsetHeight-q()===t,l=W(h);if(i)o=l.length-1;else if(t)for(var a=0;a<l.length;++a)l[a].offsetTop<=r&&(o=a);else o=0;if(function(e){var t=W(g)[0].offsetTop,n=t+q();return"up"==e?n>=me()+q():t<=me()}(n)&&(K(W(g)[0],f)||(ae(W(g)[0],f),ce(be(W(g)[0]),f))),!K(e=l[o],s)){tt=!0;var c,u,d=W(g)[0],v=ne(d,h)+1,p=En(e),m=e.getAttribute("data-anchor"),b=ne(e,h)+1,S=W(O,e)[0],y={activeSection:d,sectionIndex:b-1,anchorLink:m,element:e,leavingSection:v,direction:p};S&&(u=S.getAttribute("data-anchor"),c=ne(S)),Ve&&(ae(e,s),ce(be(e),s),ye(oe.onLeave)&&Ut("onLeave",y),ye(oe.afterLoad)&&Ut("afterLoad",y),Zt(d),Gt(e),$t(e),wn(m,b-1),oe.anchors.length&&(Oe=m),On(c,u,m)),clearTimeout(Ke),Ke=setTimeout(function(){tt=!1},100)}oe.fitToSection&&(clearTimeout(qe),qe=setTimeout(function(){oe.fitToSection&&W(g)[0].offsetHeight<=Ne&&Rt()},oe.fitToSectionDelay))}}function Rt(){Ve&&(Pe=!0,Ft(W(g)[0]),Pe=!1)}function Bt(e){if(Ye.m[e]){var t="down"===e?St:bt;if(oe.scrollOverflow){var n=oe.scrollOverflowHandler.scrollable(W(g)[0]),o="down"===e?"bottom":"top";if(null!=n){if(!oe.scrollOverflowHandler.isScrolled(o,n))return!0;t()}else t()}else t()}}function jt(e){oe.autoScrolling&&Nt(e)&&Se(e)}function zt(t){var n=ve(t.target,h);if(Nt(t)){oe.autoScrolling&&Se(t);var o=Rn(t);it=o.y,lt=o.x,W(H,n).length&&Math.abs(rt-lt)>Math.abs(ot-it)?!Re&&Math.abs(rt-lt)>e.innerWidth/100*oe.touchSensitivity&&(rt>lt?Ye.m.right&&Et(n):Ye.m.left&&Lt(n)):oe.autoScrolling&&Ve&&Math.abs(ot-it)>e.innerHeight/100*oe.touchSensitivity&&(ot>it?Bt("down"):it>ot&&Bt("up"))}}function Nt(e){return void 0===e.pointerType||"mouse"!=e.pointerType}function Pt(e){if(oe.fitToSection&&(Ge=!1),Nt(e)){var t=Rn(e);ot=t.y,rt=t.x}}function Dt(e,t){for(var n=0,o=e.slice(Math.max(e.length-t,1)),r=0;r<o.length;r++)n+=o[r];return Math.ceil(n/t)}function Vt(t){var n=(new Date).getTime(),o=K(W(d)[0],y);if(oe.autoScrolling&&!He&&!o){var r=(t=t||e.event).wheelDelta||-t.deltaY||-t.detail,i=Math.max(-1,Math.min(1,r)),l=void 0!==t.wheelDeltaX||void 0!==t.deltaX,a=Math.abs(t.wheelDeltaX)<Math.abs(t.wheelDelta)||Math.abs(t.deltaX)<Math.abs(t.deltaY)||!l;_e.length>149&&_e.shift(),_e.push(Math.abs(r)),oe.scrollBar&&Se(t);var c=n-at;return at=n,c>200&&(_e=[]),Ve&&Dt(_e,10)>=Dt(_e,70)&&a&&Bt(i<0?"down":"up"),!1}oe.fitToSection&&(Ge=!1)}function _t(e,t){var n=null==t?W(g)[0]:t,o=W(H,n)[0];if(!(null==o||Re||W(M,o).length<2)){var r=W(O,o)[0],i=null;if(null==(i="left"===e?$(r,M):J(r,M))){if(!oe.loopHorizontal)return;var l=be(r);i="left"===e?l[l.length-1]:l[0]}Re=!Ae.test.isTesting,hn(o,i,e)}}function Yt(){for(var e=W(O),t=0;t<e.length;t++)Bn(e[t],"internal")}function Ft(e,t,n){if(null!=e){var o,r,i={element:e,callback:t,isMovementUp:n,dtop:function(e){var t=e.offsetHeight,n=e.offsetTop,o=n,r=n>ct,i=o-Ne+t,l=oe.bigSectionsDestination;return t>Ne?(r||l)&&"bottom"!==l||(o=i):(r||Pe&&null==ee(e))&&(o=i),ct=o,o}(e),yMovement:En(e),anchorLink:e.getAttribute("data-anchor"),sectionIndex:ne(e,h),activeSlide:W(O,e)[0],activeSection:W(g)[0],leavingSection:ne(W(g),h)+1,localIsResizing:Pe};if(!(i.activeSection==e&&!Pe||oe.scrollBar&&me()===i.dtop&&!K(e,S))){if(null!=i.activeSlide&&(o=i.activeSlide.getAttribute("data-anchor"),r=ne(i.activeSlide)),ye(oe.onLeave)&&!i.localIsResizing){var l=i.yMovement;if(void 0!==n&&(l=n?"up":"down"),i.direction=l,!1===Ut("onLeave",i))return}oe.autoScrolling&&oe.continuousVertical&&void 0!==i.isMovementUp&&(!i.isMovementUp&&"up"==i.yMovement||i.isMovementUp&&"down"==i.yMovement)&&(i=function(e){return e.isMovementUp?he(W(g)[0],ke(e.activeSection,h)):pe(W(g)[0],Me(e.activeSection,h).reverse()),jn(W(g)[0].offsetTop),Yt(),e.wrapAroundElements=e.activeSection,e.dtop=e.element.offsetTop,e.yMovement=En(e.element),e.leavingSection=ne(e.activeSection,h)+1,e.sectionIndex=ne(e.element,h),e}(i)),i.localIsResizing||Zt(i.activeSection),oe.scrollOverflow&&oe.scrollOverflowHandler.beforeLeave(),ae(e,s),ce(be(e),s),Gt(e),oe.scrollOverflow&&oe.scrollOverflowHandler.onLeave(),Ve=Ae.test.isTesting,On(r,o,i.anchorLink,i.sectionIndex),function(e){if(oe.css3&&oe.autoScrolling&&!oe.scrollBar){var t="translate3d(0px, -"+Math.round(e.dtop)+"px, 0px)";Tn(t,!0),oe.scrollingSpeed?(clearTimeout(We),We=setTimeout(function(){qt(e)},oe.scrollingSpeed)):qt(e)}else{var n=Kt(e.dtop);Ae.test.top=-e.dtop+"px",Vn(n.element,n.options,oe.scrollingSpeed,function(){oe.scrollBar?setTimeout(function(){qt(e)},30):qt(e)})}}(i),Oe=i.anchorLink,wn(i.anchorLink,i.sectionIndex)}}}function Ut(e,t){var n=function(e,t){var n;return(n=oe.v2compatible?{afterRender:function(){return[ze]},onLeave:function(){return[t.activeSection,t.leavingSection,t.sectionIndex+1,t.direction]},afterLoad:function(){return[t.element,t.anchorLink,t.sectionIndex+1]},afterSlideLoad:function(){return[t.destiny,t.anchorLink,t.sectionIndex+1,t.slideAnchor,t.slideIndex]},onSlideLeave:function(){return[t.prevSlide,t.anchorLink,t.sectionIndex+1,t.prevSlideIndex,t.direction,t.slideIndex]}}:{afterRender:function(){return{section:Wt(W(g)[0]),slide:Xt(W(O,W(g)[0])[0])}},onLeave:function(){return{origin:Wt(t.activeSection),destination:Wt(t.element),direction:t.direction}},afterLoad:function(){return n.onLeave()},afterSlideLoad:function(){return{section:Wt(t.section),origin:Xt(t.prevSlide),destination:Xt(t.destiny),direction:t.direction}},onSlideLeave:function(){return n.afterSlideLoad()}})[e]()}(e,t);if(oe.v2compatible){if(!1===oe[e].apply(n[0],n.slice(1)))return!1}else if(we(ze,e,n),!1===oe[e].apply(n[Object.keys(n)[0]],function(e){return Object.keys(e).map(function(t){return e[t]})}(n)))return!1;return!0}function Wt(e){return e?new Fn(e):null}function Xt(e){return e?new function(e){Yn.call(this,e,M)}(e):null}function Kt(t){var n={};return oe.autoScrolling&&!oe.scrollBar?(n.options=-t,n.element=W(o)[0]):(n.options=t,n.element=e),n}function qt(e){!function(e){null!=e.wrapAroundElements&&(e.isMovementUp?he(W(h)[0],e.wrapAroundElements):pe(W(h)[W(h).length-1],e.wrapAroundElements),jn(W(g)[0].offsetTop),Yt())}(e),ye(oe.afterLoad)&&!e.localIsResizing&&Ut("afterLoad",e),oe.scrollOverflow&&oe.scrollOverflowHandler.afterLoad(),e.localIsResizing||$t(e.element),ae(e.element,f),ce(be(e.element),f),Ve=!0,ye(e.callback)&&e.callback()}function Qt(e,t){e.setAttribute(t,e.getAttribute("data-"+t)),e.removeAttribute("data-"+t)}function Gt(e){oe.lazyLoading&&W("img[data-src], img[data-srcset], source[data-src], source[data-srcset], video[data-src], audio[data-src], iframe[data-src]",en(e)).forEach(function(e){if(["src","srcset"].forEach(function(t){var n=e.getAttribute("data-"+t);null!=n&&n&&Qt(e,t)}),Ee(e,"source")){var t=ve(e,"video, audio");t&&t.load()}})}function $t(e){var t=en(e);W("video, audio",t).forEach(function(e){e.hasAttribute("data-autoplay")&&"function"==typeof e.play&&e.play()}),W('iframe[src*="youtube.com/embed/"]',t).forEach(function(e){e.hasAttribute("data-autoplay")&&Jt(e),e.onload=function(){e.hasAttribute("data-autoplay")&&Jt(e)}})}function Jt(e){e.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}function Zt(e){var t=en(e);W("video, audio",t).forEach(function(e){e.hasAttribute("data-keepplaying")||"function"!=typeof e.pause||e.pause()}),W('iframe[src*="youtube.com/embed/"]',t).forEach(function(e){/youtube\.com\/embed\//.test(e.getAttribute("src"))&&!e.hasAttribute("data-keepplaying")&&e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})}function en(e){var t=W(O,e);return t.length&&(e=t[0]),e}function tn(){var e=on(),t=e.section,n=e.slide;t&&(oe.animateAnchor?kn(t,n):yt(t,n))}function nn(){if(!tt&&!oe.lockAnchors){var e=on(),t=e.section,n=e.slide,o=void 0===Oe,r=void 0===Oe&&void 0===n&&!Re;t&&t.length&&(t&&t!==Oe&&!o||r||!Re&&Ce!=n)&&kn(t,n)}}function on(){var t,n,o=e.location.hash;if(o.length){var r=o.replace("#","").split("/"),i=o.indexOf("#/")>-1;t=i?"/"+r[1]:decodeURIComponent(r[0]);var l=i?r[2]:r[1];l&&l.length&&(n=decodeURIComponent(l))}return{section:t,slide:n}}function rn(e){clearTimeout(Qe);var n=t.activeElement,o=e.keyCode;9===o?function(e){var n=e.shiftKey,o=t.activeElement,r=W(g)[0],i=W(O,r)[0],l=W(Ze+':not([tabindex="-1"])',i||r);function a(e){return Se(e),l[0].focus()}o?null==ve(o,g+","+O)&&(o=a(e)):a(e),(!n&&o==l[l.length-1]||n&&o==l[0])&&Se(e)}(e):Ee(n,"textarea")||Ee(n,"input")||Ee(n,"select")||"true"===n.getAttribute("contentEditable")||""===n.getAttribute("contentEditable")||!oe.keyboardScrolling||!oe.autoScrolling||([40,38,32,33,34].indexOf(o)>-1&&Se(e),He=e.ctrlKey,Qe=setTimeout(function(){!function(e){var t=e.shiftKey;if(Ve||!([37,39].indexOf(e.keyCode)<0))switch(e.keyCode){case 38:case 33:Ye.k.up&&bt();break;case 32:if(t&&Ye.k.up){bt();break}case 40:case 34:Ye.k.down&&St();break;case 36:Ye.k.up&&wt(1);break;case 35:Ye.k.down&&wt(W(h).length);break;case 37:Ye.k.left&&Lt();break;case 39:Ye.k.right&&Et()}}(e)},150))}function ln(){we(Z(this),"click")}function an(e){De&&(He=e.ctrlKey)}function cn(e){2==e.which&&(st=e.pageY,ze.addEventListener("mousemove",pn))}function sn(e){2==e.which&&ze.removeEventListener("mousemove",pn)}function un(){var e=ve(this,h);K(this,D)?Ye.m.left&&Lt(e):Ye.m.right&&Et(e)}function fn(){De=!1,He=!1}function dn(e){Se(e);var t=ne(ve(this,E+" li"));Ft(W(h)[t])}function vn(e){Se(e);var t=W(H,ve(this,h))[0];hn(t,W(M,t)[ne(ve(this,"li"))])}function pn(e){Ve&&(e.pageY<st&&Ye.m.up?bt():e.pageY>st&&Ye.m.down&&St()),st=e.pageY}function hn(e,t,n){var o=ve(e,h),r={slides:e,destiny:t,direction:n,destinyPos:{left:t.offsetLeft},slideIndex:ne(t),section:o,sectionIndex:ne(o,h),anchorLink:o.getAttribute("data-anchor"),slidesNav:W(z,o)[0],slideAnchor:Hn(t),prevSlide:W(O,o)[0],prevSlideIndex:ne(W(O,o)[0]),localIsResizing:Pe};r.xMovement=function(e,t){return e==t?"none":e>t?"left":"right"}(r.prevSlideIndex,r.slideIndex),r.localIsResizing||(Ve=!1),oe.onSlideLeave&&!r.localIsResizing&&"none"!==r.xMovement&&ye(oe.onSlideLeave)&&!1===Ut("onSlideLeave",r)?Re=!1:(ae(t,s),ce(be(t),s),r.localIsResizing||(Zt(r.prevSlide),Gt(t)),!oe.loopHorizontal&&oe.controlArrows&&(Le(W(_,o),0!==r.slideIndex),Le(W(F,o),null!=ee(t))),K(o,s)&&!r.localIsResizing&&On(r.slideIndex,r.slideAnchor,r.anchorLink,r.sectionIndex),function(e,t,n){var o=t.destinyPos;if(oe.css3){var r="translate3d(-"+Math.round(o.left)+"px, 0px, 0px)";Ae.test.translate3dH[t.sectionIndex]=r,Q(Sn(W(R,e)),zn(r)),Xe=setTimeout(function(){n&&gn(t)},oe.scrollingSpeed)}else Ae.test.left[t.sectionIndex]=Math.round(o.left),Vn(e,Math.round(o.left),oe.scrollingSpeed,function(){n&&gn(t)})}(e,r,!0))}function gn(e){!function(e,t){oe.slidesNavigation&&null!=e&&(ce(W(u,e),s),ae(W("a",W("li",e)[t]),s))}(e.slidesNav,e.slideIndex),e.localIsResizing||(ye(oe.afterSlideLoad)&&Ut("afterSlideLoad",e),Ve=!0,$t(e.destiny)),Re=!1}function mn(){if(bn(),Be){var e=t.activeElement;if(!Ee(e,"textarea")&&!Ee(e,"input")&&!Ee(e,"select")){var n=q();Math.abs(n-ut)>20*Math.max(ut,n)/100&&(xt(!0),ut=n)}}else clearTimeout(Ue),Ue=setTimeout(function(){xt(!0)},350)}function bn(){var t=oe.responsive||oe.responsiveWidth,n=oe.responsiveHeight,o=t&&e.innerWidth<t,r=n&&e.innerHeight<n;t&&n?Tt(o||r):t?Tt(o):n&&Tt(r)}function Sn(e){var t="all "+oe.scrollingSpeed+"ms "+oe.easingcss3;return ce(e,i),Q(e,{"-webkit-transition":t,transition:t})}function yn(e){return ae(e,i)}function wn(e,t){!function(e){var t=W(oe.menu)[0];oe.menu&&null!=t&&(ce(W(u,t),s),ae(W('[data-menuanchor="'+e+'"]',t),s))}(e),function(e,t){oe.navigation&&null!=W(E)[0]&&(ce(W(u,W(E)[0]),s),ae(e?W('a[href="#'+e+'"]',W(E)[0]):W("a",W("li",W(E)[0])[t]),s))}(e,t)}function En(e){var t=ne(W(g)[0],h),n=ne(e,h);return t==n?"none":t>n?"up":"down"}function Ln(e){if(!K(e,B)){var n=t.createElement("div");n.className=m,n.style.height=xn(e)+"px",ae(e,B),de(e,n)}}function xn(e){var t=Ne;if(oe.paddingTop||oe.paddingBottom){var n=e;K(n,p)||(n=ve(e,h));var o=parseInt(getComputedStyle(n)["padding-top"])+parseInt(getComputedStyle(n)["padding-bottom"]);t=Ne-o}return t}function Tn(e,t){t?Sn(ze):yn(ze),Q(ze,zn(e)),Ae.test.translate3d=e,setTimeout(function(){ce(ze,i)},10)}function An(e){var t=W(h+'[data-anchor="'+e+'"]',ze)[0];if(!t){var n=void 0!==e?e-1:0;t=W(h)[n]}return t}function kn(e,t){var n=An(e);if(null!=n){var o=function(e,t){var n=W(M+'[data-anchor="'+e+'"]',t)[0];return null==n&&(e=void 0!==e?e:0,n=W(M,t)[e]),n}(t,n);e===Oe||K(n,s)?Mn(o):Ft(n,function(){Mn(o)})}}function Mn(e){null!=e&&hn(ve(e,H),e)}function On(e,t,n,o){var r="";oe.anchors.length&&!oe.lockAnchors&&(e?(null!=n&&(r=n),null==t&&(t=e),Ce=t,Cn(r+"/"+t)):null!=e?(Ce=t,Cn(n)):Cn(n)),In()}function Cn(t){if(oe.recordHistory)location.hash=t;else if(Be||je)e.history.replaceState(void 0,void 0,"#"+t);else{var n=e.location.href.split("#")[0];e.location.replace(n+"#"+t)}}function Hn(e){if(!e)return null;var t=e.getAttribute("data-anchor"),n=ne(e);return null==t&&(t=n),t}function In(){var e=W(g)[0],t=W(O,e)[0],n=Hn(e),o=Hn(t),r=String(n);t&&(r=r+"-"+o),r=r.replace("/","-").replace("#","");var i=new RegExp("\\b\\s?"+c+"-[^\\s]+\\b","g");ge.className=ge.className.replace(i,""),ae(ge,c+"-"+r)}function Rn(e){var t=[];return t.y=void 0!==e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,t.x=void 0!==e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,je&&Nt(e)&&oe.scrollBar&&void 0!==e.touches&&(t.y=e.touches[0].pageY,t.x=e.touches[0].pageX),t}function Bn(e,t){vt(0,"internal"),void 0!==t&&(Pe=!0),hn(ve(e,H),e),void 0!==t&&(Pe=!1),vt(et.scrollingSpeed,"internal")}function jn(e){var t=Math.round(e);if(oe.css3&&oe.autoScrolling&&!oe.scrollBar)Tn("translate3d(0px, -"+t+"px, 0px)",!1);else if(oe.autoScrolling&&!oe.scrollBar)Q(ze,{top:-t+"px"}),Ae.test.top=-t+"px";else{var n=Kt(t);_n(n.element,n.options)}}function zn(e){return{"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,transform:e}}function Nn(e,t,n){"all"!==t?Ye[n][t]=e:Object.keys(Ye[n]).forEach(function(t){Ye[n][t]=e})}function Pn(e,t,n){oe[e]=t,"internal"!==n&&(et[e]=t)}function Dn(){le||(U("error","Fullpage.js version 3 has changed its license to GPLv3 and it requires a `licenseKey` option. Read about it here:"),U("error","https://github.com/alvarotrigo/fullPage.js#options.")),K(W("html"),a)?U("error","Fullpage.js can only be initialized once and you are doing it multiple times!"):(oe.continuousVertical&&(oe.loopTop||oe.loopBottom)&&(oe.continuousVertical=!1,U("warn","Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),oe.scrollBar&&oe.scrollOverflow&&U("warn","Option `scrollBar` is mutually exclusive with `scrollOverflow`. Sections with scrollOverflow might not work well in Firefox"),!oe.continuousVertical||!oe.scrollBar&&oe.autoScrolling||(oe.continuousVertical=!1,U("warn","Scroll bars (`scrollBar:true` or `autoScrolling:false`) are mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),oe.scrollOverflow&&null==oe.scrollOverflowHandler&&(oe.scrollOverflow=!1,U("error","The option `scrollOverflow:true` requires the file `scrolloverflow.min.js`. Please include it before fullPage.js.")),["fadingEffect","continuousHorizontal","scrollHorizontally","interlockedSlides","resetSliders","responsiveSlides","offsetSections","dragAndMove","scrollOverflowReset","parallax"].forEach(function(e){oe[e]&&U("warn","fullpage.js extensions require fullpage.extensions.min.js file instead of the usual fullpage.js. Requested: "+e)}),oe.anchors.forEach(function(e){var t=[].slice.call(W("[name]")).filter(function(t){return t.getAttribute("name")&&t.getAttribute("name").toLowerCase()==e.toLowerCase()}),n=[].slice.call(W("[id]")).filter(function(t){return t.getAttribute("id")&&t.getAttribute("id").toLowerCase()==e.toLowerCase()});(n.length||t.length)&&(U("error","data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE)."),n.length&&U("error",'"'+e+'" is is being used by another element `id` property'),t.length&&U("error",'"'+e+'" is is being used by another element `name` property'))}))}function Vn(t,n,o,r){var i=function(t){return t.self!=e&&K(t,C)?t.scrollLeft:!oe.autoScrolling||oe.scrollBar?me():t.offsetTop}(t),l=n-i,a=0;Ge=!0;var c=function(){if(Ge){var s=n;a+=20,o&&(s=e.fp_easings[oe.easing](a,i,l,o)),_n(t,s),a<o?setTimeout(c,20):void 0!==r&&r()}else a<o&&r()};c()}function _n(t,n){!oe.autoScrolling||oe.scrollBar||t.self!=e&&K(t,C)?t.self!=e&&K(t,C)?t.scrollLeft=n:t.scrollTo(0,n):t.style.top=n+"px"}function Yn(e,t){this.anchor=e.getAttribute("data-anchor"),this.item=e,this.index=ne(e,t),this.isLast=this.index===W(t).length-1,this.isFirst=!this.index}function Fn(e){Yn.call(this,e,h)}Dn()}}),window.jQuery&&window.fullpage&&function(e,t){"use strict";e&&t?e.fn.fullpage=function(n){var o=new t("#"+e(this).attr("id"),n);Object.keys(o).forEach(function(t){e.fn.fullpage[t]=o[t]})}:window.fp_utils.showError("error","jQuery is required to use the jQuery fullpage adapter!")}(jQuery,fullpage)},function(e,t,n){"use strict";n.r(t);var o=n(0);new(n.n(o).a)("#myFullpage",{navigation:!0,sectionsColor:["#ff5f45","#0798ec","#fc6c7c","grey"]})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Z1bGxwYWdlLmpzL2Rpc3QvZnVsbHBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJyb290Iiwid2luZG93IiwiZG9jdW1lbnQiLCJmYWN0b3J5IiwidW5kZWZpbmVkIiwiZnVsbHBhZ2UiLCJ0aGlzIiwiV1JBUFBFUiIsIldSQVBQRVJfU0VMIiwiUkVTUE9OU0lWRSIsIk5PX1RSQU5TSVRJT04iLCJERVNUUk9ZRUQiLCJFTkFCTEVEIiwiVklFV0lOR19QUkVGSVgiLCJBQ1RJVkUiLCJBQ1RJVkVfU0VMIiwiQ09NUExFVEVMWSIsIkNPTVBMRVRFTFlfU0VMIiwiU0VDVElPTl9ERUZBVUxUX1NFTCIsIlNFQ1RJT04iLCJTRUNUSU9OX1NFTCIsIlNFQ1RJT05fQUNUSVZFX1NFTCIsIlRBQkxFX0NFTEwiLCJUQUJMRV9DRUxMX1NFTCIsIkFVVE9fSEVJR0hUIiwiTk9STUFMX1NDUk9MTCIsIlNFQ1RJT05fTkFWIiwiU0VDVElPTl9OQVZfU0VMIiwiU0VDVElPTl9OQVZfVE9PTFRJUCIsIlNFQ1RJT05fTkFWX1RPT0xUSVBfU0VMIiwiU0hPV19BQ1RJVkVfVE9PTFRJUCIsIlNMSURFX0RFRkFVTFRfU0VMIiwiU0xJREUiLCJTTElERV9TRUwiLCJTTElERV9BQ1RJVkVfU0VMIiwiU0xJREVTX1dSQVBQRVIiLCJTTElERVNfV1JBUFBFUl9TRUwiLCJTTElERVNfQ09OVEFJTkVSIiwiU0xJREVTX0NPTlRBSU5FUl9TRUwiLCJUQUJMRSIsIlNMSURFU19OQVYiLCJTTElERVNfTkFWX1NFTCIsIlNMSURFU19OQVZfTElOS19TRUwiLCJTTElERVNfQVJST1dfU0VMIiwiU0xJREVTX1BSRVYiLCJTTElERVNfQVJST1dfUFJFViIsIlNMSURFU19BUlJPVyIsIlNMSURFU19BUlJPV19QUkVWX1NFTCIsIlNMSURFU19BUlJPV19ORVhUIiwiU0xJREVTX0FSUk9XX05FWFRfU0VMIiwic2hvd0Vycm9yIiwidHlwZSIsInRleHQiLCJjb25zb2xlIiwiJCIsInNlbGVjdG9yIiwiY29udGV4dCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkZWVwRXh0ZW5kIiwib3V0Iiwib2JqIiwiaGFzQ2xhc3MiLCJlbCIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiUmVnRXhwIiwidGVzdCIsImdldFdpbmRvd0hlaWdodCIsImlubmVySGVpZ2h0IiwiZG9jdW1lbnRFbGVtZW50Iiwib2Zmc2V0SGVpZ2h0IiwiY3NzIiwiaXRlbXMiLCJwcm9wcyIsImdldExpc3QiLCJzdHlsZSIsInVudGlsIiwiaXRlbSIsImZuIiwic2libGluZyIsIm1hdGNoZXMiLCJwcmV2VW50aWwiLCJuZXh0VW50aWwiLCJwcmV2IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsIm5leHQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJsYXN0IiwiaW5kZXgiLCJpc0FycmF5T3JMaXN0IiwiY2hpbGRyZW4iLCJwYXJlbnROb2RlIiwiY2hpbGROb2RlcyIsIm51bSIsIm5vZGVUeXBlIiwiaGlkZSIsImRpc3BsYXkiLCJzaG93IiwidG9TdHJpbmciLCJhZGRDbGFzcyIsImFkZCIsInJlbW92ZUNsYXNzIiwiY2xhc3NOYW1lcyIsInNwbGl0IiwiYSIsInJlbW92ZSIsInJlcGxhY2UiLCJqb2luIiwiYXBwZW5kVG8iLCJwYXJlbnQiLCJhcHBlbmRDaGlsZCIsIndyYXAiLCJ0b1dyYXAiLCJ3cmFwcGVyIiwiaXNXcmFwQWxsIiwibmV3UGFyZW50IiwiY3JlYXRlRWxlbWVudCIsImNsb25lTm9kZSIsImluc2VydEJlZm9yZSIsIndyYXBBbGwiLCJ3cmFwSW5uZXIiLCJjcmVhdGVFbGVtZW50RnJvbUhUTUwiLCJmaXJzdENoaWxkIiwiY2xvc2VzdCIsImFmdGVyIiwicmVmZXJlbmNlIiwibmV4dFNpYmxpbmciLCJiZWZvcmUiLCJiZWZvcmVFbGVtZW50IiwiZ2V0U2Nyb2xsVG9wIiwiZG9jIiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUb3AiLCJjbGllbnRUb3AiLCJzaWJsaW5ncyIsIkFycmF5IiwiZmlsdGVyIiwiY2hpbGQiLCJwcmV2ZW50RGVmYXVsdCIsImV2ZW50IiwicmV0dXJuVmFsdWUiLCJpc0Z1bmN0aW9uIiwidHJpZ2dlciIsImV2ZW50TmFtZSIsImRhdGEiLCJDdXN0b21FdmVudCIsImRldGFpbCIsImNyZWF0ZUV2ZW50IiwiaW5pdEN1c3RvbUV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsIm1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsInRvZ2dsZSIsImh0bWxTdHJpbmciLCJkaXYiLCJpbm5lckhUTUwiLCJ0cmltIiwicGFyZW50RWxlbWVudCIsInJlbW92ZUNoaWxkIiwidW50aWxBbGwiLCJwdXNoIiwibmV4dEFsbCIsInByZXZBbGwiLCJOb2RlTGlzdCIsImZvckVhY2giLCJjYWxsYmFjayIsInRoaXNBcmciLCJmcF91dGlscyIsImZpbHRlckZuIiwiY29udGFpbmVyU2VsZWN0b3IiLCJvcHRpb25zIiwiaXNMaWNlbnNlVmFsaWQiLCJsaWNlbnNlS2V5IiwiZG9tYWluIiwiaW5kZXhPZiIsIiRodG1sQm9keSIsIiRib2R5IiwiRlAiLCJtZW51IiwiYW5jaG9ycyIsImxvY2tBbmNob3JzIiwibmF2aWdhdGlvbiIsIm5hdmlnYXRpb25Qb3NpdGlvbiIsIm5hdmlnYXRpb25Ub29sdGlwcyIsInNob3dBY3RpdmVUb29sdGlwIiwic2xpZGVzTmF2aWdhdGlvbiIsInNsaWRlc05hdlBvc2l0aW9uIiwic2Nyb2xsQmFyIiwiaHlicmlkIiwiY3NzMyIsInNjcm9sbGluZ1NwZWVkIiwiYXV0b1Njcm9sbGluZyIsImZpdFRvU2VjdGlvbiIsImZpdFRvU2VjdGlvbkRlbGF5IiwiZWFzaW5nIiwiZWFzaW5nY3NzMyIsImxvb3BCb3R0b20iLCJsb29wVG9wIiwibG9vcEhvcml6b250YWwiLCJjb250aW51b3VzVmVydGljYWwiLCJjb250aW51b3VzSG9yaXpvbnRhbCIsInNjcm9sbEhvcml6b250YWxseSIsImludGVybG9ja2VkU2xpZGVzIiwiZHJhZ0FuZE1vdmUiLCJvZmZzZXRTZWN0aW9ucyIsInJlc2V0U2xpZGVycyIsImZhZGluZ0VmZmVjdCIsIm5vcm1hbFNjcm9sbEVsZW1lbnRzIiwic2Nyb2xsT3ZlcmZsb3ciLCJzY3JvbGxPdmVyZmxvd1Jlc2V0Iiwic2Nyb2xsT3ZlcmZsb3dIYW5kbGVyIiwiZnBfc2Nyb2xsb3ZlcmZsb3ciLCJpc2Nyb2xsSGFuZGxlciIsInNjcm9sbE92ZXJmbG93T3B0aW9ucyIsInRvdWNoU2Vuc2l0aXZpdHkiLCJub3JtYWxTY3JvbGxFbGVtZW50VG91Y2hUaHJlc2hvbGQiLCJiaWdTZWN0aW9uc0Rlc3RpbmF0aW9uIiwia2V5Ym9hcmRTY3JvbGxpbmciLCJhbmltYXRlQW5jaG9yIiwicmVjb3JkSGlzdG9yeSIsImNvbnRyb2xBcnJvd3MiLCJjb250cm9sQXJyb3dDb2xvciIsInZlcnRpY2FsQ2VudGVyZWQiLCJzZWN0aW9uc0NvbG9yIiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJmaXhlZEVsZW1lbnRzIiwicmVzcG9uc2l2ZSIsInJlc3BvbnNpdmVXaWR0aCIsInJlc3BvbnNpdmVIZWlnaHQiLCJyZXNwb25zaXZlU2xpZGVzIiwicGFyYWxsYXgiLCJwYXJhbGxheE9wdGlvbnMiLCJwZXJjZW50YWdlIiwic2VjdGlvblNlbGVjdG9yIiwic2xpZGVTZWxlY3RvciIsInYyY29tcGF0aWJsZSIsImFmdGVyTG9hZCIsIm9uTGVhdmUiLCJhZnRlclJlbmRlciIsImFmdGVyUmVzaXplIiwiYWZ0ZXJSZUJ1aWxkIiwiYWZ0ZXJTbGlkZUxvYWQiLCJvblNsaWRlTGVhdmUiLCJhZnRlclJlc3BvbnNpdmUiLCJsYXp5TG9hZGluZyIsImxhc3RTY3JvbGxlZERlc3RpbnkiLCJsYXN0U2Nyb2xsZWRTbGlkZSIsImNvbnRyb2xQcmVzc2VkIiwic3RhcnRpbmdTZWN0aW9uIiwic2xpZGVNb3ZpbmciLCJpc1RvdWNoRGV2aWNlIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibWF0Y2giLCJpc1RvdWNoIiwibXNNYXhUb3VjaFBvaW50cyIsImNvbnRhaW5lciIsIndpbmRvd3NIZWlnaHQiLCJpc1Jlc2l6aW5nIiwiaXNXaW5kb3dGb2N1c2VkIiwiY2FuU2Nyb2xsIiwic2Nyb2xsaW5ncyIsImlzU2Nyb2xsQWxsb3dlZCIsInVwIiwiZG93biIsImxlZnQiLCJyaWdodCIsImsiLCJzY3JvbGxCYXJIYW5kbGVyIiwicmVzaXplSWQiLCJhZnRlclNlY3Rpb25Mb2Fkc0lkIiwiYWZ0ZXJTbGlkZUxvYWRzSWQiLCJzY3JvbGxJZCIsInNjcm9sbElkMiIsImtleWRvd25JZCIsImFjdGl2ZUFuaW1hdGlvbiIsIk1TUG9pbnRlciIsIlBvaW50ZXJFdmVudCIsIm1vdmUiLCJldmVudHMiLCJ0b3VjaG1vdmUiLCJ0b3VjaHN0YXJ0IiwiZm9jdXNhYmxlRWxlbWVudHNTdHJpbmciLCJvcmlnaW5hbHMiLCJkaXNwbGF5V2FybmluZ3MiLCJmcF9lYXNpbmdzIiwiZWFzZUluT3V0Q3ViaWMiLCJiIiwidmVyc2lvbiIsInNldEF1dG9TY3JvbGxpbmciLCJzZXRSZWNvcmRIaXN0b3J5Iiwic2V0U2Nyb2xsaW5nU3BlZWQiLCJzZXRGaXRUb1NlY3Rpb24iLCJzZXRMb2NrQW5jaG9ycyIsInNldE1vdXNlV2hlZWxTY3JvbGxpbmciLCJzZXRBbGxvd1Njcm9sbGluZyIsInNldEtleWJvYXJkU2Nyb2xsaW5nIiwibW92ZVNlY3Rpb25VcCIsIm1vdmVTZWN0aW9uRG93biIsInNpbGVudE1vdmVUbyIsIm1vdmVUbyIsIm1vdmVTbGlkZVJpZ2h0IiwibW92ZVNsaWRlTGVmdCIsInJlQnVpbGQiLCJzZXRSZXNwb25zaXZlIiwiZ2V0RnVsbHBhZ2VEYXRhIiwiZGVzdHJveSIsImFsbCIsImNsZWFyVGltZW91dCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzY3JvbGxIYW5kbGVyIiwiaGFzaENoYW5nZUhhbmRsZXIiLCJyZXNpemVIYW5kbGVyIiwia2V5ZG93bkhhbmRsZXIiLCJrZXlVcEhhbmRsZXIiLCJjbGlja1RvdWNoRXZlbnRzIiwic2VjdGlvbkJ1bGxldEhhbmRsZXIiLCJ0b29sdGlwVGV4dEhhbmRsZXIiLCJzbGlkZUFycm93SGFuZGxlciIsInNsaWRlQnVsbGV0SGFuZGxlciIsImZvbyIsIm9uTW91c2VFbnRlck9yTGVhdmUiLCJzaWxlbnRTY3JvbGwiLCJzZXRTcmMiLCJoZWlnaHQiLCJiYWNrZ3JvdW5kLWNvbG9yIiwicGFkZGluZyIsIndpZHRoIiwicG9zaXRpb24iLCItbXMtdG91Y2gtYWN0aW9uIiwidG91Y2gtYWN0aW9uIiwib3ZlcmZsb3ciLCJwcmV2aW91c1N0eWxlcyIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUFuaW1hdGlvbiIsIm91dGVySFRNTCIsIi13ZWJraXQtdHJhbnNpdGlvbiIsInRyYW5zaXRpb24iLCJzY3JvbGxUbyIsImdldEFjdGl2ZVNlY3Rpb24iLCJTZWN0aW9uIiwiZ2V0QWN0aXZlU2xpZGUiLCJudWxsT3JTbGlkZSIsInRvcCIsInRyYW5zbGF0ZTNkIiwidHJhbnNsYXRlM2RIIiwic2hhcmVkIiwiYWZ0ZXJSZW5kZXJBY3Rpb25zIiwiZnVsbHBhZ2VfYXBpIiwiaGFzM2QiLCJ0cmFuc2Zvcm1zIiwid2Via2l0VHJhbnNmb3JtIiwiT1RyYW5zZm9ybSIsIm1zVHJhbnNmb3JtIiwiTW96VHJhbnNmb3JtIiwidHJhbnNmb3JtIiwiYm9keSIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwic3VwcG9ydDNkIiwiYXR0ck5hbWUiLCJ0b29sdGlwcyIsInNldE9wdGlvbnNGcm9tRE9NIiwic2VjdGlvbnMiLCJzZWN0aW9uSW5kZXgiLCJzZWN0aW9uIiwic2xpZGVzIiwibnVtU2xpZGVzIiwic3R5bGVTZWN0aW9uIiwic3R5bGVNZW51Iiwic3R5bGVTbGlkZXMiLCJhZGRUYWJsZUNsYXNzIiwiZGl2VWwiLCJuYXYiLCJsaSIsImxpbmsiLCJ0b29sdGlwIiwibWFyZ2luLXRvcCIsImFkZFZlcnRpY2FsTmF2aWdhdGlvbiIsImVsZW1lbnQiLCJuZXdQYXJhbSIsIm9yaWdpbmFsU3JjIiwidXJsIiwiZ2V0VXJsUGFyYW1TaWduIiwiYWRkVVJMUGFyYW0iLCJpbml0IiwicHJlcGFyZURvbSIsInNldEJvZHlDbGFzcyIsInJlYWR5U3RhdGUiLCJzY3JvbGxUb0FuY2hvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJibHVySGFuZGxlciIsImUiLCJ0YXJnZXQiLCJmb3JNb3VzZUxlYXZlT3JUT3VjaCIsImlzU2Nyb2xsaW5nIiwibGFzdFNjcm9sbCIsInRvdWNoU3RhcnRZIiwidG91Y2hTdGFydFgiLCJ0b3VjaEVuZFkiLCJ0b3VjaEVuZFgiLCJwcmV2VGltZSIsIkRhdGUiLCJnZXRUaW1lIiwicHJldmlvdXNEZXN0VG9wIiwib2xkUGFnZVkiLCJwcmV2aW91c0hlaWdodCIsInNldFZhcmlhYmxlU3RhdGUiLCJvZmZzZXRUb3AiLCJzY3JvbGxTZXR0aW5ncyIsImdldFNjcm9sbFNldHRpbmdzIiwiX2FkZEV2ZW50TGlzdGVuZXIiLCJwcmVmaXgiLCJzdXBwb3J0Iiwib25tb3VzZXdoZWVsIiwiTW91c2VXaGVlbEhhbmRsZXIiLCJhZGRNb3VzZVdoZWVsSGFuZGxlciIsIm1vdXNlRG93bkhhbmRsZXIiLCJtb3VzZVVwSGFuZGxlciIsImRldGFjaEV2ZW50IiwiZGlyZWN0aW9ucyIsImRpcmVjdGlvbiIsInNldElzU2Nyb2xsQWxsb3dlZCIsInByZXZlbnRCb3VuY2luZyIsInBhc3NpdmUiLCJ0b3VjaFN0YXJ0SGFuZGxlciIsInRvdWNoTW92ZUhhbmRsZXIiLCJzY3JvbGxQYWdlIiwic2VjdGlvbkFuY2hvciIsInNsaWRlQW5jaG9yIiwiZGVzdGlueSIsImdldFNlY3Rpb25CeUFuY2hvciIsInNjcm9sbFBhZ2VBbmRTbGlkZSIsIm1vdmVTbGlkZSIsInJlc2l6aW5nIiwic2xpZGVzV3JhcCIsImdldFRhYmxlSGVpZ2h0IiwibGFuZHNjYXBlU2Nyb2xsIiwiY3JlYXRlU2Nyb2xsQmFyRm9yQWxsIiwiaW5uZXJXaWR0aCIsImFjdGl2ZSIsImlzUmVzcG9uc2l2ZSIsImFsbG93U2Nyb2xsaW5nIiwibm9ybWFsU2VsZWN0b3IiLCJzbGlkZXJXaWR0aCIsInNsaWRlV2lkdGgiLCJzbGlkZXNXcmFwcGVyIiwic2xpZGVzQ29udGFpbmVyIiwiYXJyb3dzIiwiYm9yZGVyLWNvbG9yIiwiY3JlYXRlU2xpZGVBcnJvd3MiLCJtYXJnaW4tbGVmdCIsImFkZFNsaWRlc05hdmlnYXRpb24iLCJzbGlkZSIsInN0YXJ0aW5nU2xpZGUiLCJzaWxlbnRMYW5kc2NhcGVTY3JvbGwiLCJwYWRkaW5nLXRvcCIsInBhZGRpbmctYm90dG9tIiwiYWN0aXZhdGVNZW51QW5kTmF2IiwibGF6eUxvYWQiLCJwbGF5TWVkaWEiLCJkZXN0aW5hdGlvblNlY3Rpb24iLCJnZXRBbmNob3JzVVJMIiwiaXNEZXN0aW55VGhlU3RhcnRpbmdTZWN0aW9uIiwiZmlyZUNhbGxiYWNrIiwiYWN0aXZlU2VjdGlvbiIsImFuY2hvckxpbmsiLCJjdXJyZW50U2VjdGlvbiIsImN1cnJlbnRTY3JvbGwiLCJzY3JvbGxEaXJlY3Rpb24iLCJnZXRTY3JvbGxEaXJlY3Rpb24iLCJ2aXNpYmxlU2VjdGlvbkluZGV4Iiwic2NyZWVuX21pZCIsImlzQXRCb3R0b20iLCJtb3ZlbWVudCIsImJvdHRvbSIsImlzQ29tcGxldGVseUluVmlld1BvcnQiLCJzbGlkZUluZGV4Iiwic2xpZGVBbmNob3JMaW5rIiwibGVhdmluZ1NlY3Rpb24iLCJsZWF2aW5nU2VjdGlvbkluZGV4IiwieU1vdmVtZW50IiwiZ2V0WW1vdmVtZW50IiwiYWN0aXZlU2xpZGUiLCJjYWxsYmFja3NQYXJhbXMiLCJzdG9wTWVkaWEiLCJzZXRTdGF0ZSIsInNldFRpbWVvdXQiLCJzY3JvbGxpbmciLCJzY3JvbGxTZWN0aW9uIiwic2Nyb2xsYWJsZSIsImNoZWNrIiwiaXNTY3JvbGxlZCIsImlzUmVhbGx5VG91Y2giLCJ0b3VjaEV2ZW50cyIsImdldEV2ZW50c1BhZ2UiLCJ5IiwieCIsIk1hdGgiLCJhYnMiLCJwb2ludGVyVHlwZSIsImdldEF2ZXJhZ2UiLCJlbGVtZW50cyIsIm51bWJlciIsInN1bSIsImxhc3RFbGVtZW50cyIsInNsaWNlIiwibWF4IiwiY2VpbCIsImN1clRpbWUiLCJpc05vcm1hbFNjcm9sbCIsIndoZWVsRGVsdGEiLCJkZWx0YVkiLCJkZWx0YSIsIm1pbiIsImhvcml6b250YWxEZXRlY3Rpb24iLCJ3aGVlbERlbHRhWCIsImRlbHRhWCIsImlzU2Nyb2xsaW5nVmVydGljYWxseSIsInNoaWZ0IiwidGltZURpZmYiLCJjdXJyZW50U2xpZGUiLCJzbGlkZVNpYmxpbmdzIiwiaXNUZXN0aW5nIiwia2VlcFNsaWRlc1Bvc2l0aW9uIiwiYWN0aXZlU2xpZGVzIiwiaXNNb3ZlbWVudFVwIiwidiIsImR0b3AiLCJlbGVtZW50SGVpZ2h0IiwiZWxlbWVudFRvcCIsImlzU2Nyb2xsaW5nRG93biIsInNlY3Rpb25Cb3R0b20iLCJnZXREZXN0aW5hdGlvblBvc2l0aW9uIiwibG9jYWxJc1Jlc2l6aW5nIiwicmV2ZXJzZSIsIndyYXBBcm91bmRFbGVtZW50cyIsImNyZWF0ZUluZmluaXRlU2VjdGlvbnMiLCJiZWZvcmVMZWF2ZSIsInJvdW5kIiwidHJhbnNmb3JtQ29udGFpbmVyIiwiYWZ0ZXJTZWN0aW9uTG9hZHMiLCJwZXJmb3JtTW92ZW1lbnQiLCJldmVudERhdGEiLCJwYXJhbXNQZXJFdmVudCIsInByZXZTbGlkZSIsInByZXZTbGlkZUluZGV4IiwibnVsbE9yU2VjdGlvbiIsIm9yaWdpbiIsImRlc3RpbmF0aW9uIiwiZ2V0RXZlbnREYXRhIiwiYXBwbHkiLCJrZXlzIiwib2JqZWN0RGF0YSIsIm1hcCIsInRvQXJyYXkiLCJJdGVtIiwic2Nyb2xsIiwiY29udGludW91c1ZlcnRpY2FsRml4U2VjdGlvbk9yZGVyIiwiYXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiZ2V0U2xpZGVPclNlY3Rpb24iLCJlbGVtZW50VG9QbGF5IiwibG9hZCIsInBhbmVsIiwiaGFzQXR0cmlidXRlIiwicGxheSIsInBsYXlZb3V0dWJlIiwib25sb2FkIiwiY29udGVudFdpbmRvdyIsInBvc3RNZXNzYWdlIiwicGF1c2UiLCJpc0ZpcnN0U2xpZGVNb3ZlIiwiaXNGaXJzdFNjcm9sbE1vdmUiLCJoYXNoIiwibG9jYXRpb24iLCJhbmNob3JzUGFydHMiLCJpc0Z1bmt5QW5jaG9yIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiYWN0aXZlRWxlbWVudCIsImtleUNvZGUiLCJpc1NoaWZ0UHJlc3NlZCIsInNoaWZ0S2V5IiwiZm9jdXNhYmxlRWxlbWVudHMiLCJwcmV2ZW50QW5kRm9jdXNGaXJzdCIsImZvY3VzIiwib25UYWIiLCJjdHJsS2V5Iiwic2hpZnRQcmVzc2VkIiwib25rZXlkb3duIiwid2hpY2giLCJwYWdlWSIsIm1vdXNlTW92ZUhhbmRsZXIiLCJpbmRleEJ1bGxldCIsImRlc3RpbnlQb3MiLCJvZmZzZXRMZWZ0Iiwic2xpZGVzTmF2IiwiZ2V0QW5jaG9yIiwieE1vdmVtZW50IiwiZnJvbUluZGV4IiwidG9JbmRleCIsImdldFhtb3ZlbWVudCIsImFkZEFuaW1hdGlvbiIsImdldFRyYW5zZm9ybXMiLCJhZnRlclNsaWRlTG9hZHMiLCJwZXJmb3JtSG9yaXpvbnRhbE1vdmUiLCJhY3RpdmVTbGlkZXNOYXZpZ2F0aW9uIiwiY3VycmVudEhlaWdodCIsIndpZHRoTGltaXQiLCJoZWlnaHRMaW1pdCIsImlzQnJlYWtpbmdQb2ludFdpZHRoIiwiaXNCcmVha2luZ1BvaW50SGVpZ2h0IiwiYW5jaG9yIiwiYWN0aXZhdGVNZW51RWxlbWVudCIsImFjdGl2YXRlTmF2RG90cyIsInNlY3Rpb25IZWlnaHQiLCJwYWRkaW5ncyIsInBhcnNlSW50IiwiYW5pbWF0ZWQiLCJnZXRTbGlkZUJ5QW5jaG9yIiwic2Nyb2xsU2xpZGVyIiwic2VjdGlvbkhhc2giLCJzZXRVcmxIYXNoIiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsImJhc2VVcmwiLCJocmVmIiwiZWxlbWVudEluZGV4IiwiU3RyaW5nIiwiY2xhc3NSZSIsInBhZ2VYIiwidG91Y2hlcyIsIm5vQ2FsbGJhY2tzIiwicm91bmRlZFRvcCIsInNldFNjcm9sbGluZyIsIi13ZWJraXQtdHJhbnNmb3JtIiwiLW1vei10cmFuc2Zvcm0iLCItbXMtdHJhbnNmb3JtIiwidmFyaWFibGUiLCJleHRlbnNpb24iLCJuYW1lQXR0ciIsInRvTG93ZXJDYXNlIiwiaWRBdHRyIiwidG8iLCJkdXJhdGlvbiIsInN0YXJ0Iiwic2VsZiIsInNjcm9sbExlZnQiLCJnZXRTY3JvbGxlZFBvc2l0aW9uIiwiY2hhbmdlIiwiY3VycmVudFRpbWUiLCJhbmltYXRlU2Nyb2xsIiwidmFsIiwiaXNMYXN0IiwiaXNGaXJzdCIsImpRdWVyeSIsImF0dHIiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiZnVsbHBhZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixF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SUFBQU8sRUFBQSxJQUFBbEwsRUFBQSxJQUFBaUQsRUFBQWhELE1BQUFrcEIsS0FBQSxNQUFBeGUsR0FHQXZNLE9BQUF1a0IsS0FBQXpYLEdBQUFiLFFBQUEsU0FBQXBMLEdBQ0FnRSxFQUFBMkIsR0FBQTVFLFNBQUFmLEdBQUFpTSxFQUFBak0sTUFUQVcsT0FBQTRLLFNBQUEzSCxVQUFBLGtFQUxBLENBaUJLcW1CLE9BQUFscEIsd0NDM3hITDFDLEVBQUFrQixFQUFBNHFCLEdBQUEsSUFBQUMsRUFBQS9yQixFQUFBLEdBY0EsSUFkQUEsRUFBQTZCLEVBQUFrcUIsR0FjMkIvaUIsR0FBUSxlQUNuQ2dGLFlBQUEsRUFDQTBDLGVBQUEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsIi8qIVxyXG4gKiBmdWxsUGFnZSAzLjAuMlxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vYWx2YXJvdHJpZ28vZnVsbFBhZ2UuanNcclxuICpcclxuICogQGxpY2Vuc2UgR1BMdjMgZm9yIG9wZW4gc291cmNlIHVzZSBvbmx5XHJcbiAqIG9yIEZ1bGxwYWdlIENvbW1lcmNpYWwgTGljZW5zZSBmb3IgY29tbWVyY2lhbCB1c2VcclxuICogaHR0cDovL2FsdmFyb3RyaWdvLmNvbS9mdWxsUGFnZS9wcmljaW5nL1xyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTggaHR0cDovL2FsdmFyb3RyaWdvLmNvbS9mdWxsUGFnZSAtIEEgcHJvamVjdCBieSBBbHZhcm8gVHJpZ29cclxuICovXHJcbihmdW5jdGlvbiggcm9vdCwgd2luZG93LCBkb2N1bWVudCwgZmFjdG9yeSwgdW5kZWZpbmVkKSB7XHJcbiAgICBpZiggdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xyXG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cclxuICAgICAgICBkZWZpbmUoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByb290LmZ1bGxwYWdlID0gZmFjdG9yeSh3aW5kb3csIGRvY3VtZW50KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJvb3QuZnVsbHBhZ2U7XHJcbiAgICAgICAgfSApO1xyXG4gICAgfSBlbHNlIGlmKCB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgKSB7XHJcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUy5cclxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3Rvcnkod2luZG93LCBkb2N1bWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscy5cclxuICAgICAgICB3aW5kb3cuZnVsbHBhZ2UgPSBmYWN0b3J5KHdpbmRvdywgZG9jdW1lbnQpO1xyXG4gICAgfVxyXG59KHRoaXMsIHdpbmRvdywgZG9jdW1lbnQsIGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQpe1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIC8vIGtlZXBpbmcgY2VudHJhbCBzZXQgb2YgY2xhc3NuYW1lcyBhbmQgc2VsZWN0b3JzXHJcbiAgICB2YXIgV1JBUFBFUiA9ICAgICAgICAgICAgICAgJ2Z1bGxwYWdlLXdyYXBwZXInO1xyXG4gICAgdmFyIFdSQVBQRVJfU0VMID0gICAgICAgICAgICcuJyArIFdSQVBQRVI7XHJcblxyXG4gICAgLy8gc2xpbXNjcm9sbFxyXG4gICAgdmFyIFNDUk9MTEFCTEUgPSAgICAgICAgICAgICdmcC1zY3JvbGxhYmxlJztcclxuICAgIHZhciBTQ1JPTExBQkxFX1NFTCA9ICAgICAgICAnLicgKyBTQ1JPTExBQkxFO1xyXG5cclxuICAgIC8vIHV0aWxcclxuICAgIHZhciBSRVNQT05TSVZFID0gICAgICAgICAgICAnZnAtcmVzcG9uc2l2ZSc7XHJcbiAgICB2YXIgTk9fVFJBTlNJVElPTiA9ICAgICAgICAgJ2ZwLW5vdHJhbnNpdGlvbic7XHJcbiAgICB2YXIgREVTVFJPWUVEID0gICAgICAgICAgICAgJ2ZwLWRlc3Ryb3llZCc7XHJcbiAgICB2YXIgRU5BQkxFRCA9ICAgICAgICAgICAgICAgJ2ZwLWVuYWJsZWQnO1xyXG4gICAgdmFyIFZJRVdJTkdfUFJFRklYID0gICAgICAgICdmcC12aWV3aW5nJztcclxuICAgIHZhciBBQ1RJVkUgPSAgICAgICAgICAgICAgICAnYWN0aXZlJztcclxuICAgIHZhciBBQ1RJVkVfU0VMID0gICAgICAgICAgICAnLicgKyBBQ1RJVkU7XHJcbiAgICB2YXIgQ09NUExFVEVMWSA9ICAgICAgICAgICAgJ2ZwLWNvbXBsZXRlbHknO1xyXG4gICAgdmFyIENPTVBMRVRFTFlfU0VMID0gICAgICAgICcuJyArIENPTVBMRVRFTFk7XHJcblxyXG4gICAgLy8gc2VjdGlvblxyXG4gICAgdmFyIFNFQ1RJT05fREVGQVVMVF9TRUwgPSAgICcuc2VjdGlvbic7XHJcbiAgICB2YXIgU0VDVElPTiA9ICAgICAgICAgICAgICAgJ2ZwLXNlY3Rpb24nO1xyXG4gICAgdmFyIFNFQ1RJT05fU0VMID0gICAgICAgICAgICcuJyArIFNFQ1RJT047XHJcbiAgICB2YXIgU0VDVElPTl9BQ1RJVkVfU0VMID0gICAgU0VDVElPTl9TRUwgKyBBQ1RJVkVfU0VMO1xyXG4gICAgdmFyIFRBQkxFX0NFTEwgPSAgICAgICAgICAgICdmcC10YWJsZUNlbGwnO1xyXG4gICAgdmFyIFRBQkxFX0NFTExfU0VMID0gICAgICAgICcuJyArIFRBQkxFX0NFTEw7XHJcbiAgICB2YXIgQVVUT19IRUlHSFQgPSAgICAgICAgICAgJ2ZwLWF1dG8taGVpZ2h0JztcclxuICAgIHZhciBBVVRPX0hFSUdIVF9TRUwgPSAgICAgICAnLicgKyBBVVRPX0hFSUdIVDtcclxuICAgIHZhciBOT1JNQUxfU0NST0xMID0gICAgICAgICAnZnAtbm9ybWFsLXNjcm9sbCc7XHJcbiAgICB2YXIgTk9STUFMX1NDUk9MTF9TRUwgPSAgICAgJy4nICsgTk9STUFMX1NDUk9MTDtcclxuXHJcbiAgICAvLyBzZWN0aW9uIG5hdlxyXG4gICAgdmFyIFNFQ1RJT05fTkFWID0gICAgICAgICAgICdmcC1uYXYnO1xyXG4gICAgdmFyIFNFQ1RJT05fTkFWX1NFTCA9ICAgICAgICcjJyArIFNFQ1RJT05fTkFWO1xyXG4gICAgdmFyIFNFQ1RJT05fTkFWX1RPT0xUSVAgPSAgICdmcC10b29sdGlwJztcclxuICAgIHZhciBTRUNUSU9OX05BVl9UT09MVElQX1NFTD0nLicrU0VDVElPTl9OQVZfVE9PTFRJUDtcclxuICAgIHZhciBTSE9XX0FDVElWRV9UT09MVElQID0gICAnZnAtc2hvdy1hY3RpdmUnO1xyXG5cclxuICAgIC8vIHNsaWRlXHJcbiAgICB2YXIgU0xJREVfREVGQVVMVF9TRUwgPSAgICAgJy5zbGlkZSc7XHJcbiAgICB2YXIgU0xJREUgPSAgICAgICAgICAgICAgICAgJ2ZwLXNsaWRlJztcclxuICAgIHZhciBTTElERV9TRUwgPSAgICAgICAgICAgICAnLicgKyBTTElERTtcclxuICAgIHZhciBTTElERV9BQ1RJVkVfU0VMID0gICAgICBTTElERV9TRUwgKyBBQ1RJVkVfU0VMO1xyXG4gICAgdmFyIFNMSURFU19XUkFQUEVSID0gICAgICAgICdmcC1zbGlkZXMnO1xyXG4gICAgdmFyIFNMSURFU19XUkFQUEVSX1NFTCA9ICAgICcuJyArIFNMSURFU19XUkFQUEVSO1xyXG4gICAgdmFyIFNMSURFU19DT05UQUlORVIgPSAgICAgICdmcC1zbGlkZXNDb250YWluZXInO1xyXG4gICAgdmFyIFNMSURFU19DT05UQUlORVJfU0VMID0gICcuJyArIFNMSURFU19DT05UQUlORVI7XHJcbiAgICB2YXIgVEFCTEUgPSAgICAgICAgICAgICAgICAgJ2ZwLXRhYmxlJztcclxuXHJcbiAgICAvLyBzbGlkZSBuYXZcclxuICAgIHZhciBTTElERVNfTkFWID0gICAgICAgICAgICAnZnAtc2xpZGVzTmF2JztcclxuICAgIHZhciBTTElERVNfTkFWX1NFTCA9ICAgICAgICAnLicgKyBTTElERVNfTkFWO1xyXG4gICAgdmFyIFNMSURFU19OQVZfTElOS19TRUwgPSAgIFNMSURFU19OQVZfU0VMICsgJyBhJztcclxuICAgIHZhciBTTElERVNfQVJST1cgPSAgICAgICAgICAnZnAtY29udHJvbEFycm93JztcclxuICAgIHZhciBTTElERVNfQVJST1dfU0VMID0gICAgICAnLicgKyBTTElERVNfQVJST1c7XHJcbiAgICB2YXIgU0xJREVTX1BSRVYgPSAgICAgICAgICAgJ2ZwLXByZXYnO1xyXG4gICAgdmFyIFNMSURFU19QUkVWX1NFTCA9ICAgICAgICcuJyArIFNMSURFU19QUkVWO1xyXG4gICAgdmFyIFNMSURFU19BUlJPV19QUkVWID0gICAgIFNMSURFU19BUlJPVyArICcgJyArIFNMSURFU19QUkVWO1xyXG4gICAgdmFyIFNMSURFU19BUlJPV19QUkVWX1NFTCA9IFNMSURFU19BUlJPV19TRUwgKyBTTElERVNfUFJFVl9TRUw7XHJcbiAgICB2YXIgU0xJREVTX05FWFQgPSAgICAgICAgICAgJ2ZwLW5leHQnO1xyXG4gICAgdmFyIFNMSURFU19ORVhUX1NFTCA9ICAgICAgICcuJyArIFNMSURFU19ORVhUO1xyXG4gICAgdmFyIFNMSURFU19BUlJPV19ORVhUID0gICAgIFNMSURFU19BUlJPVyArICcgJyArIFNMSURFU19ORVhUO1xyXG4gICAgdmFyIFNMSURFU19BUlJPV19ORVhUX1NFTCA9IFNMSURFU19BUlJPV19TRUwgKyBTTElERVNfTkVYVF9TRUw7XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdGlhbGlzZShjb250YWluZXJTZWxlY3Rvciwgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBpc0xpY2Vuc2VWYWxpZCA9IG9wdGlvbnMgJiYgbmV3IFJlZ0V4cCgnKFtcXFxcZFxcXFx3XXs4fS0pezN9W1xcXFxkXFxcXHddezh9fE9QRU4tU09VUkNFLUdQTFYzLUxJQ0VOU0UnKS50ZXN0KG9wdGlvbnMubGljZW5zZUtleSkgfHwgZG9jdW1lbnQuZG9tYWluLmluZGV4T2YoJ2FsdmFyb3RyaWdvLmNvbScpID4gLTE7XHJcblxyXG4gICAgICAgIC8vb25seSBvbmNlIG15IGZyaWVuZCFcclxuICAgICAgICBpZihoYXNDbGFzcygkKCdodG1sJyksIEVOQUJMRUQpKXsgZGlzcGxheVdhcm5pbmdzKCk7IHJldHVybjsgfVxyXG5cclxuICAgICAgICAvLyBjb21tb24galF1ZXJ5IG9iamVjdHNcclxuICAgICAgICB2YXIgJGh0bWxCb2R5ID0gJCgnaHRtbCwgYm9keScpO1xyXG4gICAgICAgIHZhciAkYm9keSA9ICQoJ2JvZHknKVswXTtcclxuXHJcbiAgICAgICAgdmFyIEZQID0ge307XHJcblxyXG4gICAgICAgIC8vIENyZWF0aW5nIHNvbWUgZGVmYXVsdHMsIGV4dGVuZGluZyB0aGVtIHdpdGggYW55IG9wdGlvbnMgdGhhdCB3ZXJlIHByb3ZpZGVkXHJcbiAgICAgICAgb3B0aW9ucyA9IGRlZXBFeHRlbmQoe1xyXG4gICAgICAgICAgICAvL25hdmlnYXRpb25cclxuICAgICAgICAgICAgbWVudTogZmFsc2UsXHJcbiAgICAgICAgICAgIGFuY2hvcnM6W10sXHJcbiAgICAgICAgICAgIGxvY2tBbmNob3JzOiBmYWxzZSxcclxuICAgICAgICAgICAgbmF2aWdhdGlvbjogZmFsc2UsXHJcbiAgICAgICAgICAgIG5hdmlnYXRpb25Qb3NpdGlvbjogJ3JpZ2h0JyxcclxuICAgICAgICAgICAgbmF2aWdhdGlvblRvb2x0aXBzOiBbXSxcclxuICAgICAgICAgICAgc2hvd0FjdGl2ZVRvb2x0aXA6IGZhbHNlLFxyXG4gICAgICAgICAgICBzbGlkZXNOYXZpZ2F0aW9uOiBmYWxzZSxcclxuICAgICAgICAgICAgc2xpZGVzTmF2UG9zaXRpb246ICdib3R0b20nLFxyXG4gICAgICAgICAgICBzY3JvbGxCYXI6IGZhbHNlLFxyXG4gICAgICAgICAgICBoeWJyaWQ6IGZhbHNlLFxyXG5cclxuICAgICAgICAgICAgLy9zY3JvbGxpbmdcclxuICAgICAgICAgICAgY3NzMzogdHJ1ZSxcclxuICAgICAgICAgICAgc2Nyb2xsaW5nU3BlZWQ6IDcwMCxcclxuICAgICAgICAgICAgYXV0b1Njcm9sbGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgZml0VG9TZWN0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgICBmaXRUb1NlY3Rpb25EZWxheTogMTAwMCxcclxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZUluT3V0Q3ViaWMnLFxyXG4gICAgICAgICAgICBlYXNpbmdjc3MzOiAnZWFzZScsXHJcbiAgICAgICAgICAgIGxvb3BCb3R0b206IGZhbHNlLFxyXG4gICAgICAgICAgICBsb29wVG9wOiBmYWxzZSxcclxuICAgICAgICAgICAgbG9vcEhvcml6b250YWw6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbnRpbnVvdXNWZXJ0aWNhbDogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvbnRpbnVvdXNIb3Jpem9udGFsOiBmYWxzZSxcclxuICAgICAgICAgICAgc2Nyb2xsSG9yaXpvbnRhbGx5OiBmYWxzZSxcclxuICAgICAgICAgICAgaW50ZXJsb2NrZWRTbGlkZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICBkcmFnQW5kTW92ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIG9mZnNldFNlY3Rpb25zOiBmYWxzZSxcclxuICAgICAgICAgICAgcmVzZXRTbGlkZXJzOiBmYWxzZSxcclxuICAgICAgICAgICAgZmFkaW5nRWZmZWN0OiBmYWxzZSxcclxuICAgICAgICAgICAgbm9ybWFsU2Nyb2xsRWxlbWVudHM6IG51bGwsXHJcbiAgICAgICAgICAgIHNjcm9sbE92ZXJmbG93OiBmYWxzZSxcclxuICAgICAgICAgICAgc2Nyb2xsT3ZlcmZsb3dSZXNldDogZmFsc2UsXHJcbiAgICAgICAgICAgIHNjcm9sbE92ZXJmbG93SGFuZGxlcjogd2luZG93LmZwX3Njcm9sbG92ZXJmbG93ID8gd2luZG93LmZwX3Njcm9sbG92ZXJmbG93LmlzY3JvbGxIYW5kbGVyIDogbnVsbCxcclxuICAgICAgICAgICAgc2Nyb2xsT3ZlcmZsb3dPcHRpb25zOiBudWxsLFxyXG4gICAgICAgICAgICB0b3VjaFNlbnNpdGl2aXR5OiA1LFxyXG4gICAgICAgICAgICBub3JtYWxTY3JvbGxFbGVtZW50VG91Y2hUaHJlc2hvbGQ6IDUsXHJcbiAgICAgICAgICAgIGJpZ1NlY3Rpb25zRGVzdGluYXRpb246IG51bGwsXHJcblxyXG4gICAgICAgICAgICAvL0FjY2Vzc2liaWxpdHlcclxuICAgICAgICAgICAga2V5Ym9hcmRTY3JvbGxpbmc6IHRydWUsXHJcbiAgICAgICAgICAgIGFuaW1hdGVBbmNob3I6IHRydWUsXHJcbiAgICAgICAgICAgIHJlY29yZEhpc3Rvcnk6IHRydWUsXHJcblxyXG4gICAgICAgICAgICAvL2Rlc2lnblxyXG4gICAgICAgICAgICBjb250cm9sQXJyb3dzOiB0cnVlLFxyXG4gICAgICAgICAgICBjb250cm9sQXJyb3dDb2xvcjogJyNmZmYnLFxyXG4gICAgICAgICAgICB2ZXJ0aWNhbENlbnRlcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICBzZWN0aW9uc0NvbG9yIDogW10sXHJcbiAgICAgICAgICAgIHBhZGRpbmdUb3A6IDAsXHJcbiAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDAsXHJcbiAgICAgICAgICAgIGZpeGVkRWxlbWVudHM6IG51bGwsXHJcbiAgICAgICAgICAgIHJlc3BvbnNpdmU6IDAsIC8vYmFja3dhcmRzIGNvbXBhYml0aWxpdHkgd2l0aCByZXNwb25zaXZlV2lkZHRoXHJcbiAgICAgICAgICAgIHJlc3BvbnNpdmVXaWR0aDogMCxcclxuICAgICAgICAgICAgcmVzcG9uc2l2ZUhlaWdodDogMCxcclxuICAgICAgICAgICAgcmVzcG9uc2l2ZVNsaWRlczogZmFsc2UsXHJcbiAgICAgICAgICAgIHBhcmFsbGF4OiBmYWxzZSxcclxuICAgICAgICAgICAgcGFyYWxsYXhPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAncmV2ZWFsJyxcclxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IDYyLFxyXG4gICAgICAgICAgICAgICAgcHJvcGVydHk6ICd0cmFuc2xhdGUnXHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAvL0N1c3RvbSBzZWxlY3RvcnNcclxuICAgICAgICAgICAgc2VjdGlvblNlbGVjdG9yOiBTRUNUSU9OX0RFRkFVTFRfU0VMLFxyXG4gICAgICAgICAgICBzbGlkZVNlbGVjdG9yOiBTTElERV9ERUZBVUxUX1NFTCxcclxuXHJcbiAgICAgICAgICAgIC8vZXZlbnRzXHJcbiAgICAgICAgICAgIHYyY29tcGF0aWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGFmdGVyTG9hZDogbnVsbCxcclxuICAgICAgICAgICAgb25MZWF2ZTogbnVsbCxcclxuICAgICAgICAgICAgYWZ0ZXJSZW5kZXI6IG51bGwsXHJcbiAgICAgICAgICAgIGFmdGVyUmVzaXplOiBudWxsLFxyXG4gICAgICAgICAgICBhZnRlclJlQnVpbGQ6IG51bGwsXHJcbiAgICAgICAgICAgIGFmdGVyU2xpZGVMb2FkOiBudWxsLFxyXG4gICAgICAgICAgICBvblNsaWRlTGVhdmU6IG51bGwsXHJcbiAgICAgICAgICAgIGFmdGVyUmVzcG9uc2l2ZTogbnVsbCxcclxuXHJcbiAgICAgICAgICAgIGxhenlMb2FkaW5nOiB0cnVlXHJcbiAgICAgICAgfSwgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vZmxhZyB0byBhdm9pZCB2ZXJ5IGZhc3Qgc2xpZGluZyBmb3IgbGFuZHNjYXBlIHNsaWRlcnNcclxuICAgICAgICB2YXIgc2xpZGVNb3ZpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdmFyIGlzVG91Y2hEZXZpY2UgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oaVBob25lfGlQb2R8aVBhZHxBbmRyb2lkfHBsYXlib29rfHNpbGt8QmxhY2tCZXJyeXxCQjEwfFdpbmRvd3MgUGhvbmV8VGl6ZW58QmFkYXx3ZWJPU3xJRU1vYmlsZXxPcGVyYSBNaW5pKS8pO1xyXG4gICAgICAgIHZhciBpc1RvdWNoID0gKCgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpIHx8IChuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyA+IDApIHx8IChuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMpKTtcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gdHlwZW9mIGNvbnRhaW5lclNlbGVjdG9yID09PSAnc3RyaW5nJyA/ICQoY29udGFpbmVyU2VsZWN0b3IpWzBdIDogY29udGFpbmVyU2VsZWN0b3I7XHJcbiAgICAgICAgdmFyIHdpbmRvd3NIZWlnaHQgPSBnZXRXaW5kb3dIZWlnaHQoKTtcclxuICAgICAgICB2YXIgaXNSZXNpemluZyA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBpc1dpbmRvd0ZvY3VzZWQgPSB0cnVlO1xyXG4gICAgICAgIHZhciBsYXN0U2Nyb2xsZWREZXN0aW55O1xyXG4gICAgICAgIHZhciBsYXN0U2Nyb2xsZWRTbGlkZTtcclxuICAgICAgICB2YXIgY2FuU2Nyb2xsID0gdHJ1ZTtcclxuICAgICAgICB2YXIgc2Nyb2xsaW5ncyA9IFtdO1xyXG4gICAgICAgIHZhciBjb250cm9sUHJlc3NlZDtcclxuICAgICAgICB2YXIgc3RhcnRpbmdTZWN0aW9uO1xyXG4gICAgICAgIHZhciBpc1Njcm9sbEFsbG93ZWQgPSB7fTtcclxuICAgICAgICBpc1Njcm9sbEFsbG93ZWQubSA9IHsgICd1cCc6dHJ1ZSwgJ2Rvd24nOnRydWUsICdsZWZ0Jzp0cnVlLCAncmlnaHQnOnRydWUgfTtcclxuICAgICAgICBpc1Njcm9sbEFsbG93ZWQuayA9IGRlZXBFeHRlbmQoe30sIGlzU2Nyb2xsQWxsb3dlZC5tKTtcclxuICAgICAgICB2YXIgTVNQb2ludGVyID0gZ2V0TVNQb2ludGVyKCk7XHJcbiAgICAgICAgdmFyIGV2ZW50cyA9IHtcclxuICAgICAgICAgICAgdG91Y2htb3ZlOiAnb250b3VjaG1vdmUnIGluIHdpbmRvdyA/ICd0b3VjaG1vdmUnIDogIE1TUG9pbnRlci5tb3ZlLFxyXG4gICAgICAgICAgICB0b3VjaHN0YXJ0OiAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgPyAndG91Y2hzdGFydCcgOiAgTVNQb2ludGVyLmRvd25cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBzY3JvbGxCYXJIYW5kbGVyO1xyXG5cclxuICAgICAgICAvLyB0YWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS91ZGFjaXR5L3VkODkxL2Jsb2IvZ2gtcGFnZXMvbGVzc29uMi1mb2N1cy8wNy1tb2RhbHMtYW5kLWtleWJvYXJkLXRyYXBzL3NvbHV0aW9uL21vZGFsLmpzXHJcbiAgICAgICAgdmFyIGZvY3VzYWJsZUVsZW1lbnRzU3RyaW5nID0gJ2FbaHJlZl0sIGFyZWFbaHJlZl0sIGlucHV0Om5vdChbZGlzYWJsZWRdKSwgc2VsZWN0Om5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCBpZnJhbWUsIG9iamVjdCwgZW1iZWQsIFt0YWJpbmRleD1cIjBcIl0sIFtjb250ZW50ZWRpdGFibGVdJztcclxuXHJcbiAgICAgICAgLy90aW1lb3V0c1xyXG4gICAgICAgIHZhciByZXNpemVJZDtcclxuICAgICAgICB2YXIgYWZ0ZXJTZWN0aW9uTG9hZHNJZDtcclxuICAgICAgICB2YXIgYWZ0ZXJTbGlkZUxvYWRzSWQ7XHJcbiAgICAgICAgdmFyIHNjcm9sbElkO1xyXG4gICAgICAgIHZhciBzY3JvbGxJZDI7XHJcbiAgICAgICAgdmFyIGtleWRvd25JZDtcclxuICAgICAgICB2YXIgb3JpZ2luYWxzID0gZGVlcEV4dGVuZCh7fSwgb3B0aW9ucyk7IC8vZGVlcCBjb3B5XHJcbiAgICAgICAgdmFyIGFjdGl2ZUFuaW1hdGlvbjtcclxuXHJcbiAgICAgICAgZGlzcGxheVdhcm5pbmdzKCk7XHJcblxyXG4gICAgICAgIC8vZWFzZUluT3V0Q3ViaWMgYW5pbWF0aW9uIGluY2x1ZGVkIGluIHRoZSBwbHVnaW5cclxuICAgICAgICB3aW5kb3cuZnBfZWFzaW5ncyA9IGRlZXBFeHRlbmQod2luZG93LmZwX2Vhc2luZ3MsIHtcclxuICAgICAgICAgICAgZWFzZUluT3V0Q3ViaWM6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHQvPWQvMikgPCAxKSByZXR1cm4gYy8yKnQqdCp0ICsgYjtyZXR1cm4gYy8yKigodC09MikqdCp0ICsgMikgKyBiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2V0cyB0aGUgYXV0b1Njcm9sbCBvcHRpb24uXHJcbiAgICAgICAgKiBJdCBjaGFuZ2VzIHRoZSBzY3JvbGwgYmFyIHZpc2liaWxpdHkgYW5kIHRoZSBoaXN0b3J5IG9mIHRoZSBzaXRlIGFzIGEgcmVzdWx0LlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0QXV0b1Njcm9sbGluZyh2YWx1ZSwgdHlwZSl7XHJcbiAgICAgICAgICAgIC8vcmVtb3ZpbmcgdGhlIHRyYW5zZm9ybWF0aW9uXHJcbiAgICAgICAgICAgIGlmKCF2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICBzaWxlbnRTY3JvbGwoMCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNldFZhcmlhYmxlU3RhdGUoJ2F1dG9TY3JvbGxpbmcnLCB2YWx1ZSwgdHlwZSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9ICQoU0VDVElPTl9BQ1RJVkVfU0VMKVswXTtcclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuYXV0b1Njcm9sbGluZyAmJiAhb3B0aW9ucy5zY3JvbGxCYXIpe1xyXG4gICAgICAgICAgICAgICAgY3NzKCRodG1sQm9keSwge1xyXG4gICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdyc6ICdoaWRkZW4nLFxyXG4gICAgICAgICAgICAgICAgICAgICdoZWlnaHQnOiAnMTAwJSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFJlY29yZEhpc3Rvcnkob3JpZ2luYWxzLnJlY29yZEhpc3RvcnksICdpbnRlcm5hbCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZm9yIElFIHRvdWNoIGRldmljZXNcclxuICAgICAgICAgICAgICAgIGNzcyhjb250YWluZXIsIHtcclxuICAgICAgICAgICAgICAgICAgICAnLW1zLXRvdWNoLWFjdGlvbic6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICAgICAndG91Y2gtYWN0aW9uJzogJ25vbmUnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihlbGVtZW50ICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbW92aW5nIHRoZSBjb250YWluZXIgdXBcclxuICAgICAgICAgICAgICAgICAgICBzaWxlbnRTY3JvbGwoZWxlbWVudC5vZmZzZXRUb3ApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBjc3MoJGh0bWxCb2R5LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93JyA6ICd2aXNpYmxlJyxcclxuICAgICAgICAgICAgICAgICAgICAnaGVpZ2h0JyA6ICdpbml0aWFsJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0UmVjb3JkSGlzdG9yeShmYWxzZSwgJ2ludGVybmFsJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9mb3IgSUUgdG91Y2ggZGV2aWNlc1xyXG4gICAgICAgICAgICAgICAgY3NzKGNvbnRhaW5lciwge1xyXG4gICAgICAgICAgICAgICAgICAgICctbXMtdG91Y2gtYWN0aW9uJzogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RvdWNoLWFjdGlvbic6ICcnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Njcm9sbGluZyB0aGUgcGFnZSB0byB0aGUgc2VjdGlvbiB3aXRoIG5vIGFuaW1hdGlvblxyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxTZXR0aW5ncyA9IGdldFNjcm9sbFNldHRpbmdzKGVsZW1lbnQub2Zmc2V0VG9wKTtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxTZXR0aW5ncy5lbGVtZW50LnNjcm9sbFRvKDAsIHNjcm9sbFNldHRpbmdzLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIERlZmluZXMgd2hldGVyIHRvIHJlY29yZCB0aGUgaGlzdG9yeSBmb3IgZWFjaCBoYXNoIGNoYW5nZSBpbiB0aGUgVVJMLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0UmVjb3JkSGlzdG9yeSh2YWx1ZSwgdHlwZSl7XHJcbiAgICAgICAgICAgIHNldFZhcmlhYmxlU3RhdGUoJ3JlY29yZEhpc3RvcnknLCB2YWx1ZSwgdHlwZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIERlZmluZXMgdGhlIHNjcm9sbGluZyBzcGVlZFxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0U2Nyb2xsaW5nU3BlZWQodmFsdWUsIHR5cGUpe1xyXG4gICAgICAgICAgICBzZXRWYXJpYWJsZVN0YXRlKCdzY3JvbGxpbmdTcGVlZCcsIHZhbHVlLCB0eXBlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2V0cyBmaXRUb1NlY3Rpb25cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNldEZpdFRvU2VjdGlvbih2YWx1ZSwgdHlwZSl7XHJcbiAgICAgICAgICAgIHNldFZhcmlhYmxlU3RhdGUoJ2ZpdFRvU2VjdGlvbicsIHZhbHVlLCB0eXBlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2V0cyBsb2NrQW5jaG9yc1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0TG9ja0FuY2hvcnModmFsdWUpe1xyXG4gICAgICAgICAgICBvcHRpb25zLmxvY2tBbmNob3JzID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEFkZHMgb3IgcmVtb3ZlIHRoZSBwb3NzaWJpbGl0eSBvZiBzY3JvbGxpbmcgdGhyb3VnaCBzZWN0aW9ucyBieSB1c2luZyB0aGUgbW91c2Ugd2hlZWwgb3IgdGhlIHRyYWNrcGFkLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0TW91c2VXaGVlbFNjcm9sbGluZyh2YWx1ZSl7XHJcbiAgICAgICAgICAgIGlmKHZhbHVlKXtcclxuICAgICAgICAgICAgICAgIGFkZE1vdXNlV2hlZWxIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgICAgICBhZGRNaWRkbGVXaGVlbEhhbmRsZXIoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVNb3VzZVdoZWVsSGFuZGxlcigpO1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlTWlkZGxlV2hlZWxIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQWRkcyBvciByZW1vdmUgdGhlIHBvc3NpYmlsaXR5IG9mIHNjcm9sbGluZyB0aHJvdWdoIHNlY3Rpb25zIGJ5IHVzaW5nIHRoZSBtb3VzZSB3aGVlbC90cmFja3BhZCBvciB0b3VjaCBnZXN0dXJlcy5cclxuICAgICAgICAqIE9wdGlvbmFsbHkgYSBzZWNvbmQgcGFyYW1ldGVyIGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgdGhlIGRpcmVjdGlvbiBmb3Igd2hpY2ggdGhlIGFjdGlvbiB3aWxsIGJlIGFwcGxpZWQuXHJcbiAgICAgICAgKlxyXG4gICAgICAgICogQHBhcmFtIGRpcmVjdGlvbnMgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIGRpcmVjdGlvbiBvciBkaXJlY3Rpb25zIHNlcGFyYXRlZCBieSBjb21tYS5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNldEFsbG93U2Nyb2xsaW5nKHZhbHVlLCBkaXJlY3Rpb25zKXtcclxuICAgICAgICAgICAgaWYodHlwZW9mIGRpcmVjdGlvbnMgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbnMgPSBkaXJlY3Rpb25zLnJlcGxhY2UoLyAvZywnJykuc3BsaXQoJywnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGRpcmVjdGlvbil7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0SXNTY3JvbGxBbGxvd2VkKHZhbHVlLCBkaXJlY3Rpb24sICdtJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgc2V0SXNTY3JvbGxBbGxvd2VkKHZhbHVlLCAnYWxsJywgJ20nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZih2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0TW91c2VXaGVlbFNjcm9sbGluZyh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBhZGRUb3VjaEhhbmRsZXIoKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHNldE1vdXNlV2hlZWxTY3JvbGxpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVRvdWNoSGFuZGxlcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEFkZHMgb3IgcmVtb3ZlIHRoZSBwb3NzaWJpbGl0eSBvZiBzY3JvbGxpbmcgdGhyb3VnaCBzZWN0aW9ucyBieSB1c2luZyB0aGUga2V5Ym9hcmQgYXJyb3cga2V5c1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0S2V5Ym9hcmRTY3JvbGxpbmcodmFsdWUsIGRpcmVjdGlvbnMpe1xyXG4gICAgICAgICAgICBpZih0eXBlb2YgZGlyZWN0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9ucyA9IGRpcmVjdGlvbnMucmVwbGFjZSgvIC9nLCcnKS5zcGxpdCgnLCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbnMuZm9yRWFjaChmdW5jdGlvbihkaXJlY3Rpb24pe1xyXG4gICAgICAgICAgICAgICAgICAgIHNldElzU2Nyb2xsQWxsb3dlZCh2YWx1ZSwgZGlyZWN0aW9uLCAnaycpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgc2V0SXNTY3JvbGxBbGxvd2VkKHZhbHVlLCAnYWxsJywgJ2snKTtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMua2V5Ym9hcmRTY3JvbGxpbmcgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBNb3ZlcyB0aGUgcGFnZSB1cCBvbmUgc2VjdGlvbi5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG1vdmVTZWN0aW9uVXAoKXtcclxuICAgICAgICAgICAgdmFyIHByZXYgPSBwcmV2VW50aWwoJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdLCBTRUNUSU9OX1NFTCk7XHJcblxyXG4gICAgICAgICAgICAvL2xvb3BpbmcgdG8gdGhlIGJvdHRvbSBpZiB0aGVyZSdzIG5vIG1vcmUgc2VjdGlvbnMgYWJvdmVcclxuICAgICAgICAgICAgaWYgKCFwcmV2ICYmIChvcHRpb25zLmxvb3BUb3AgfHwgb3B0aW9ucy5jb250aW51b3VzVmVydGljYWwpKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2ID0gbGFzdCgkKFNFQ1RJT05fU0VMKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChwcmV2ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbFBhZ2UocHJldiwgbnVsbCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogTW92ZXMgdGhlIHBhZ2UgZG93biBvbmUgc2VjdGlvbi5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG1vdmVTZWN0aW9uRG93bigpe1xyXG4gICAgICAgICAgICB2YXIgbmV4dCA9IG5leHRVbnRpbCgkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF0sIFNFQ1RJT05fU0VMKTtcclxuXHJcbiAgICAgICAgICAgIC8vbG9vcGluZyB0byB0aGUgdG9wIGlmIHRoZXJlJ3Mgbm8gbW9yZSBzZWN0aW9ucyBiZWxvd1xyXG4gICAgICAgICAgICBpZighbmV4dCAmJlxyXG4gICAgICAgICAgICAgICAgKG9wdGlvbnMubG9vcEJvdHRvbSB8fCBvcHRpb25zLmNvbnRpbnVvdXNWZXJ0aWNhbCkpe1xyXG4gICAgICAgICAgICAgICAgbmV4dCA9ICQoU0VDVElPTl9TRUwpWzBdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihuZXh0ICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsUGFnZShuZXh0LCBudWxsLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogTW92ZXMgdGhlIHBhZ2UgdG8gdGhlIGdpdmVuIHNlY3Rpb24gYW5kIHNsaWRlIHdpdGggbm8gYW5pbWF0aW9uLlxyXG4gICAgICAgICogQW5jaG9ycyBvciBpbmRleCBwb3NpdGlvbnMgY2FuIGJlIHVzZWQgYXMgcGFyYW1zLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2lsZW50TW92ZVRvKHNlY3Rpb25BbmNob3IsIHNsaWRlQW5jaG9yKXtcclxuICAgICAgICAgICAgc2V0U2Nyb2xsaW5nU3BlZWQgKDAsICdpbnRlcm5hbCcpO1xyXG4gICAgICAgICAgICBtb3ZlVG8oc2VjdGlvbkFuY2hvciwgc2xpZGVBbmNob3IpO1xyXG4gICAgICAgICAgICBzZXRTY3JvbGxpbmdTcGVlZCAob3JpZ2luYWxzLnNjcm9sbGluZ1NwZWVkLCAnaW50ZXJuYWwnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogTW92ZXMgdGhlIHBhZ2UgdG8gdGhlIGdpdmVuIHNlY3Rpb24gYW5kIHNsaWRlLlxyXG4gICAgICAgICogQW5jaG9ycyBvciBpbmRleCBwb3NpdGlvbnMgY2FuIGJlIHVzZWQgYXMgcGFyYW1zLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gbW92ZVRvKHNlY3Rpb25BbmNob3IsIHNsaWRlQW5jaG9yKXtcclxuICAgICAgICAgICAgdmFyIGRlc3RpbnkgPSBnZXRTZWN0aW9uQnlBbmNob3Ioc2VjdGlvbkFuY2hvcik7XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNsaWRlQW5jaG9yICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxQYWdlQW5kU2xpZGUoc2VjdGlvbkFuY2hvciwgc2xpZGVBbmNob3IpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihkZXN0aW55ICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsUGFnZShkZXN0aW55KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBTbGlkZXMgcmlnaHQgdGhlIHNsaWRlciBvZiB0aGUgYWN0aXZlIHNlY3Rpb24uXHJcbiAgICAgICAgKiBPcHRpb25hbCBgc2VjdGlvbmAgcGFyYW0uXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBtb3ZlU2xpZGVSaWdodChzZWN0aW9uKXtcclxuICAgICAgICAgICAgbW92ZVNsaWRlKCdyaWdodCcsIHNlY3Rpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBTbGlkZXMgbGVmdCB0aGUgc2xpZGVyIG9mIHRoZSBhY3RpdmUgc2VjdGlvbi5cclxuICAgICAgICAqIE9wdGlvbmFsIGBzZWN0aW9uYCBwYXJhbS5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG1vdmVTbGlkZUxlZnQoc2VjdGlvbil7XHJcbiAgICAgICAgICAgIG1vdmVTbGlkZSgnbGVmdCcsIHNlY3Rpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogV2hlbiByZXNpemluZyBpcyBmaW5pc2hlZCwgd2UgYWRqdXN0IHRoZSBzbGlkZXMgc2l6ZXMgYW5kIHBvc2l0aW9uc1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlQnVpbGQocmVzaXppbmcpe1xyXG4gICAgICAgICAgICBpZihoYXNDbGFzcyhjb250YWluZXIsIERFU1RST1lFRCkpeyByZXR1cm47IH0gIC8vbm90aGluZyB0byBkbyBpZiB0aGUgcGx1Z2luIHdhcyBkZXN0cm95ZWRcclxuXHJcbiAgICAgICAgICAgIGlzUmVzaXppbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgd2luZG93c0hlaWdodCA9IGdldFdpbmRvd0hlaWdodCgpOyAgLy91cGRhdGluZyBnbG9iYWwgdmFyXHJcblxyXG4gICAgICAgICAgICB2YXIgc2VjdGlvbnMgPSAkKFNFQ1RJT05fU0VMKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWN0aW9ucy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSBzZWN0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciBzbGlkZXNXcmFwID0gJChTTElERVNfV1JBUFBFUl9TRUwsIHNlY3Rpb24pWzBdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNsaWRlcyA9ICQoU0xJREVfU0VMLCBzZWN0aW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2FkanVzdGluZyB0aGUgaGVpZ2h0IG9mIHRoZSB0YWJsZS1jZWxsIGZvciBJRSBhbmQgRmlyZWZveFxyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy52ZXJ0aWNhbENlbnRlcmVkKXtcclxuICAgICAgICAgICAgICAgICAgICBjc3MoJChUQUJMRV9DRUxMX1NFTCwgc2VjdGlvbiksIHsnaGVpZ2h0JzogZ2V0VGFibGVIZWlnaHQoc2VjdGlvbikgKyAncHgnfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY3NzKHNlY3Rpb24sIHsnaGVpZ2h0Jzogd2luZG93c0hlaWdodCArICdweCd9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2FkanVzdGluZyB0aGUgcG9zaXRpb24gZm8gdGhlIEZVTEwgV0lEVEggc2xpZGVzLi4uXHJcbiAgICAgICAgICAgICAgICBpZiAoc2xpZGVzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYW5kc2NhcGVTY3JvbGwoc2xpZGVzV3JhcCwgJChTTElERV9BQ1RJVkVfU0VMLCBzbGlkZXNXcmFwKVswXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3cpe1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsQmFySGFuZGxlci5jcmVhdGVTY3JvbGxCYXJGb3JBbGwoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGFjdGl2ZVNlY3Rpb24gPSAkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF07XHJcbiAgICAgICAgICAgIHZhciBzZWN0aW9uSW5kZXggPSBpbmRleChhY3RpdmVTZWN0aW9uLCBTRUNUSU9OX1NFTCk7XHJcblxyXG4gICAgICAgICAgICAvL2lzbid0IGl0IHRoZSBmaXJzdCBzZWN0aW9uP1xyXG4gICAgICAgICAgICBpZihzZWN0aW9uSW5kZXgpe1xyXG4gICAgICAgICAgICAgICAgLy9hZGp1c3RpbmcgdGhlIHBvc2l0aW9uIGZvciB0aGUgY3VycmVudCBzZWN0aW9uXHJcbiAgICAgICAgICAgICAgICBzaWxlbnRNb3ZlVG8oc2VjdGlvbkluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlzUmVzaXppbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYoaXNGdW5jdGlvbiggb3B0aW9ucy5hZnRlclJlc2l6ZSApICYmIHJlc2l6aW5nKXtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuYWZ0ZXJSZXNpemUuY2FsbChjb250YWluZXIsIHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGlzRnVuY3Rpb24oIG9wdGlvbnMuYWZ0ZXJSZUJ1aWxkICkgJiYgIXJlc2l6aW5nKXtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuYWZ0ZXJSZUJ1aWxkLmNhbGwoY29udGFpbmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBUdXJucyBmdWxsUGFnZS5qcyB0byBub3JtYWwgc2Nyb2xsaW5nIG1vZGUgd2hlbiB0aGUgdmlld3BvcnQgYHdpZHRoYCBvciBgaGVpZ2h0YFxyXG4gICAgICAgICogYXJlIHNtYWxsZXIgdGhhbiB0aGUgc2V0IGxpbWl0IHZhbHVlcy5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNldFJlc3BvbnNpdmUoYWN0aXZlKXtcclxuICAgICAgICAgICAgdmFyIGlzUmVzcG9uc2l2ZSA9IGhhc0NsYXNzKCRib2R5LCBSRVNQT05TSVZFKTtcclxuXHJcbiAgICAgICAgICAgIGlmKGFjdGl2ZSl7XHJcbiAgICAgICAgICAgICAgICBpZighaXNSZXNwb25zaXZlKXtcclxuICAgICAgICAgICAgICAgICAgICBzZXRBdXRvU2Nyb2xsaW5nKGZhbHNlLCAnaW50ZXJuYWwnKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRGaXRUb1NlY3Rpb24oZmFsc2UsICdpbnRlcm5hbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGhpZGUoJChTRUNUSU9OX05BVl9TRUwpKTtcclxuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcygkYm9keSwgUkVTUE9OU0lWRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNGdW5jdGlvbiggb3B0aW9ucy5hZnRlclJlc3BvbnNpdmUgKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuYWZ0ZXJSZXNwb25zaXZlLmNhbGwoIGNvbnRhaW5lciwgYWN0aXZlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZihpc1Jlc3BvbnNpdmUpe1xyXG4gICAgICAgICAgICAgICAgc2V0QXV0b1Njcm9sbGluZyhvcmlnaW5hbHMuYXV0b1Njcm9sbGluZywgJ2ludGVybmFsJyk7XHJcbiAgICAgICAgICAgICAgICBzZXRGaXRUb1NlY3Rpb24ob3JpZ2luYWxzLmF1dG9TY3JvbGxpbmcsICdpbnRlcm5hbCcpO1xyXG4gICAgICAgICAgICAgICAgc2hvdygkKFNFQ1RJT05fTkFWX1NFTCkpO1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoJGJvZHksIFJFU1BPTlNJVkUpO1xyXG4gICAgICAgICAgICAgICAgaWYoaXNGdW5jdGlvbiggb3B0aW9ucy5hZnRlclJlc3BvbnNpdmUgKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5hZnRlclJlc3BvbnNpdmUuY2FsbCggY29udGFpbmVyLCBhY3RpdmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihjb250YWluZXIpe1xyXG4gICAgICAgICAgICAvL3B1YmxpYyBmdW5jdGlvbnNcclxuICAgICAgICAgICAgRlAudmVyc2lvbiA9ICczLjAuMic7XHJcbiAgICAgICAgICAgIEZQLnNldEF1dG9TY3JvbGxpbmcgPSBzZXRBdXRvU2Nyb2xsaW5nO1xyXG4gICAgICAgICAgICBGUC5zZXRSZWNvcmRIaXN0b3J5ID0gc2V0UmVjb3JkSGlzdG9yeTtcclxuICAgICAgICAgICAgRlAuc2V0U2Nyb2xsaW5nU3BlZWQgPSBzZXRTY3JvbGxpbmdTcGVlZDtcclxuICAgICAgICAgICAgRlAuc2V0Rml0VG9TZWN0aW9uID0gc2V0Rml0VG9TZWN0aW9uO1xyXG4gICAgICAgICAgICBGUC5zZXRMb2NrQW5jaG9ycyA9IHNldExvY2tBbmNob3JzO1xyXG4gICAgICAgICAgICBGUC5zZXRNb3VzZVdoZWVsU2Nyb2xsaW5nID0gc2V0TW91c2VXaGVlbFNjcm9sbGluZztcclxuICAgICAgICAgICAgRlAuc2V0QWxsb3dTY3JvbGxpbmcgPSBzZXRBbGxvd1Njcm9sbGluZztcclxuICAgICAgICAgICAgRlAuc2V0S2V5Ym9hcmRTY3JvbGxpbmcgPSBzZXRLZXlib2FyZFNjcm9sbGluZztcclxuICAgICAgICAgICAgRlAubW92ZVNlY3Rpb25VcCA9IG1vdmVTZWN0aW9uVXA7XHJcbiAgICAgICAgICAgIEZQLm1vdmVTZWN0aW9uRG93biA9IG1vdmVTZWN0aW9uRG93bjtcclxuICAgICAgICAgICAgRlAuc2lsZW50TW92ZVRvID0gc2lsZW50TW92ZVRvO1xyXG4gICAgICAgICAgICBGUC5tb3ZlVG8gPSBtb3ZlVG87XHJcbiAgICAgICAgICAgIEZQLm1vdmVTbGlkZVJpZ2h0ID0gbW92ZVNsaWRlUmlnaHQ7XHJcbiAgICAgICAgICAgIEZQLm1vdmVTbGlkZUxlZnQgPSBtb3ZlU2xpZGVMZWZ0O1xyXG4gICAgICAgICAgICBGUC5maXRUb1NlY3Rpb24gPSBmaXRUb1NlY3Rpb247XHJcbiAgICAgICAgICAgIEZQLnJlQnVpbGQgPSByZUJ1aWxkO1xyXG4gICAgICAgICAgICBGUC5zZXRSZXNwb25zaXZlID0gc2V0UmVzcG9uc2l2ZTtcclxuICAgICAgICAgICAgRlAuZ2V0RnVsbHBhZ2VEYXRhID0gb3B0aW9ucztcclxuICAgICAgICAgICAgRlAuZGVzdHJveSA9IGRlc3Ryb3k7XHJcbiAgICAgICAgICAgIEZQLmdldEFjdGl2ZVNlY3Rpb24gPSBnZXRBY3RpdmVTZWN0aW9uO1xyXG4gICAgICAgICAgICBGUC5nZXRBY3RpdmVTbGlkZSA9IGdldEFjdGl2ZVNsaWRlO1xyXG5cclxuICAgICAgICAgICAgRlAudGVzdCA9IHtcclxuICAgICAgICAgICAgICAgIHRvcDogJzBweCcsXHJcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGUzZDogJ3RyYW5zbGF0ZTNkKDBweCwgMHB4LCAwcHgpJyxcclxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTNkSDogKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgJChvcHRpb25zLnNlY3Rpb25TZWxlY3RvciwgY29udGFpbmVyKS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGEucHVzaCgndHJhbnNsYXRlM2QoMHB4LCAwcHgsIDBweCknKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGE7XHJcbiAgICAgICAgICAgICAgICB9KSgpLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgJChvcHRpb25zLnNlY3Rpb25TZWxlY3RvciwgY29udGFpbmVyKS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGEucHVzaCgwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGE7XHJcbiAgICAgICAgICAgICAgICB9KSgpLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIHNldEF1dG9TY3JvbGxpbmc6IHNldEF1dG9TY3JvbGxpbmdcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vZnVuY3Rpb25zIHdlIHdhbnQgdG8gc2hhcmUgYWNyb3NzIGZpbGVzIGJ1dCB3aGljaCBhcmUgbm90XHJcbiAgICAgICAgICAgIC8vbWVhbiB0byBiZSB1c2VkIG9uIHRoZWlyIG93biBieSBkZXZlbG9wZXJzXHJcbiAgICAgICAgICAgIEZQLnNoYXJlZCA9IHtcclxuICAgICAgICAgICAgICAgIGFmdGVyUmVuZGVyQWN0aW9uczogYWZ0ZXJSZW5kZXJBY3Rpb25zXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cuZnVsbHBhZ2VfYXBpID0gRlA7XHJcblxyXG4gICAgICAgICAgICBpbml0KCk7XHJcblxyXG4gICAgICAgICAgICBiaW5kRXZlbnRzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbml0KCl7XHJcbiAgICAgICAgICAgIC8vaWYgY3NzMyBpcyBub3Qgc3VwcG9ydGVkLCBpdCB3aWxsIHVzZSBqUXVlcnkgYW5pbWF0aW9uc1xyXG4gICAgICAgICAgICBpZihvcHRpb25zLmNzczMpe1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jc3MzID0gc3VwcG9ydDNkKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG9wdGlvbnMuc2Nyb2xsQmFyID0gb3B0aW9ucy5zY3JvbGxCYXIgfHwgb3B0aW9ucy5oeWJyaWQ7XHJcblxyXG4gICAgICAgICAgICBzZXRPcHRpb25zRnJvbURPTSgpO1xyXG4gICAgICAgICAgICBwcmVwYXJlRG9tKCk7XHJcbiAgICAgICAgICAgIHNldEFsbG93U2Nyb2xsaW5nKHRydWUpO1xyXG4gICAgICAgICAgICBzZXRBdXRvU2Nyb2xsaW5nKG9wdGlvbnMuYXV0b1Njcm9sbGluZywgJ2ludGVybmFsJyk7XHJcbiAgICAgICAgICAgIHJlc3BvbnNpdmUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vc2V0dGluZyB0aGUgY2xhc3MgZm9yIHRoZSBib2R5IGVsZW1lbnRcclxuICAgICAgICAgICAgc2V0Qm9keUNsYXNzKCk7XHJcblxyXG4gICAgICAgICAgICBpZihkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKXtcclxuICAgICAgICAgICAgICAgIHNjcm9sbFRvQW5jaG9yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBzY3JvbGxUb0FuY2hvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBiaW5kRXZlbnRzKCl7XHJcblxyXG4gICAgICAgICAgICAvL3doZW4gc2Nyb2xsaW5nLi4uXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgIC8vZGV0ZWN0aW5nIGFueSBjaGFuZ2Ugb24gdGhlIFVSTCB0byBzY3JvbGwgdG8gdGhlIGdpdmVuIGFuY2hvciBsaW5rXHJcbiAgICAgICAgICAgIC8vKGEgd2F5IHRvIGRldGVjdCBiYWNrIGhpc3RvcnkgYnV0dG9uIGFzIHdlIHBsYXkgd2l0aCB0aGUgaGFzaGVzIG9uIHRoZSBVUkwpXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgaGFzaENoYW5nZUhhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgLy93aGVuIG9wZW5pbmcgYSBuZXcgdGFiIChjdHJsICsgdCksIGBjb250cm9sYCB3b24ndCBiZSBwcmVzc2VkIHdoZW4gY29taW5nIGJhY2suXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgYmx1ckhhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgLy93aGVuIHJlc2l6aW5nIHRoZSBzaXRlLCB3ZSBhZGp1c3QgdGhlIGhlaWdodHMgb2YgdGhlIHNlY3Rpb25zLCBzbGltU2Nyb2xsLi4uXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgIC8vU2xpZGluZyB3aXRoIGFycm93IGtleXMsIGJvdGgsIHZlcnRpY2FsIGFuZCBob3Jpem9udGFsXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlkb3duSGFuZGxlcik7XHJcblxyXG4gICAgICAgICAgICAvL3RvIHByZXZlbnQgc2Nyb2xsaW5nIHdoaWxlIHpvb21pbmdcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBrZXlVcEhhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgLy9TY3JvbGxzIHRvIHRoZSBzZWN0aW9uIHdoZW4gY2xpY2tpbmcgdGhlIG5hdmlnYXRpb24gYnVsbGV0XHJcbiAgICAgICAgICAgIC8vc2ltdWxhdGluZyB0aGUgalF1ZXJ5IC5vbignY2xpY2snKSBldmVudCB1c2luZyBkZWxlZ2F0aW9uXHJcbiAgICAgICAgICAgIFsnY2xpY2snLCAndG91Y2hzdGFydCddLmZvckVhY2goZnVuY3Rpb24oZXZlbnROYW1lKXtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRhcmdldCAmJiBjbG9zZXN0KHRhcmdldCwgU0VDVElPTl9OQVZfU0VMICsgJyBhJykpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uQnVsbGV0SGFuZGxlci5jYWxsKHRhcmdldCwgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYobWF0Y2hlcyh0YXJnZXQsIFNFQ1RJT05fTkFWX1RPT0xUSVBfU0VMKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXBUZXh0SGFuZGxlci5jYWxsKHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYobWF0Y2hlcyh0YXJnZXQsIFNMSURFU19BUlJPV19TRUwpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVBcnJvd0hhbmRsZXIuY2FsbCh0YXJnZXQsIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKG1hdGNoZXModGFyZ2V0LCBTTElERVNfTkFWX0xJTktfU0VMKSB8fCBjbG9zZXN0KHRhcmdldCwgU0xJREVTX05BVl9MSU5LX1NFTCkgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlQnVsbGV0SGFuZGxlci5jYWxsKHRhcmdldCwgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICogQXBwbHlpbmcgbm9ybWFsU2Nyb2xsIGVsZW1lbnRzLlxyXG4gICAgICAgICAgICAqIElnbm9yaW5nIHRoZSBzY3JvbGxzIG92ZXIgdGhlIHNwZWNpZmllZCBzZWxlY3RvcnMuXHJcbiAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMubm9ybWFsU2Nyb2xsRWxlbWVudHMpe1xyXG4gICAgICAgICAgICAgICAgWydtb3VzZWVudGVyJywgJ3RvdWNoc3RhcnQnXS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50TmFtZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yTW91c2VMZWF2ZU9yVE91Y2goZXZlbnROYW1lLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBbJ21vdXNlbGVhdmUnLCAndG91Y2hlbmQnXS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50TmFtZSl7XHJcbiAgICAgICAgICAgICAgICAgICBmb3JNb3VzZUxlYXZlT3JUT3VjaChldmVudE5hbWUsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGZvck1vdXNlTGVhdmVPclRPdWNoKGV2ZW50TmFtZSwgYWxsb3dTY3JvbGxpbmcpe1xyXG4gICAgICAgICAgICAvL2Egd2F5IHRvIHBhc3MgYXJndW1lbnRzIHRvIHRoZSBvbk1vdXNlRW50ZXJPckxlYXZlIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgIGRvY3VtZW50WydmcF8nICsgZXZlbnROYW1lXSA9IGFsbG93U2Nyb2xsaW5nO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgb25Nb3VzZUVudGVyT3JMZWF2ZSwgdHJ1ZSk7IC8vY2FwdHVyaW5nIHBoYXNlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBvbk1vdXNlRW50ZXJPckxlYXZlKGUpIHtcclxuICAgICAgICAgICAgaWYoZS50YXJnZXQgPT0gZG9jdW1lbnQpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBub3JtYWxTZWxlY3RvcnMgPSBvcHRpb25zLm5vcm1hbFNjcm9sbEVsZW1lbnRzLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgIG5vcm1hbFNlbGVjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uKG5vcm1hbFNlbGVjdG9yKXtcclxuICAgICAgICAgICAgICAgIGlmKG1hdGNoZXMoZS50YXJnZXQsIG5vcm1hbFNlbGVjdG9yKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0QWxsb3dTY3JvbGxpbmcoZG9jdW1lbnRbJ2ZwXycgKyBlLnR5cGVdKTsgLy9lLnR5cGUgPSBldmVudE5hbWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNldHRpbmcgb3B0aW9ucyBmcm9tIERPTSBlbGVtZW50cyBpZiB0aGV5IGFyZSBub3QgcHJvdmlkZWQuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzZXRPcHRpb25zRnJvbURPTSgpe1xyXG5cclxuICAgICAgICAgICAgLy9ubyBhbmNob3JzIG9wdGlvbj8gQ2hlY2tpbmcgZm9yIHRoZW0gaW4gdGhlIERPTSBhdHRyaWJ1dGVzXHJcbiAgICAgICAgICAgIGlmKCFvcHRpb25zLmFuY2hvcnMubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgIHZhciBhdHRyTmFtZSA9ICdbZGF0YS1hbmNob3JdJztcclxuICAgICAgICAgICAgICAgIHZhciBhbmNob3JzID0gJChvcHRpb25zLnNlY3Rpb25TZWxlY3Rvci5zcGxpdCgnLCcpLmpvaW4oYXR0ck5hbWUgKyAnLCcpICsgYXR0ck5hbWUsIGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICBpZihhbmNob3JzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9ycy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmFuY2hvcnMucHVzaChpdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1hbmNob3InKS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9ubyB0b29sdGlwcyBvcHRpb24/IENoZWNraW5nIGZvciB0aGVtIGluIHRoZSBET00gYXR0cmlidXRlc1xyXG4gICAgICAgICAgICBpZighb3B0aW9ucy5uYXZpZ2F0aW9uVG9vbHRpcHMubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgIHZhciBhdHRyTmFtZSA9ICdbZGF0YS10b29sdGlwXSc7XHJcbiAgICAgICAgICAgICAgICB2YXIgdG9vbHRpcHMgPSAkKG9wdGlvbnMuc2VjdGlvblNlbGVjdG9yLnNwbGl0KCcsJykuam9pbihhdHRyTmFtZSArICcsJykgKyBhdHRyTmFtZSwgY29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgIGlmKHRvb2x0aXBzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcHMuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5uYXZpZ2F0aW9uVG9vbHRpcHMucHVzaChpdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwJykudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogV29ya3Mgb3ZlciB0aGUgRE9NIHN0cnVjdHVyZSB0byBzZXQgaXQgdXAgZm9yIHRoZSBjdXJyZW50IGZ1bGxwYWdlIG9wdGlvbnMuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBwcmVwYXJlRG9tKCl7XHJcbiAgICAgICAgICAgIGNzcyhjb250YWluZXIsIHtcclxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiAnMTAwJScsXHJcbiAgICAgICAgICAgICAgICAncG9zaXRpb24nOiAncmVsYXRpdmUnXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9hZGRpbmcgYSBjbGFzcyB0byByZWNvZ25pemUgdGhlIGNvbnRhaW5lciBpbnRlcm5hbGx5IGluIHRoZSBjb2RlXHJcbiAgICAgICAgICAgIGFkZENsYXNzKGNvbnRhaW5lciwgV1JBUFBFUik7XHJcbiAgICAgICAgICAgIGFkZENsYXNzKCQoJ2h0bWwnKSwgRU5BQkxFRCk7XHJcblxyXG4gICAgICAgICAgICAvL2R1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vYWx2YXJvdHJpZ28vZnVsbFBhZ2UuanMvaXNzdWVzLzE1MDJcclxuICAgICAgICAgICAgd2luZG93c0hlaWdodCA9IGdldFdpbmRvd0hlaWdodCgpO1xyXG5cclxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoY29udGFpbmVyLCBERVNUUk9ZRUQpOyAvL2luIGNhc2UgaXQgd2FzIGRlc3Ryb3llZCBiZWZvcmUgaW5pdGlhbGl6aW5nIGl0IGFnYWluXHJcblxyXG4gICAgICAgICAgICBhZGRJbnRlcm5hbFNlbGVjdG9ycygpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHNlY3Rpb25zID0gJChTRUNUSU9OX1NFTCk7XHJcblxyXG4gICAgICAgICAgICAvL3N0eWxpbmcgdGhlIHNlY3Rpb25zIC8gc2xpZGVzIC8gbWVudVxyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpPHNlY3Rpb25zLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIHZhciBzZWN0aW9uSW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSBzZWN0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciBzbGlkZXMgPSAkKFNMSURFX1NFTCwgc2VjdGlvbik7XHJcbiAgICAgICAgICAgICAgICB2YXIgbnVtU2xpZGVzID0gc2xpZGVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NhY2hpbmcgdGhlIG9yaWdpbmFsIHN0eWxlcyB0byBhZGQgdGhlbSBiYWNrIG9uIGRlc3Ryb3koJ2FsbCcpXHJcbiAgICAgICAgICAgICAgICBzZWN0aW9uLnNldEF0dHJpYnV0ZSgnZGF0YS1mcC1zdHlsZXMnLCBzZWN0aW9uLmdldEF0dHJpYnV0ZSgnc3R5bGUnKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgc3R5bGVTZWN0aW9uKHNlY3Rpb24sIHNlY3Rpb25JbmRleCk7XHJcbiAgICAgICAgICAgICAgICBzdHlsZU1lbnUoc2VjdGlvbiwgc2VjdGlvbkluZGV4KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSdzIGFueSBzbGlkZVxyXG4gICAgICAgICAgICAgICAgaWYgKG51bVNsaWRlcyA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZVNsaWRlcyhzZWN0aW9uLCBzbGlkZXMsIG51bVNsaWRlcyk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBpZihvcHRpb25zLnZlcnRpY2FsQ2VudGVyZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUYWJsZUNsYXNzKHNlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9maXhlZCBlbGVtZW50cyBuZWVkIHRvIGJlIG1vdmVkIG91dCBvZiB0aGUgcGx1Z2luIGNvbnRhaW5lciBkdWUgdG8gcHJvYmxlbXMgd2l0aCBDU1MzLlxyXG4gICAgICAgICAgICBpZihvcHRpb25zLmZpeGVkRWxlbWVudHMgJiYgb3B0aW9ucy5jc3MzKXtcclxuICAgICAgICAgICAgICAgICQob3B0aW9ucy5maXhlZEVsZW1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICAgICAgICAgICAgICAgICRib2R5LmFwcGVuZENoaWxkKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vdmVydGljYWwgY2VudGVyZWQgb2YgdGhlIG5hdmlnYXRpb24gKyBhY3RpdmUgYnVsbGV0XHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMubmF2aWdhdGlvbil7XHJcbiAgICAgICAgICAgICAgICBhZGRWZXJ0aWNhbE5hdmlnYXRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZW5hYmxlWW91dHViZUFQSSgpO1xyXG5cclxuICAgICAgICAgICAgaWYob3B0aW9ucy5zY3JvbGxPdmVyZmxvdyl7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxCYXJIYW5kbGVyID0gb3B0aW9ucy5zY3JvbGxPdmVyZmxvd0hhbmRsZXIuaW5pdChvcHRpb25zKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBhZnRlclJlbmRlckFjdGlvbnMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBTdHlsZXMgdGhlIGhvcml6b250YWwgc2xpZGVzIGZvciBhIHNlY3Rpb24uXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzdHlsZVNsaWRlcyhzZWN0aW9uLCBzbGlkZXMsIG51bVNsaWRlcyl7XHJcbiAgICAgICAgICAgIHZhciBzbGlkZXJXaWR0aCA9IG51bVNsaWRlcyAqIDEwMDtcclxuICAgICAgICAgICAgdmFyIHNsaWRlV2lkdGggPSAxMDAgLyBudW1TbGlkZXM7XHJcblxyXG4gICAgICAgICAgICB2YXIgc2xpZGVzV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBzbGlkZXNXcmFwcGVyLmNsYXNzTmFtZSA9IFNMSURFU19XUkFQUEVSOyAvL2ZwLXNsaWRlc1xyXG4gICAgICAgICAgICB3cmFwQWxsKHNsaWRlcywgc2xpZGVzV3JhcHBlcik7XHJcblxyXG4gICAgICAgICAgICB2YXIgc2xpZGVzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHNsaWRlc0NvbnRhaW5lci5jbGFzc05hbWUgPSBTTElERVNfQ09OVEFJTkVSOyAvL2ZwLXNsaWRlc0NvbnRhaW5lclxyXG4gICAgICAgICAgICB3cmFwQWxsKHNsaWRlcywgc2xpZGVzQ29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgIGNzcygkKFNMSURFU19DT05UQUlORVJfU0VMLCBzZWN0aW9uKSwgeyd3aWR0aCc6IHNsaWRlcldpZHRoICsgJyUnfSk7XHJcblxyXG4gICAgICAgICAgICBpZihudW1TbGlkZXMgPiAxKXtcclxuICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuY29udHJvbEFycm93cyl7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2xpZGVBcnJvd3Moc2VjdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5zbGlkZXNOYXZpZ2F0aW9uKXtcclxuICAgICAgICAgICAgICAgICAgICBhZGRTbGlkZXNOYXZpZ2F0aW9uKHNlY3Rpb24sIG51bVNsaWRlcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNsaWRlcy5mb3JFYWNoKGZ1bmN0aW9uKHNsaWRlKSB7XHJcbiAgICAgICAgICAgICAgICBjc3Moc2xpZGUsIHsnd2lkdGgnOiBzbGlkZVdpZHRoICsgJyUnfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy52ZXJ0aWNhbENlbnRlcmVkKXtcclxuICAgICAgICAgICAgICAgICAgICBhZGRUYWJsZUNsYXNzKHNsaWRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3RhcnRpbmdTbGlkZSA9ICQoU0xJREVfQUNUSVZFX1NFTCwgc2VjdGlvbilbMF07XHJcblxyXG4gICAgICAgICAgICAvL2lmIHRoZSBzbGlkZSB3b24ndCBiZSBhbiBzdGFydGluZyBwb2ludCwgdGhlIGRlZmF1bHQgd2lsbCBiZSB0aGUgZmlyc3Qgb25lXHJcbiAgICAgICAgICAgIC8vdGhlIGFjdGl2ZSBzZWN0aW9uIGlzbid0IHRoZSBmaXJzdCBvbmU/IElzIG5vdCB0aGUgZmlyc3Qgc2xpZGUgb2YgdGhlIGZpcnN0IHNlY3Rpb24/IFRoZW4gd2UgbG9hZCB0aGF0IHNlY3Rpb24vc2xpZGUgYnkgZGVmYXVsdC5cclxuICAgICAgICAgICAgaWYoIHN0YXJ0aW5nU2xpZGUgIT0gbnVsbCAmJiAoaW5kZXgoJChTRUNUSU9OX0FDVElWRV9TRUwpLCBTRUNUSU9OX1NFTCkgIT09IDAgfHwgKGluZGV4KCQoU0VDVElPTl9BQ1RJVkVfU0VMKSwgU0VDVElPTl9TRUwpID09PSAwICYmIGluZGV4KHN0YXJ0aW5nU2xpZGUpICE9PSAwKSkpe1xyXG4gICAgICAgICAgICAgICAgc2lsZW50TGFuZHNjYXBlU2Nyb2xsKHN0YXJ0aW5nU2xpZGUsICdpbnRlcm5hbCcpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKHNsaWRlc1swXSwgQUNUSVZFKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBTdHlsaW5nIHZlcnRpY2FsIHNlY3Rpb25zXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzdHlsZVNlY3Rpb24oc2VjdGlvbiwgaW5kZXgpe1xyXG4gICAgICAgICAgICAvL2lmIG5vIGFjdGl2ZSBzZWN0aW9uIGlzIGRlZmluZWQsIHRoZSAxc3Qgb25lIHdpbGwgYmUgdGhlIGRlZmF1bHQgb25lXHJcbiAgICAgICAgICAgIGlmKCFpbmRleCAmJiAkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3Moc2VjdGlvbiwgQUNUSVZFKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdGFydGluZ1NlY3Rpb24gPSAkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF07XHJcblxyXG4gICAgICAgICAgICBjc3Moc2VjdGlvbiwgeydoZWlnaHQnOiB3aW5kb3dzSGVpZ2h0ICsgJ3B4J30pO1xyXG5cclxuICAgICAgICAgICAgaWYob3B0aW9ucy5wYWRkaW5nVG9wKXtcclxuICAgICAgICAgICAgICAgIGNzcyhzZWN0aW9uLCB7J3BhZGRpbmctdG9wJzogb3B0aW9ucy5wYWRkaW5nVG9wfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMucGFkZGluZ0JvdHRvbSl7XHJcbiAgICAgICAgICAgICAgICBjc3Moc2VjdGlvbiwgeydwYWRkaW5nLWJvdHRvbSc6IG9wdGlvbnMucGFkZGluZ0JvdHRvbX0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuc2VjdGlvbnNDb2xvcltpbmRleF0gIT09ICAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgY3NzKHNlY3Rpb24sIHsnYmFja2dyb3VuZC1jb2xvcic6IG9wdGlvbnMuc2VjdGlvbnNDb2xvcltpbmRleF19KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmFuY2hvcnNbaW5kZXhdICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgc2VjdGlvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtYW5jaG9yJywgb3B0aW9ucy5hbmNob3JzW2luZGV4XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2V0cyB0aGUgZGF0YS1hbmNob3IgYXR0cmlidXRlcyB0byB0aGUgbWVudSBlbGVtZW50cyBhbmQgYWN0aXZhdGVzIHRoZSBjdXJyZW50IG9uZS5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHN0eWxlTWVudShzZWN0aW9uLCBpbmRleCl7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5hbmNob3JzW2luZGV4XSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIC8vYWN0aXZhdGluZyB0aGUgbWVudSAvIG5hdiBlbGVtZW50IG9uIGxvYWRcclxuICAgICAgICAgICAgICAgIGlmKGhhc0NsYXNzKHNlY3Rpb24sIEFDVElWRSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlTWVudUFuZE5hdihvcHRpb25zLmFuY2hvcnNbaW5kZXhdLCBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vbW92aW5nIHRoZSBtZW51IG91dHNpZGUgdGhlIG1haW4gY29udGFpbmVyIGlmIGl0IGlzIGluc2lkZSAoYXZvaWQgcHJvYmxlbXMgd2l0aCBmaXhlZCBwb3NpdGlvbnMgd2hlbiB1c2luZyBDU1MzIHRyYW5mb3JtcylcclxuICAgICAgICAgICAgaWYob3B0aW9ucy5tZW51ICYmIG9wdGlvbnMuY3NzMyAmJiBjbG9zZXN0KCQob3B0aW9ucy5tZW51KVswXSwgV1JBUFBFUl9TRUwpICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgJGJvZHkuYXBwZW5kQ2hpbGQoJChvcHRpb25zLm1lbnUpWzBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBBZGRzIGludGVybmFsIGNsYXNzZXMgdG8gYmUgYWJsZSB0byBwcm92aWRlIGN1c3RvbWl6YWJsZSBzZWxlY3RvcnNcclxuICAgICAgICAqIGtlZXBpbmcgdGhlIGxpbmsgd2l0aCB0aGUgc3R5bGUgc2hlZXQuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBhZGRJbnRlcm5hbFNlbGVjdG9ycygpe1xyXG4gICAgICAgICAgICBhZGRDbGFzcygkKG9wdGlvbnMuc2VjdGlvblNlbGVjdG9yLCBjb250YWluZXIpLCBTRUNUSU9OKTtcclxuICAgICAgICAgICAgYWRkQ2xhc3MoJChvcHRpb25zLnNsaWRlU2VsZWN0b3IsIGNvbnRhaW5lciksIFNMSURFKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQ3JlYXRlcyB0aGUgY29udHJvbCBhcnJvd3MgZm9yIHRoZSBnaXZlbiBzZWN0aW9uXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVTbGlkZUFycm93cyhzZWN0aW9uKXtcclxuICAgICAgICAgICAgdmFyIGFycm93cyA9IFtjcmVhdGVFbGVtZW50RnJvbUhUTUwoJzxkaXYgY2xhc3M9XCInICsgU0xJREVTX0FSUk9XX1BSRVYgKyAnXCI+PC9kaXY+JyksIGNyZWF0ZUVsZW1lbnRGcm9tSFRNTCgnPGRpdiBjbGFzcz1cIicgKyBTTElERVNfQVJST1dfTkVYVCArICdcIj48L2Rpdj4nKV07XHJcbiAgICAgICAgICAgIGFmdGVyKCQoU0xJREVTX1dSQVBQRVJfU0VMLCBzZWN0aW9uKVswXSwgYXJyb3dzKTtcclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuY29udHJvbEFycm93Q29sb3IgIT09ICcjZmZmJyl7XHJcbiAgICAgICAgICAgICAgICBjc3MoJChTTElERVNfQVJST1dfTkVYVF9TRUwsIHNlY3Rpb24pLCB7J2JvcmRlci1jb2xvcic6ICd0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCAnK29wdGlvbnMuY29udHJvbEFycm93Q29sb3J9KTtcclxuICAgICAgICAgICAgICAgIGNzcygkKFNMSURFU19BUlJPV19QUkVWX1NFTCwgc2VjdGlvbiksIHsnYm9yZGVyLWNvbG9yJzogJ3RyYW5zcGFyZW50ICcrIG9wdGlvbnMuY29udHJvbEFycm93Q29sb3IgKyAnIHRyYW5zcGFyZW50IHRyYW5zcGFyZW50J30pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZighb3B0aW9ucy5sb29wSG9yaXpvbnRhbCl7XHJcbiAgICAgICAgICAgICAgICBoaWRlKCQoU0xJREVTX0FSUk9XX1BSRVZfU0VMLCBzZWN0aW9uKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQ3JlYXRlcyBhIHZlcnRpY2FsIG5hdmlnYXRpb24gYmFyLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkVmVydGljYWxOYXZpZ2F0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciBuYXZpZ2F0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIG5hdmlnYXRpb24uc2V0QXR0cmlidXRlKCdpZCcsIFNFQ1RJT05fTkFWKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBkaXZVbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XHJcbiAgICAgICAgICAgIG5hdmlnYXRpb24uYXBwZW5kQ2hpbGQoZGl2VWwpO1xyXG5cclxuICAgICAgICAgICAgYXBwZW5kVG8obmF2aWdhdGlvbiwgJGJvZHkpO1xyXG4gICAgICAgICAgICB2YXIgbmF2ID0gJChTRUNUSU9OX05BVl9TRUwpWzBdO1xyXG5cclxuICAgICAgICAgICAgYWRkQ2xhc3MobmF2LCAnZnAtJyArIG9wdGlvbnMubmF2aWdhdGlvblBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuc2hvd0FjdGl2ZVRvb2x0aXApe1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MobmF2LCBTSE9XX0FDVElWRV9UT09MVElQKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGxpID0gJyc7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICQoU0VDVElPTl9TRUwpLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGluayA9ICcnO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYW5jaG9ycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rID0gb3B0aW9ucy5hbmNob3JzW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxpICs9ICc8bGk+PGEgaHJlZj1cIiMnICsgbGluayArICdcIj48c3Bhbj48L3NwYW4+PC9hPic7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gT25seSBhZGQgdG9vbHRpcCBpZiBuZWVkZWQgKGRlZmluZWQgYnkgdXNlcilcclxuICAgICAgICAgICAgICAgIHZhciB0b29sdGlwID0gb3B0aW9ucy5uYXZpZ2F0aW9uVG9vbHRpcHNbaV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b29sdGlwICE9PSAndW5kZWZpbmVkJyAmJiB0b29sdGlwICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpICs9ICc8ZGl2IGNsYXNzPVwiJyArIFNFQ1RJT05fTkFWX1RPT0xUSVAgKyAnIGZwLScgKyBvcHRpb25zLm5hdmlnYXRpb25Qb3NpdGlvbiArICdcIj4nICsgdG9vbHRpcCArICc8L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxpICs9ICc8L2xpPic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJCgndWwnLCBuYXYpWzBdLmlubmVySFRNTCA9IGxpO1xyXG5cclxuICAgICAgICAgICAgLy9jZW50ZXJpbmcgaXQgdmVydGljYWxseVxyXG4gICAgICAgICAgICBjc3MoJChTRUNUSU9OX05BVl9TRUwpLCB7J21hcmdpbi10b3AnOiAnLScgKyAoJChTRUNUSU9OX05BVl9TRUwpWzBdLm9mZnNldEhlaWdodC8yKSArICdweCd9KTtcclxuXHJcbiAgICAgICAgICAgIC8vYWN0aXZhdGluZyB0aGUgY3VycmVudCBhY3RpdmUgc2VjdGlvblxyXG5cclxuICAgICAgICAgICAgdmFyIGJ1bGxldCA9ICQoJ2xpJywgJChTRUNUSU9OX05BVl9TRUwpWzBdKVtpbmRleCgkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF0sIFNFQ1RJT05fU0VMKV07XHJcbiAgICAgICAgICAgIGFkZENsYXNzKCQoJ2EnLCBidWxsZXQpLCBBQ1RJVkUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAqIEVuYWJsZXMgdGhlIFlvdXR1YmUgdmlkZW9zIEFQSSBzbyB3ZSBjYW4gY29udHJvbCB0aGVpciBmbG93IGlmIG5lY2Vzc2FyeS5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGVuYWJsZVlvdXR1YmVBUEkoKXtcclxuICAgICAgICAgICAgJCgnaWZyYW1lW3NyYyo9XCJ5b3V0dWJlLmNvbS9lbWJlZC9cIl0nLCBjb250YWluZXIpLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XHJcbiAgICAgICAgICAgICAgICBhZGRVUkxQYXJhbShpdGVtLCAnZW5hYmxlanNhcGk9MScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQWRkcyBhIG5ldyBwYXJhbWV0ZXIgYW5kIGl0cyB2YWx1ZSB0byB0aGUgYHNyY2Agb2YgYSBnaXZlbiBlbGVtZW50XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBhZGRVUkxQYXJhbShlbGVtZW50LCBuZXdQYXJhbSl7XHJcbiAgICAgICAgICAgIHZhciBvcmlnaW5hbFNyYyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzcmMnKTtcclxuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsIG9yaWdpbmFsU3JjICsgZ2V0VXJsUGFyYW1TaWduKG9yaWdpbmFsU3JjKSArIG5ld1BhcmFtKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgKiBSZXR1cm5zIHRoZSBwcmVmaXggc2lnbiB0byB1c2UgZm9yIGEgbmV3IHBhcmFtZXRlciBpbiBhbiBleGlzdGVuIFVSTC5cclxuICAgICAgICAqXHJcbiAgICAgICAgKiBAcmV0dXJuIHtTdHJpbmd9ICA/IHwgJlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0VXJsUGFyYW1TaWduKHVybCl7XHJcbiAgICAgICAgICAgIHJldHVybiAoICEvXFw/Ly50ZXN0KCB1cmwgKSApID8gJz8nIDogJyYnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBBY3Rpb25zIGFuZCBjYWxsYmFja3MgdG8gZmlyZSBhZnRlclJlbmRlclxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gYWZ0ZXJSZW5kZXJBY3Rpb25zKCl7XHJcbiAgICAgICAgICAgIHZhciBzZWN0aW9uID0gJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdO1xyXG5cclxuICAgICAgICAgICAgYWRkQ2xhc3Moc2VjdGlvbiwgQ09NUExFVEVMWSk7XHJcblxyXG4gICAgICAgICAgICBsYXp5TG9hZChzZWN0aW9uKTtcclxuICAgICAgICAgICAgcGxheU1lZGlhKHNlY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgaWYob3B0aW9ucy5zY3JvbGxPdmVyZmxvdyl7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLnNjcm9sbE92ZXJmbG93SGFuZGxlci5hZnRlckxvYWQoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoaXNEZXN0aW55VGhlU3RhcnRpbmdTZWN0aW9uKCkgJiYgaXNGdW5jdGlvbihvcHRpb25zLmFmdGVyTG9hZCkgKXtcclxuICAgICAgICAgICAgICAgIGZpcmVDYWxsYmFjaygnYWZ0ZXJMb2FkJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZVNlY3Rpb246IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogc2VjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IG51bGwsXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGNhbGxiYWNrICh0byBiZSByZW1vdmVkIGluIGEgZnV0dXJlISlcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3JMaW5rOiBzZWN0aW9uLmdldEF0dHJpYnV0ZSgnZGF0YS1hbmNob3InKSxcclxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uSW5kZXg6IGluZGV4KHNlY3Rpb24sIFNFQ1RJT05fU0VMKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKGlzRnVuY3Rpb24ob3B0aW9ucy5hZnRlclJlbmRlcikpe1xyXG4gICAgICAgICAgICAgICAgZmlyZUNhbGxiYWNrKCdhZnRlclJlbmRlcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIERldGVybWluZXMgaWYgdGhlIFVSTCBhbmNob3IgZGVzdGlueSBpcyB0aGUgc3RhcnRpbmcgc2VjdGlvbiAodGhlIG9uZSB1c2luZyAnYWN0aXZlJyBjbGFzcyBiZWZvcmUgaW5pdGlhbGl6YXRpb24pXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBpc0Rlc3RpbnlUaGVTdGFydGluZ1NlY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uU2VjdGlvbiA9IGdldFNlY3Rpb25CeUFuY2hvcihnZXRBbmNob3JzVVJMKCkuc2VjdGlvbik7XHJcbiAgICAgICAgICAgIHJldHVybiAhZGVzdGluYXRpb25TZWN0aW9uIHx8IHR5cGVvZiBkZXN0aW5hdGlvblNlY3Rpb24gIT09J3VuZGVmaW5lZCcgJiYgaW5kZXgoZGVzdGluYXRpb25TZWN0aW9uKSA9PT0gaW5kZXgoc3RhcnRpbmdTZWN0aW9uKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBpc1Njcm9sbGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBsYXN0U2Nyb2xsID0gMDtcclxuXHJcbiAgICAgICAgLy93aGVuIHNjcm9sbGluZy4uLlxyXG4gICAgICAgIGZ1bmN0aW9uIHNjcm9sbEhhbmRsZXIoKXtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRTZWN0aW9uO1xyXG5cclxuICAgICAgICAgICAgaWYoIW9wdGlvbnMuYXV0b1Njcm9sbGluZyB8fCBvcHRpb25zLnNjcm9sbEJhcil7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFNjcm9sbCA9IGdldFNjcm9sbFRvcCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbERpcmVjdGlvbiA9IGdldFNjcm9sbERpcmVjdGlvbihjdXJyZW50U2Nyb2xsKTtcclxuICAgICAgICAgICAgICAgIHZhciB2aXNpYmxlU2VjdGlvbkluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIHZhciBzY3JlZW5fbWlkID0gY3VycmVudFNjcm9sbCArIChnZXRXaW5kb3dIZWlnaHQoKSAvIDIuMCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNBdEJvdHRvbSA9ICRib2R5Lm9mZnNldEhlaWdodCAtIGdldFdpbmRvd0hlaWdodCgpID09PSBjdXJyZW50U2Nyb2xsO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlY3Rpb25zID0gICQoU0VDVElPTl9TRUwpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vd2hlbiB1c2luZyBgYXV0by1oZWlnaHRgIGZvciBhIHNtYWxsIGxhc3Qgc2VjdGlvbiBpdCB3b24ndCBiZSBjZW50ZXJlZCBpbiB0aGUgdmlld3BvcnRcclxuICAgICAgICAgICAgICAgIGlmKGlzQXRCb3R0b20pe1xyXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVTZWN0aW9uSW5kZXggPSBzZWN0aW9ucy5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9pcyBhdCB0b3A/IHdoZW4gdXNpbmcgYGF1dG8taGVpZ2h0YCBmb3IgYSBzbWFsbCBmaXJzdCBzZWN0aW9uIGl0IHdvbid0IGJlIGNlbnRlcmVkIGluIHRoZSB2aWV3cG9ydFxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZighY3VycmVudFNjcm9sbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZVNlY3Rpb25JbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy90YWtpbmcgdGhlIHNlY3Rpb24gd2hpY2ggaXMgc2hvd2luZyBtb3JlIGNvbnRlbnQgaW4gdGhlIHZpZXdwb3J0XHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VjdGlvbnMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSBzZWN0aW9uc1tpXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBpY2sgdGhlIHRoZSBsYXN0IHNlY3Rpb24gd2hpY2ggcGFzc2VzIHRoZSBtaWRkbGUgbGluZSBvZiB0aGUgc2NyZWVuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VjdGlvbi5vZmZzZXRUb3AgPD0gc2NyZWVuX21pZClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZVNlY3Rpb25JbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoaXNDb21wbGV0ZWx5SW5WaWV3UG9ydChzY3JvbGxEaXJlY3Rpb24pKXtcclxuICAgICAgICAgICAgICAgICAgICBpZighaGFzQ2xhc3MoJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdLCBDT01QTEVURUxZKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKCQoU0VDVElPTl9BQ1RJVkVfU0VMKVswXSwgQ09NUExFVEVMWSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNpYmxpbmdzKCQoU0VDVElPTl9BQ1RJVkVfU0VMKVswXSksIENPTVBMRVRFTFkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL2dldGluZyB0aGUgbGFzdCBvbmUsIHRoZSBjdXJyZW50IG9uZSBvbiB0aGUgc2NyZWVuXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2VjdGlvbiA9IHNlY3Rpb25zW3Zpc2libGVTZWN0aW9uSW5kZXhdO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2V0dGluZyB0aGUgdmlzaWJsZSBzZWN0aW9uIGFzIGFjdGl2ZSB3aGVuIG1hbnVhbGx5IHNjcm9sbGluZ1xyXG4gICAgICAgICAgICAgICAgLy9leGVjdXRpbmcgb25seSBvbmNlIHRoZSBmaXJzdCB0aW1lIHdlIHJlYWNoIHRoZSBzZWN0aW9uXHJcbiAgICAgICAgICAgICAgICBpZighaGFzQ2xhc3MoY3VycmVudFNlY3Rpb24sIEFDVElWRSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzU2Nyb2xsaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGVhdmluZ1NlY3Rpb24gPSAkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxlYXZpbmdTZWN0aW9uSW5kZXggPSBpbmRleChsZWF2aW5nU2VjdGlvbiwgU0VDVElPTl9TRUwpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeU1vdmVtZW50ID0gZ2V0WW1vdmVtZW50KGN1cnJlbnRTZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYW5jaG9yTGluayAgPSBjdXJyZW50U2VjdGlvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtYW5jaG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlY3Rpb25JbmRleCA9IGluZGV4KGN1cnJlbnRTZWN0aW9uLCBTRUNUSU9OX1NFTCkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVTbGlkZSA9ICQoU0xJREVfQUNUSVZFX1NFTCwgY3VycmVudFNlY3Rpb24pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzbGlkZUluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzbGlkZUFuY2hvckxpbms7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrc1BhcmFtcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlU2VjdGlvbjogbGVhdmluZ1NlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb25JbmRleDogc2VjdGlvbkluZGV4IC0xLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JMaW5rOiBhbmNob3JMaW5rLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBjdXJyZW50U2VjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1NlY3Rpb246IGxlYXZpbmdTZWN0aW9uSW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogeU1vdmVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYWN0aXZlU2xpZGUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZUFuY2hvckxpbmsgPSBhY3RpdmVTbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYW5jaG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlSW5kZXggPSBpbmRleChhY3RpdmVTbGlkZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihjYW5TY3JvbGwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhjdXJyZW50U2VjdGlvbiwgQUNUSVZFKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3Moc2libGluZ3MoY3VycmVudFNlY3Rpb24pLCBBQ1RJVkUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNGdW5jdGlvbiggb3B0aW9ucy5vbkxlYXZlICkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyZUNhbGxiYWNrKCdvbkxlYXZlJywgY2FsbGJhY2tzUGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpc0Z1bmN0aW9uKCBvcHRpb25zLmFmdGVyTG9hZCApKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcmVDYWxsYmFjaygnYWZ0ZXJMb2FkJywgY2FsbGJhY2tzUGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcE1lZGlhKGxlYXZpbmdTZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF6eUxvYWQoY3VycmVudFNlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5TWVkaWEoY3VycmVudFNlY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZhdGVNZW51QW5kTmF2KGFuY2hvckxpbmssIHNlY3Rpb25JbmRleCAtIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYob3B0aW9ucy5hbmNob3JzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25lZWRlZCB0byBlbnRlciBpbiBoYXNoQ2hhbmdlIGV2ZW50IHdoZW4gdXNpbmcgdGhlIG1lbnUgd2l0aCBhbmNob3IgbGlua3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTY3JvbGxlZERlc3RpbnkgPSBhbmNob3JMaW5rO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFN0YXRlKHNsaWRlSW5kZXgsIHNsaWRlQW5jaG9yTGluaywgYW5jaG9yTGluaywgc2VjdGlvbkluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vc21hbGwgdGltZW91dCBpbiBvcmRlciB0byBhdm9pZCBlbnRlcmluZyBpbiBoYXNoQ2hhbmdlIGV2ZW50IHdoZW4gc2Nyb2xsaW5nIGlzIG5vdCBmaW5pc2hlZCB5ZXRcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc2Nyb2xsSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbElkID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1Njcm9sbGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5maXRUb1NlY3Rpb24pe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZm9yIHRoZSBhdXRvIGFkanVzdCBvZiB0aGUgdmlld3BvcnQgdG8gZml0IGEgd2hvbGUgc2VjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChzY3JvbGxJZDIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxJZDIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2tpbmcgaXQgYWdhaW4gaW4gY2FzZSBpdCBjaGFuZ2VkIGR1cmluZyB0aGUgZGVsYXlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYob3B0aW9ucy5maXRUb1NlY3Rpb24gJiZcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lzIHRoZSBkZXN0aW5hdGlvbiBlbGVtZW50IGJpZ2dlciB0aGFuIHRoZSB2aWV3cG9ydD9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoU0VDVElPTl9BQ1RJVkVfU0VMKVswXS5vZmZzZXRIZWlnaHQgPD0gd2luZG93c0hlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgICAgICApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZml0VG9TZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LCBvcHRpb25zLmZpdFRvU2VjdGlvbkRlbGF5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBGaXRzIHRoZSBzaXRlIHRvIHRoZSBuZWFyZXN0IGFjdGl2ZSBzZWN0aW9uXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBmaXRUb1NlY3Rpb24oKXtcclxuICAgICAgICAgICAgLy9jaGVja2luZyBmaXRUb1NlY3Rpb24gYWdhaW4gaW4gY2FzZSBpdCB3YXMgc2V0IHRvIGZhbHNlIGJlZm9yZSB0aGUgdGltZW91dCBkZWxheVxyXG4gICAgICAgICAgICBpZihjYW5TY3JvbGwpe1xyXG4gICAgICAgICAgICAgICAgLy9hbGxvd3MgdG8gc2Nyb2xsIHRvIGFuIGFjdGl2ZSBzZWN0aW9uIGFuZFxyXG4gICAgICAgICAgICAgICAgLy9pZiB0aGUgc2VjdGlvbiBpcyBhbHJlYWR5IGFjdGl2ZSwgd2UgcHJldmVudCBmaXJpbmcgY2FsbGJhY2tzXHJcbiAgICAgICAgICAgICAgICBpc1Jlc2l6aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxQYWdlKCQoU0VDVElPTl9BQ1RJVkVfU0VMKVswXSk7XHJcbiAgICAgICAgICAgICAgICBpc1Jlc2l6aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBhY3RpdmUgc2VjdGlvbiBoYXMgc2VlbiBpbiBpdHMgd2hvbGUgb3Igbm90LlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gaXNDb21wbGV0ZWx5SW5WaWV3UG9ydChtb3ZlbWVudCl7XHJcbiAgICAgICAgICAgIHZhciB0b3AgPSAkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF0ub2Zmc2V0VG9wO1xyXG4gICAgICAgICAgICB2YXIgYm90dG9tID0gdG9wICsgZ2V0V2luZG93SGVpZ2h0KCk7XHJcblxyXG4gICAgICAgICAgICBpZihtb3ZlbWVudCA9PSAndXAnKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3R0b20gPj0gKGdldFNjcm9sbFRvcCgpICsgZ2V0V2luZG93SGVpZ2h0KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0b3AgPD0gZ2V0U2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEdldHMgdGhlIGRpcmVjdG9uIG9mIHRoZSB0aGUgc2Nyb2xsaW5nIGZpcmVkIGJ5IHRoZSBzY3JvbGwgZXZlbnQuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBnZXRTY3JvbGxEaXJlY3Rpb24oY3VycmVudFNjcm9sbCl7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBjdXJyZW50U2Nyb2xsID4gbGFzdFNjcm9sbCA/ICdkb3duJyA6ICd1cCc7XHJcblxyXG4gICAgICAgICAgICBsYXN0U2Nyb2xsID0gY3VycmVudFNjcm9sbDtcclxuXHJcbiAgICAgICAgICAgIC8vbmVlZGVkIGZvciBhdXRvLWhlaWdodCBzZWN0aW9ucyB0byBkZXRlcm1pbmUgaWYgd2Ugd2FudCB0byBzY3JvbGwgdG8gdGhlIHRvcCBvciBib3R0b20gb2YgdGhlIGRlc3RpbmF0aW9uXHJcbiAgICAgICAgICAgIHByZXZpb3VzRGVzdFRvcCA9IGN1cnJlbnRTY3JvbGw7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aW9uO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBEZXRlcm1pbmVzIHRoZSB3YXkgb2Ygc2Nyb2xsaW5nIHVwIG9yIGRvd246XHJcbiAgICAgICAgKiBieSAnYXV0b21hdGljYWxseScgc2Nyb2xsaW5nIGEgc2VjdGlvbiBvciBieSB1c2luZyB0aGUgZGVmYXVsdCBhbmQgbm9ybWFsIHNjcm9sbGluZy5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNjcm9sbGluZyh0eXBlKXtcclxuICAgICAgICAgICAgaWYgKCFpc1Njcm9sbEFsbG93ZWQubVt0eXBlXSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBzY3JvbGxTZWN0aW9uID0gKHR5cGUgPT09ICdkb3duJykgPyBtb3ZlU2VjdGlvbkRvd24gOiBtb3ZlU2VjdGlvblVwO1xyXG5cclxuICAgICAgICAgICAgaWYob3B0aW9ucy5zY3JvbGxPdmVyZmxvdyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsYWJsZSA9IG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyLnNjcm9sbGFibGUoJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdKTtcclxuICAgICAgICAgICAgICAgIHZhciBjaGVjayA9ICh0eXBlID09PSAnZG93bicpID8gJ2JvdHRvbScgOiAndG9wJztcclxuXHJcbiAgICAgICAgICAgICAgICBpZihzY3JvbGxhYmxlICE9IG51bGwgKXtcclxuICAgICAgICAgICAgICAgICAgICAvL2lzIHRoZSBzY3JvbGxiYXIgYXQgdGhlIHN0YXJ0L2VuZCBvZiB0aGUgc2Nyb2xsP1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyLmlzU2Nyb2xsZWQoY2hlY2ssIHNjcm9sbGFibGUpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsU2VjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlZCB1cC9kb3duXHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsU2VjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIC8vIG1vdmVkIHVwL2Rvd25cclxuICAgICAgICAgICAgICAgIHNjcm9sbFNlY3Rpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAqIFByZXZlbnRpbmcgYm91bmNpbmcgaW4gaU9TICMyMjg1XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBwcmV2ZW50Qm91bmNpbmcoZSl7XHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuYXV0b1Njcm9sbGluZyAmJiBpc1JlYWxseVRvdWNoKGUpKXtcclxuICAgICAgICAgICAgICAgIC8vcHJldmVudGluZyB0aGUgZWFzaW5nIG9uIGlPUyBkZXZpY2VzXHJcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdChlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRvdWNoU3RhcnRZID0gMDtcclxuICAgICAgICB2YXIgdG91Y2hTdGFydFggPSAwO1xyXG4gICAgICAgIHZhciB0b3VjaEVuZFkgPSAwO1xyXG4gICAgICAgIHZhciB0b3VjaEVuZFggPSAwO1xyXG5cclxuICAgICAgICAvKiBEZXRlY3RpbmcgdG91Y2ggZXZlbnRzXHJcblxyXG4gICAgICAgICogQXMgd2UgYXJlIGNoYW5naW5nIHRoZSB0b3AgcHJvcGVydHkgb2YgdGhlIHBhZ2Ugb24gc2Nyb2xsaW5nLCB3ZSBjYW4gbm90IHVzZSB0aGUgdHJhZGl0aW9uYWwgd2F5IHRvIGRldGVjdCBpdC5cclxuICAgICAgICAqIFRoaXMgd2F5LCB0aGUgdG91Y2hzdGFydCBhbmQgdGhlIHRvdWNoIG1vdmVzIHNob3dzIGFuIHNtYWxsIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGVtIHdoaWNoIGlzIHRoZVxyXG4gICAgICAgICogdXNlZCBvbmUgdG8gZGV0ZXJtaW5lIHRoZSBkaXJlY3Rpb24uXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB0b3VjaE1vdmVIYW5kbGVyKGUpe1xyXG4gICAgICAgICAgICB2YXIgYWN0aXZlU2VjdGlvbiA9IGNsb3Nlc3QoZS50YXJnZXQsIFNFQ1RJT05fU0VMKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFkZGl0aW9uYWw6IGlmIG9uZSBvZiB0aGUgbm9ybWFsU2Nyb2xsRWxlbWVudHMgaXNuJ3Qgd2l0aGluIG9wdGlvbnMubm9ybWFsU2Nyb2xsRWxlbWVudFRvdWNoVGhyZXNob2xkIGhvcHMgdXAgdGhlIERPTSBjaGFpblxyXG4gICAgICAgICAgICBpZiAoaXNSZWFsbHlUb3VjaChlKSApIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihvcHRpb25zLmF1dG9TY3JvbGxpbmcpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcHJldmVudGluZyB0aGUgZWFzaW5nIG9uIGlPUyBkZXZpY2VzXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQoZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHRvdWNoRXZlbnRzID0gZ2V0RXZlbnRzUGFnZShlKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0b3VjaEVuZFkgPSB0b3VjaEV2ZW50cy55O1xyXG4gICAgICAgICAgICAgICAgdG91Y2hFbmRYID0gdG91Y2hFdmVudHMueDtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2lmIG1vdmVtZW50IGluIHRoZSBYIGF4eXMgaXMgZ3JlYXRlciB0aGFuIGluIHRoZSBZIGFuZCB0aGUgY3VycmVjdCBzZWN0aW9uIGhhcyBzbGlkZXMuLi5cclxuICAgICAgICAgICAgICAgIGlmICgkKFNMSURFU19XUkFQUEVSX1NFTCwgYWN0aXZlU2VjdGlvbikubGVuZ3RoICYmIE1hdGguYWJzKHRvdWNoU3RhcnRYIC0gdG91Y2hFbmRYKSA+IChNYXRoLmFicyh0b3VjaFN0YXJ0WSAtIHRvdWNoRW5kWSkpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vaXMgdGhlIG1vdmVtZW50IGdyZWF0ZXIgdGhhbiB0aGUgbWluaW11bSByZXNpc3RhbmNlIHRvIHNjcm9sbD9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNsaWRlTW92aW5nICYmIE1hdGguYWJzKHRvdWNoU3RhcnRYIC0gdG91Y2hFbmRYKSA+ICh3aW5kb3cuaW5uZXJXaWR0aCAvIDEwMCAqIG9wdGlvbnMudG91Y2hTZW5zaXRpdml0eSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvdWNoU3RhcnRYID4gdG91Y2hFbmRYKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpc1Njcm9sbEFsbG93ZWQubS5yaWdodCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVNsaWRlUmlnaHQoYWN0aXZlU2VjdGlvbik7IC8vbmV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNTY3JvbGxBbGxvd2VkLm0ubGVmdCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVNsaWRlTGVmdChhY3RpdmVTZWN0aW9uKTsgLy9wcmV2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy92ZXJ0aWNhbCBzY3JvbGxpbmcgKG9ubHkgd2hlbiBhdXRvU2Nyb2xsaW5nIGlzIGVuYWJsZWQpXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmKG9wdGlvbnMuYXV0b1Njcm9sbGluZyAmJiBjYW5TY3JvbGwpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2lzIHRoZSBtb3ZlbWVudCBncmVhdGVyIHRoYW4gdGhlIG1pbmltdW0gcmVzaXN0YW5jZSB0byBzY3JvbGw/XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRvdWNoU3RhcnRZIC0gdG91Y2hFbmRZKSA+ICh3aW5kb3cuaW5uZXJIZWlnaHQgLyAxMDAgKiBvcHRpb25zLnRvdWNoU2Vuc2l0aXZpdHkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b3VjaFN0YXJ0WSA+IHRvdWNoRW5kWSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsaW5nKCdkb3duJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG91Y2hFbmRZID4gdG91Y2hTdGFydFkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGluZygndXAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBBcyBJRSA+PSAxMCBmaXJlcyBib3RoIHRvdWNoIGFuZCBtb3VzZSBldmVudHMgd2hlbiB1c2luZyBhIG1vdXNlIGluIGEgdG91Y2hzY3JlZW5cclxuICAgICAgICAqIHRoaXMgd2F5IHdlIG1ha2Ugc3VyZSB0aGF0IGlzIHJlYWxseSBhIHRvdWNoIGV2ZW50IHdoYXQgSUUgaXMgZGV0ZWN0aW5nLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gaXNSZWFsbHlUb3VjaChlKXtcclxuICAgICAgICAgICAgLy9pZiBpcyBub3QgSUUgICB8fCAgSUUgaXMgZGV0ZWN0aW5nIGB0b3VjaGAgb3IgYHBlbmBcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBlLnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJyB8fCBlLnBvaW50ZXJUeXBlICE9ICdtb3VzZSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEhhbmRsZXIgZm9yIHRoZSB0b3VjaCBzdGFydCBldmVudC5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHRvdWNoU3RhcnRIYW5kbGVyKGUpe1xyXG5cclxuICAgICAgICAgICAgLy9zdG9wcGluZyB0aGUgYXV0byBzY3JvbGwgdG8gYWRqdXN0IHRvIGEgc2VjdGlvblxyXG4gICAgICAgICAgICBpZihvcHRpb25zLmZpdFRvU2VjdGlvbil7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVBbmltYXRpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoaXNSZWFsbHlUb3VjaChlKSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgdG91Y2hFdmVudHMgPSBnZXRFdmVudHNQYWdlKGUpO1xyXG4gICAgICAgICAgICAgICAgdG91Y2hTdGFydFkgPSB0b3VjaEV2ZW50cy55O1xyXG4gICAgICAgICAgICAgICAgdG91Y2hTdGFydFggPSB0b3VjaEV2ZW50cy54O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEdldHMgdGhlIGF2ZXJhZ2Ugb2YgdGhlIGxhc3QgYG51bWJlcmAgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5LlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0QXZlcmFnZShlbGVtZW50cywgbnVtYmVyKXtcclxuICAgICAgICAgICAgdmFyIHN1bSA9IDA7XHJcblxyXG4gICAgICAgICAgICAvL3Rha2luZyBgbnVtYmVyYCBlbGVtZW50cyBmcm9tIHRoZSBlbmQgdG8gbWFrZSB0aGUgYXZlcmFnZSwgaWYgdGhlcmUgYXJlIG5vdCBlbm91Z2h0LCAxXHJcbiAgICAgICAgICAgIHZhciBsYXN0RWxlbWVudHMgPSBlbGVtZW50cy5zbGljZShNYXRoLm1heChlbGVtZW50cy5sZW5ndGggLSBudW1iZXIsIDEpKTtcclxuXHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBsYXN0RWxlbWVudHMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgc3VtID0gc3VtICsgbGFzdEVsZW1lbnRzW2ldO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKHN1bS9udW1iZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRGV0ZWN0aW5nIG1vdXNld2hlZWwgc2Nyb2xsaW5nXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBodHRwOi8vYmxvZ3Muc2l0ZXBvaW50c3RhdGljLmNvbS9leGFtcGxlcy90ZWNoL21vdXNlLXdoZWVsL2luZGV4Lmh0bWxcclxuICAgICAgICAgKiBodHRwOi8vd3d3LnNpdGVwb2ludC5jb20vaHRtbDUtamF2YXNjcmlwdC1tb3VzZS13aGVlbC9cclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgcHJldlRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gTW91c2VXaGVlbEhhbmRsZXIoZSkge1xyXG4gICAgICAgICAgICB2YXIgY3VyVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICB2YXIgaXNOb3JtYWxTY3JvbGwgPSBoYXNDbGFzcygkKENPTVBMRVRFTFlfU0VMKVswXSwgTk9STUFMX1NDUk9MTCk7XHJcblxyXG4gICAgICAgICAgICAvL2F1dG9zY3JvbGxpbmcgYW5kIG5vdCB6b29taW5nP1xyXG4gICAgICAgICAgICBpZihvcHRpb25zLmF1dG9TY3JvbGxpbmcgJiYgIWNvbnRyb2xQcmVzc2VkICYmICFpc05vcm1hbFNjcm9sbCl7XHJcbiAgICAgICAgICAgICAgICAvLyBjcm9zcy1icm93c2VyIHdoZWVsIGRlbHRhXHJcbiAgICAgICAgICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBlLndoZWVsRGVsdGEgfHwgLWUuZGVsdGFZIHx8IC1lLmRldGFpbDtcclxuICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IE1hdGgubWF4KC0xLCBNYXRoLm1pbigxLCB2YWx1ZSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBob3Jpem9udGFsRGV0ZWN0aW9uID0gdHlwZW9mIGUud2hlZWxEZWx0YVggIT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBlLmRlbHRhWCAhPT0gJ3VuZGVmaW5lZCc7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNTY3JvbGxpbmdWZXJ0aWNhbGx5ID0gKE1hdGguYWJzKGUud2hlZWxEZWx0YVgpIDwgTWF0aC5hYnMoZS53aGVlbERlbHRhKSkgfHwgKE1hdGguYWJzKGUuZGVsdGFYICkgPCBNYXRoLmFicyhlLmRlbHRhWSkgfHwgIWhvcml6b250YWxEZXRlY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vTGltaXRpbmcgdGhlIGFycmF5IHRvIDE1MCAobGV0cyBub3Qgd2FzdGUgbWVtb3J5ISlcclxuICAgICAgICAgICAgICAgIGlmKHNjcm9sbGluZ3MubGVuZ3RoID4gMTQ5KXtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxpbmdzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9rZWVwaW5nIHJlY29yZCBvZiB0aGUgcHJldmlvdXMgc2Nyb2xsaW5nc1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsaW5ncy5wdXNoKE1hdGguYWJzKHZhbHVlKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9wcmV2ZW50aW5nIHRvIHNjcm9sbCB0aGUgc2l0ZSBvbiBtb3VzZSB3aGVlbCB3aGVuIHNjcm9sbGJhciBpcyBwcmVzZW50XHJcbiAgICAgICAgICAgICAgICBpZihvcHRpb25zLnNjcm9sbEJhcil7XHJcbiAgICAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdChlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL3RpbWUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBsYXN0IHNjcm9sbCBhbmQgdGhlIGN1cnJlbnQgb25lXHJcbiAgICAgICAgICAgICAgICB2YXIgdGltZURpZmYgPSBjdXJUaW1lLXByZXZUaW1lO1xyXG4gICAgICAgICAgICAgICAgcHJldlRpbWUgPSBjdXJUaW1lO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vaGF2ZW4ndCB0aGV5IHNjcm9sbGVkIGluIGEgd2hpbGU/XHJcbiAgICAgICAgICAgICAgICAvLyhlbm91Z2ggdG8gYmUgY29uc2lkZXIgYSBkaWZmZXJlbnQgc2Nyb2xsaW5nIGFjdGlvbiB0byBzY3JvbGwgYW5vdGhlciBzZWN0aW9uKVxyXG4gICAgICAgICAgICAgICAgaWYodGltZURpZmYgPiAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZW1wdHlpbmcgdGhlIGFycmF5LCB3ZSBkb250IGNhcmUgYWJvdXQgb2xkIHNjcm9sbGluZ3MgZm9yIG91ciBhdmVyYWdlc1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGluZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZihjYW5TY3JvbGwpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlRW5kID0gZ2V0QXZlcmFnZShzY3JvbGxpbmdzLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2VNaWRkbGUgPSBnZXRBdmVyYWdlKHNjcm9sbGluZ3MsIDcwKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNBY2NlbGVyYXRpbmcgPSBhdmVyYWdlRW5kID49IGF2ZXJhZ2VNaWRkbGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vdG8gYXZvaWQgZG91YmxlIHN3aXBlcy4uLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGlzQWNjZWxlcmF0aW5nICYmIGlzU2Nyb2xsaW5nVmVydGljYWxseSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2Nyb2xsaW5nIGRvd24/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWx0YSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGluZygnZG93bicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zY3JvbGxpbmcgdXA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGluZygndXAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuZml0VG9TZWN0aW9uKXtcclxuICAgICAgICAgICAgICAgIC8vc3RvcHBpbmcgdGhlIGF1dG8gc2Nyb2xsIHRvIGFkanVzdCB0byBhIHNlY3Rpb25cclxuICAgICAgICAgICAgICAgIGFjdGl2ZUFuaW1hdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNsaWRlcyBhIHNsaWRlciB0byB0aGUgZ2l2ZW4gZGlyZWN0aW9uLlxyXG4gICAgICAgICogT3B0aW9uYWwgYHNlY3Rpb25gIHBhcmFtLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gbW92ZVNsaWRlKGRpcmVjdGlvbiwgc2VjdGlvbil7XHJcbiAgICAgICAgICAgIHZhciBhY3RpdmVTZWN0aW9uID0gc2VjdGlvbiA9PSBudWxsID8gJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdIDogc2VjdGlvbjtcclxuICAgICAgICAgICAgdmFyIHNsaWRlcyA9ICQoU0xJREVTX1dSQVBQRVJfU0VMLCBhY3RpdmVTZWN0aW9uKVswXTtcclxuXHJcbiAgICAgICAgICAgIC8vIG1vcmUgdGhhbiBvbmUgc2xpZGUgbmVlZGVkIGFuZCBub3RoaW5nIHNob3VsZCBiZSBzbGlkaW5nXHJcbiAgICAgICAgICAgIGlmIChzbGlkZXMgPT0gbnVsbCB8fCBzbGlkZU1vdmluZyB8fCAkKFNMSURFX1NFTCwgc2xpZGVzKS5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50U2xpZGUgPSAkKFNMSURFX0FDVElWRV9TRUwsIHNsaWRlcylbMF07XHJcbiAgICAgICAgICAgIHZhciBkZXN0aW55ID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmKGRpcmVjdGlvbiA9PT0gJ2xlZnQnKXtcclxuICAgICAgICAgICAgICAgIGRlc3RpbnkgPSBwcmV2VW50aWwoY3VycmVudFNsaWRlLCBTTElERV9TRUwpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGRlc3RpbnkgPSBuZXh0VW50aWwoY3VycmVudFNsaWRlLCBTTElERV9TRUwpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL2lzbid0IHRoZXJlIGEgbmV4dCBzbGlkZSBpbiB0aGUgc2VjdWVuY2U/XHJcbiAgICAgICAgICAgIGlmKGRlc3RpbnkgPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAvL3Jlc3BlY3QgbG9vcEhvcml6b250YWwgc2V0dGluXHJcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMubG9vcEhvcml6b250YWwpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgc2xpZGVTaWJsaW5ncyA9IHNpYmxpbmdzKGN1cnJlbnRTbGlkZSk7XHJcbiAgICAgICAgICAgICAgICBpZihkaXJlY3Rpb24gPT09ICdsZWZ0Jyl7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVzdGlueSA9IHNsaWRlU2libGluZ3Nbc2xpZGVTaWJsaW5ncy5sZW5ndGggLSAxXTsgLy9sYXN0XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBkZXN0aW55ID0gc2xpZGVTaWJsaW5nc1swXTsgLy9maXJzdFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzbGlkZU1vdmluZyA9IHRydWUgJiYgIUZQLnRlc3QuaXNUZXN0aW5nO1xyXG4gICAgICAgICAgICBsYW5kc2NhcGVTY3JvbGwoc2xpZGVzLCBkZXN0aW55LCBkaXJlY3Rpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBNYWludGFpbnMgdGhlIGFjdGl2ZSBzbGlkZXMgaW4gdGhlIHZpZXdwb3J0XHJcbiAgICAgICAgKiAoQmVjYXVzZSB0aGUgYHNjcm9sbGAgYW5pbWF0aW9uIG1pZ2h0IGdldCBsb3N0IHdpdGggc29tZSBhY3Rpb25zLCBzdWNoIGFzIHdoZW4gdXNpbmcgY29udGludW91c1ZlcnRpY2FsKVxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24ga2VlcFNsaWRlc1Bvc2l0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciBhY3RpdmVTbGlkZXMgPSAkKFNMSURFX0FDVElWRV9TRUwpO1xyXG4gICAgICAgICAgICBmb3IoIHZhciBpID0wOyBpPGFjdGl2ZVNsaWRlcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBzaWxlbnRMYW5kc2NhcGVTY3JvbGwoYWN0aXZlU2xpZGVzW2ldLCAnaW50ZXJuYWwnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHByZXZpb3VzRGVzdFRvcCA9IDA7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBSZXR1cm5zIHRoZSBkZXN0aW5hdGlvbiBZIHBvc2l0aW9uIGJhc2VkIG9uIHRoZSBzY3JvbGxpbmcgZGlyZWN0aW9uIGFuZFxyXG4gICAgICAgICogdGhlIGhlaWdodCBvZiB0aGUgc2VjdGlvbi5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldERlc3RpbmF0aW9uUG9zaXRpb24oZWxlbWVudCl7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50SGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50VG9wID0gZWxlbWVudC5vZmZzZXRUb3A7XHJcblxyXG4gICAgICAgICAgICAvL3RvcCBvZiB0aGUgZGVzaW5hdGlvbiB3aWxsIGJlIGF0IHRoZSB0b3Agb2YgdGhlIHZpZXdwb3J0XHJcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IGVsZW1lbnRUb3A7XHJcbiAgICAgICAgICAgIHZhciBpc1Njcm9sbGluZ0Rvd24gPSAgZWxlbWVudFRvcCA+IHByZXZpb3VzRGVzdFRvcDtcclxuICAgICAgICAgICAgdmFyIHNlY3Rpb25Cb3R0b20gPSBwb3NpdGlvbiAtIHdpbmRvd3NIZWlnaHQgKyBlbGVtZW50SGVpZ2h0O1xyXG4gICAgICAgICAgICB2YXIgYmlnU2VjdGlvbnNEZXN0aW5hdGlvbiA9IG9wdGlvbnMuYmlnU2VjdGlvbnNEZXN0aW5hdGlvbjtcclxuXHJcbiAgICAgICAgICAgIC8vaXMgdGhlIGRlc3RpbmF0aW9uIGVsZW1lbnQgYmlnZ2VyIHRoYW4gdGhlIHZpZXdwb3J0P1xyXG4gICAgICAgICAgICBpZihlbGVtZW50SGVpZ2h0ID4gd2luZG93c0hlaWdodCl7XHJcbiAgICAgICAgICAgICAgICAvL3Njcm9sbGluZyB1cD9cclxuICAgICAgICAgICAgICAgIGlmKCFpc1Njcm9sbGluZ0Rvd24gJiYgIWJpZ1NlY3Rpb25zRGVzdGluYXRpb24gfHwgYmlnU2VjdGlvbnNEZXN0aW5hdGlvbiA9PT0gJ2JvdHRvbScgKXtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHNlY3Rpb25Cb3R0b207XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vc2VjdGlvbnMgZXF1YWwgb3Igc21hbGxlciB0aGFuIHRoZSB2aWV3cG9ydCBoZWlnaHQgJiYgc2Nyb2xsaW5nIGRvd24/IHx8ICBpcyByZXNpemluZyBhbmQgaXRzIGluIHRoZSBsYXN0IHNlY3Rpb25cclxuICAgICAgICAgICAgZWxzZSBpZihpc1Njcm9sbGluZ0Rvd24gfHwgKGlzUmVzaXppbmcgJiYgbmV4dChlbGVtZW50KSA9PSBudWxsKSApe1xyXG4gICAgICAgICAgICAgICAgLy9UaGUgYm90dG9tIG9mIHRoZSBkZXN0aW5hdGlvbiB3aWxsIGJlIGF0IHRoZSBib3R0b20gb2YgdGhlIHZpZXdwb3J0XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHNlY3Rpb25Cb3R0b207XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgIEtlZXBpbmcgcmVjb3JkIG9mIHRoZSBsYXN0IHNjcm9sbGVkIHBvc2l0aW9uIHRvIGRldGVybWluZSB0aGUgc2Nyb2xsaW5nIGRpcmVjdGlvbi5cclxuICAgICAgICAgICAgTm8gY29udmVudGlvbmFsIG1ldGhvZHMgY2FuIGJlIHVzZWQgYXMgdGhlIHNjcm9sbCBiYXIgbWlnaHQgbm90IGJlIHByZXNlbnRcclxuICAgICAgICAgICAgQU5EIHRoZSBzZWN0aW9uIG1pZ2h0IG5vdCBiZSBhY3RpdmUgaWYgaXQgaXMgYXV0by1oZWlnaHQgYW5kIGRpZG50IHJlYWNoIHRoZSBtaWRkbGVcclxuICAgICAgICAgICAgb2YgdGhlIHZpZXdwb3J0LlxyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBwcmV2aW91c0Rlc3RUb3AgPSBwb3NpdGlvbjtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBTY3JvbGxzIHRoZSBzaXRlIHRvIHRoZSBnaXZlbiBlbGVtZW50IGFuZCBzY3JvbGxzIHRvIHRoZSBzbGlkZSBpZiBhIGNhbGxiYWNrIGlzIGdpdmVuLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2Nyb2xsUGFnZShlbGVtZW50LCBjYWxsYmFjaywgaXNNb3ZlbWVudFVwKXtcclxuICAgICAgICAgICAgaWYoZWxlbWVudCA9PSBudWxsKXsgcmV0dXJuOyB9IC8vdGhlcmUncyBubyBlbGVtZW50IHRvIHNjcm9sbCwgbGVhdmluZyB0aGUgZnVuY3Rpb25cclxuXHJcbiAgICAgICAgICAgIHZhciBkdG9wID0gZ2V0RGVzdGluYXRpb25Qb3NpdGlvbihlbGVtZW50KTtcclxuICAgICAgICAgICAgdmFyIHNsaWRlQW5jaG9yTGluaztcclxuICAgICAgICAgICAgdmFyIHNsaWRlSW5kZXg7XHJcblxyXG4gICAgICAgICAgICAvL2xvY2FsIHZhcmlhYmxlc1xyXG4gICAgICAgICAgICB2YXIgdiA9IHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXHJcbiAgICAgICAgICAgICAgICBpc01vdmVtZW50VXA6IGlzTW92ZW1lbnRVcCxcclxuICAgICAgICAgICAgICAgIGR0b3A6IGR0b3AsXHJcbiAgICAgICAgICAgICAgICB5TW92ZW1lbnQ6IGdldFltb3ZlbWVudChlbGVtZW50KSxcclxuICAgICAgICAgICAgICAgIGFuY2hvckxpbms6IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWFuY2hvcicpLFxyXG4gICAgICAgICAgICAgICAgc2VjdGlvbkluZGV4OiBpbmRleChlbGVtZW50LCBTRUNUSU9OX1NFTCksXHJcbiAgICAgICAgICAgICAgICBhY3RpdmVTbGlkZTogJChTTElERV9BQ1RJVkVfU0VMLCBlbGVtZW50KVswXSxcclxuICAgICAgICAgICAgICAgIGFjdGl2ZVNlY3Rpb246ICQoU0VDVElPTl9BQ1RJVkVfU0VMKVswXSxcclxuICAgICAgICAgICAgICAgIGxlYXZpbmdTZWN0aW9uOiBpbmRleCgkKFNFQ1RJT05fQUNUSVZFX1NFTCksIFNFQ1RJT05fU0VMKSArIDEsXHJcblxyXG4gICAgICAgICAgICAgICAgLy9jYWNoaW5nIHRoZSB2YWx1ZSBvZiBpc1Jlc2l6aW5nIGF0IHRoZSBtb21tZW50IHRoZSBmdW5jdGlvbiBpcyBjYWxsZWRcclxuICAgICAgICAgICAgICAgIC8vYmVjYXVzZSBpdCB3aWxsIGJlIGNoZWNrZWQgbGF0ZXIgaW5zaWRlIGEgc2V0VGltZW91dCBhbmQgdGhlIHZhbHVlIG1pZ2h0IGNoYW5nZVxyXG4gICAgICAgICAgICAgICAgbG9jYWxJc1Jlc2l6aW5nOiBpc1Jlc2l6aW5nXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3F1aXRpbmcgd2hlbiBkZXN0aW5hdGlvbiBzY3JvbGwgaXMgdGhlIHNhbWUgYXMgdGhlIGN1cnJlbnQgb25lXHJcbiAgICAgICAgICAgIGlmKCh2LmFjdGl2ZVNlY3Rpb24gPT0gZWxlbWVudCAmJiAhaXNSZXNpemluZykgfHwgKG9wdGlvbnMuc2Nyb2xsQmFyICYmIGdldFNjcm9sbFRvcCgpID09PSB2LmR0b3AgJiYgIWhhc0NsYXNzKGVsZW1lbnQsIEFVVE9fSEVJR0hUKSApKXsgcmV0dXJuOyB9XHJcblxyXG4gICAgICAgICAgICBpZih2LmFjdGl2ZVNsaWRlICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgc2xpZGVBbmNob3JMaW5rID0gdi5hY3RpdmVTbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYW5jaG9yJyk7XHJcbiAgICAgICAgICAgICAgICBzbGlkZUluZGV4ID0gaW5kZXgodi5hY3RpdmVTbGlkZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vY2FsbGJhY2sgKG9uTGVhdmUpIGlmIHRoZSBzaXRlIGlzIG5vdCBqdXN0IHJlc2l6aW5nIGFuZCByZWFkanVzdGluZyB0aGUgc2xpZGVzXHJcbiAgICAgICAgICAgIGlmKGlzRnVuY3Rpb24ob3B0aW9ucy5vbkxlYXZlKSAmJiAhdi5sb2NhbElzUmVzaXppbmcpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHYueU1vdmVtZW50O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vcmVxdWlyZWQgZm9yIGNvbnRpbm91c1ZlcnRpY2FsXHJcbiAgICAgICAgICAgICAgICBpZih0eXBlb2YgaXNNb3ZlbWVudFVwICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gaXNNb3ZlbWVudFVwID8gJ3VwJyA6ICdkb3duJztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL2ZvciB0aGUgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIHYuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKGZpcmVDYWxsYmFjaygnb25MZWF2ZScsIHYpID09PSBmYWxzZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBJZiBjb250aW51b3VzVmVydGljYWwgJiYgd2UgbmVlZCB0byB3cmFwIGFyb3VuZFxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hdXRvU2Nyb2xsaW5nICYmIG9wdGlvbnMuY29udGludW91c1ZlcnRpY2FsICYmIHR5cGVvZiAodi5pc01vdmVtZW50VXApICE9PSBcInVuZGVmaW5lZFwiICYmXHJcbiAgICAgICAgICAgICAgICAoKCF2LmlzTW92ZW1lbnRVcCAmJiB2LnlNb3ZlbWVudCA9PSAndXAnKSB8fCAvLyBJbnRlbmRpbmcgdG8gc2Nyb2xsIGRvd24gYnV0IGFib3V0IHRvIGdvIHVwIG9yXHJcbiAgICAgICAgICAgICAgICAodi5pc01vdmVtZW50VXAgJiYgdi55TW92ZW1lbnQgPT0gJ2Rvd24nKSkpIHsgLy8gaW50ZW5kaW5nIHRvIHNjcm9sbCB1cCBidXQgYWJvdXQgdG8gZ28gZG93blxyXG5cclxuICAgICAgICAgICAgICAgIHYgPSBjcmVhdGVJbmZpbml0ZVNlY3Rpb25zKHYpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL3BhdXNpbmcgbWVkaWEgb2YgdGhlIGxlYXZpbmcgc2VjdGlvbiAoaWYgd2UgYXJlIG5vdCBqdXN0IHJlc2l6aW5nLCBhcyBkZXN0aW5hdGlubyB3aWxsIGJlIHRoZSBzYW1lIG9uZSlcclxuICAgICAgICAgICAgaWYoIXYubG9jYWxJc1Jlc2l6aW5nKXtcclxuICAgICAgICAgICAgICAgIHN0b3BNZWRpYSh2LmFjdGl2ZVNlY3Rpb24pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihvcHRpb25zLnNjcm9sbE92ZXJmbG93KXtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyLmJlZm9yZUxlYXZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIEFDVElWRSk7XHJcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNpYmxpbmdzKGVsZW1lbnQpLCBBQ1RJVkUpO1xyXG4gICAgICAgICAgICBsYXp5TG9hZChlbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3cpe1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zY3JvbGxPdmVyZmxvd0hhbmRsZXIub25MZWF2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL3ByZXZlbnRpbmcgZnJvbSBhY3RpdmF0aW5nIHRoZSBNb3VzZVdoZWVsSGFuZGxlciBldmVudFxyXG4gICAgICAgICAgICAvL21vcmUgdGhhbiBvbmNlIGlmIHRoZSBwYWdlIGlzIHNjcm9sbGluZ1xyXG4gICAgICAgICAgICBjYW5TY3JvbGwgPSBmYWxzZSB8fCBGUC50ZXN0LmlzVGVzdGluZztcclxuXHJcbiAgICAgICAgICAgIHNldFN0YXRlKHNsaWRlSW5kZXgsIHNsaWRlQW5jaG9yTGluaywgdi5hbmNob3JMaW5rLCB2LnNlY3Rpb25JbmRleCk7XHJcblxyXG4gICAgICAgICAgICBwZXJmb3JtTW92ZW1lbnQodik7XHJcblxyXG4gICAgICAgICAgICAvL2ZsYWcgdG8gYXZvaWQgY2FsbGluZ24gYHNjcm9sbFBhZ2UoKWAgdHdpY2UgaW4gY2FzZSBvZiB1c2luZyBhbmNob3IgbGlua3NcclxuICAgICAgICAgICAgbGFzdFNjcm9sbGVkRGVzdGlueSA9IHYuYW5jaG9yTGluaztcclxuXHJcbiAgICAgICAgICAgIC8vYXZvaWQgZmlyaW5nIGl0IHR3aWNlIChhcyBpdCBkb2VzIGFsc28gb24gc2Nyb2xsKVxyXG4gICAgICAgICAgICBhY3RpdmF0ZU1lbnVBbmROYXYodi5hbmNob3JMaW5rLCB2LnNlY3Rpb25JbmRleCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIERpc3BhdGNoIGV2ZW50cyAmIGNhbGxiYWNrcyBtYWtpbmcgc3VyZSBpdCBkb2VzIGl0IG9uIHRoZSByaWdodCBmb3JtYXQsIGRlcGVuZGluZyBvblxyXG4gICAgICAgICogd2hldGhlciB2MmNvbXBhdGlibGUgaXMgYmVpbmcgdXNlZCBvciBub3QuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBmaXJlQ2FsbGJhY2soZXZlbnROYW1lLCB2KXtcclxuICAgICAgICAgICAgdmFyIGV2ZW50RGF0YSA9IGdldEV2ZW50RGF0YShldmVudE5hbWUsIHYpO1xyXG5cclxuICAgICAgICAgICAgaWYoIW9wdGlvbnMudjJjb21wYXRpYmxlKXtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXIoY29udGFpbmVyLCBldmVudE5hbWUsIGV2ZW50RGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9uc1tldmVudE5hbWVdLmFwcGx5KGV2ZW50RGF0YVtPYmplY3Qua2V5cyhldmVudERhdGEpWzBdXSwgdG9BcnJheShldmVudERhdGEpKSA9PT0gZmFsc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9uc1tldmVudE5hbWVdLmFwcGx5KGV2ZW50RGF0YVswXSwgZXZlbnREYXRhLnNsaWNlKDEpKSA9PT0gZmFsc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIE1ha2VzIHN1cmUgdG8gb25seSBjcmVhdGUgYSBQYW5lbCBvYmplY3QgaWYgdGhlIGVsZW1lbnQgZXhpc3RcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG51bGxPclNlY3Rpb24oZWwpe1xyXG4gICAgICAgICAgICByZXR1cm4gZWwgPyBuZXcgU2VjdGlvbihlbCkgOiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbnVsbE9yU2xpZGUoZWwpe1xyXG4gICAgICAgICAgICByZXR1cm4gZWwgPyBuZXcgU2xpZGUoZWwpIDogbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogR2V0cyB0aGUgZXZlbnQncyBkYXRhIGZvciB0aGUgZ2l2ZW4gZXZlbnQgb24gdGhlIHJpZ2h0IGZvcm1hdC4gRGVwZW5kaW5nIG9uIHdoZXRoZXJcclxuICAgICAgICAqIHYyY29tcGF0aWJsZSBpcyBiZWluZyB1c2VkIG9yIG5vdC5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldEV2ZW50RGF0YShldmVudE5hbWUsIHYpe1xyXG4gICAgICAgICAgICB2YXIgcGFyYW1zUGVyRXZlbnQ7XHJcblxyXG4gICAgICAgICAgICBpZighb3B0aW9ucy52MmNvbXBhdGlibGUpe1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdXNpbmcgZnVuY3Rpb25zIHRvIHJ1biBvbmx5IHRoZSBuZWNlc3NhcnkgYml0cyB3aXRoaW4gdGhlIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgcGFyYW1zUGVyRXZlbnQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJSZW5kZXI6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uOiBudWxsT3JTZWN0aW9uKCQoU0VDVElPTl9BQ1RJVkVfU0VMKVswXSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZTogbnVsbE9yU2xpZGUoJChTTElERV9BQ1RJVkVfU0VMLCAkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF0pWzBdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25MZWF2ZTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbjogbnVsbE9yU2VjdGlvbih2LmFjdGl2ZVNlY3Rpb24pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb246IG51bGxPclNlY3Rpb24odi5lbGVtZW50KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogdi5kaXJlY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBhZnRlckxvYWQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbXNQZXJFdmVudC5vbkxlYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJTbGlkZUxvYWQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uOiBudWxsT3JTZWN0aW9uKHYuc2VjdGlvbiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW46IG51bGxPclNsaWRlKHYucHJldlNsaWRlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiBudWxsT3JTbGlkZSh2LmRlc3RpbnkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiB2LmRpcmVjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG9uU2xpZGVMZWF2ZTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtc1BlckV2ZW50LmFmdGVyU2xpZGVMb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zUGVyRXZlbnQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJSZW5kZXI6IGZ1bmN0aW9uKCl7IHJldHVybiBbY29udGFpbmVyXTsgfSxcclxuICAgICAgICAgICAgICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbigpeyByZXR1cm4gW3YuYWN0aXZlU2VjdGlvbiwgdi5sZWF2aW5nU2VjdGlvbiwgKHYuc2VjdGlvbkluZGV4ICsgMSksIHYuZGlyZWN0aW9uXTsgfSxcclxuICAgICAgICAgICAgICAgICAgICBhZnRlckxvYWQ6IGZ1bmN0aW9uKCl7IHJldHVybiBbdi5lbGVtZW50LCB2LmFuY2hvckxpbmssICh2LnNlY3Rpb25JbmRleCArIDEpXTsgfSxcclxuICAgICAgICAgICAgICAgICAgICBhZnRlclNsaWRlTG9hZDogZnVuY3Rpb24oKXsgcmV0dXJuIFt2LmRlc3RpbnksIHYuYW5jaG9yTGluaywgKHYuc2VjdGlvbkluZGV4ICsgMSksIHYuc2xpZGVBbmNob3IsIHYuc2xpZGVJbmRleF07IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25TbGlkZUxlYXZlOiBmdW5jdGlvbigpeyByZXR1cm4gW3YucHJldlNsaWRlLCB2LmFuY2hvckxpbmssICh2LnNlY3Rpb25JbmRleCArIDEpLCB2LnByZXZTbGlkZUluZGV4LCB2LmRpcmVjdGlvbiwgdi5zbGlkZUluZGV4XTsgfSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBwYXJhbXNQZXJFdmVudFtldmVudE5hbWVdKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFBlcmZvcm1zIHRoZSB2ZXJ0aWNhbCBtb3ZlbWVudCAoYnkgQ1NTMyBvciBieSBqUXVlcnkpXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBwZXJmb3JtTW92ZW1lbnQodil7XHJcbiAgICAgICAgICAgIC8vIHVzaW5nIENTUzMgdHJhbnNsYXRlIGZ1bmN0aW9uYWxpdHlcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuY3NzMyAmJiBvcHRpb25zLmF1dG9TY3JvbGxpbmcgJiYgIW9wdGlvbnMuc2Nyb2xsQmFyKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVGhlIGZpcnN0IHNlY3Rpb24gY2FuIGhhdmUgYSBuZWdhdGl2ZSB2YWx1ZSBpbiBpT1MgMTAuIE5vdCBxdWl0ZSBzdXJlIHdoeTogLTAuMDE0MjgyMjI2NTYyNVxyXG4gICAgICAgICAgICAgICAgLy8gdGhhdCdzIHdoeSB3ZSByb3VuZCBpdCB0byAwLlxyXG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZTNkID0gJ3RyYW5zbGF0ZTNkKDBweCwgLScgKyBNYXRoLnJvdW5kKHYuZHRvcCkgKyAncHgsIDBweCknO1xyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtQ29udGFpbmVyKHRyYW5zbGF0ZTNkLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2V2ZW4gd2hlbiB0aGUgc2Nyb2xsaW5nU3BlZWQgaXMgMCB0aGVyZSdzIGEgbGl0dGxlIGRlbGF5LCB3aGljaCBtaWdodCBjYXVzZSB0aGVcclxuICAgICAgICAgICAgICAgIC8vc2Nyb2xsaW5nU3BlZWQgdG8gY2hhbmdlIGluIGNhc2Ugb2YgdXNpbmcgc2lsZW50TW92ZVRvKCk7XHJcbiAgICAgICAgICAgICAgICBpZihvcHRpb25zLnNjcm9sbGluZ1NwZWVkKXtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoYWZ0ZXJTZWN0aW9uTG9hZHNJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJTZWN0aW9uTG9hZHNJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZnRlclNlY3Rpb25Mb2Fkcyh2KTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBvcHRpb25zLnNjcm9sbGluZ1NwZWVkKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyU2VjdGlvbkxvYWRzKHYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB1c2luZyBKUyB0byBhbmltYXRlXHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsU2V0dGluZ3MgPSBnZXRTY3JvbGxTZXR0aW5ncyh2LmR0b3ApO1xyXG4gICAgICAgICAgICAgICAgRlAudGVzdC50b3AgPSAtdi5kdG9wICsgJ3B4JztcclxuXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxUbyhzY3JvbGxTZXR0aW5ncy5lbGVtZW50LCBzY3JvbGxTZXR0aW5ncy5vcHRpb25zLCBvcHRpb25zLnNjcm9sbGluZ1NwZWVkLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuc2Nyb2xsQmFyKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIEhhY2shXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRoZSB0aW1lb3V0IHByZXZlbnRzIHNldHRpbmcgdGhlIG1vc3QgZG9taW5hbnQgc2VjdGlvbiBpbiB0aGUgdmlld3BvcnQgYXMgXCJhY3RpdmVcIiB3aGVuIHRoZSB1c2VyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGVkIHRvIGEgc21hbGxlciBzZWN0aW9uIGJ5IHVzaW5nIHRoZSBtb3VzZXdoZWVsIChhdXRvIHNjcm9sbGluZykgcmF0aGVyIHRoYW4gZHJhZ2luZyB0aGUgc2Nyb2xsIGJhci5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFdoZW4gdXNpbmcgc2Nyb2xsQmFyOnRydWUgSXQgc2VlbXMgbGlrZSB0aGUgc2Nyb2xsIGV2ZW50cyBzdGlsbCBnZXR0aW5nIHByb3BhZ2F0ZWQgZXZlbiBhZnRlciB0aGUgc2Nyb2xsaW5nIGFuaW1hdGlvbiBoYXMgZmluaXNoZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyU2VjdGlvbkxvYWRzKHYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LDMwKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJTZWN0aW9uTG9hZHModik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogR2V0cyB0aGUgc2Nyb2xsaW5nIHNldHRpbmdzIGRlcGVuZGluZyBvbiB0aGUgcGx1Z2luIGF1dG9TY3JvbGxpbmcgb3B0aW9uXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBnZXRTY3JvbGxTZXR0aW5ncyh0b3Ape1xyXG4gICAgICAgICAgICB2YXIgc2Nyb2xsID0ge307XHJcblxyXG4gICAgICAgICAgICAvL3RvcCBwcm9wZXJ0eSBhbmltYXRpb25cclxuICAgICAgICAgICAgaWYob3B0aW9ucy5hdXRvU2Nyb2xsaW5nICYmICFvcHRpb25zLnNjcm9sbEJhcil7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGwub3B0aW9ucyA9IC10b3A7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGwuZWxlbWVudCA9ICQoV1JBUFBFUl9TRUwpWzBdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL3dpbmRvdyByZWFsIHNjcm9sbGluZ1xyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsLm9wdGlvbnMgPSB0b3A7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGwuZWxlbWVudCA9IHdpbmRvdztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHNjcm9sbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQWRkcyBzZWN0aW9ucyBiZWZvcmUgb3IgYWZ0ZXIgdGhlIGN1cnJlbnQgb25lIHRvIGNyZWF0ZSB0aGUgaW5maW5pdGUgZWZmZWN0LlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlSW5maW5pdGVTZWN0aW9ucyh2KXtcclxuICAgICAgICAgICAgLy8gU2Nyb2xsaW5nIGRvd25cclxuICAgICAgICAgICAgaWYgKCF2LmlzTW92ZW1lbnRVcCkge1xyXG4gICAgICAgICAgICAgICAgLy8gTW92ZSBhbGwgcHJldmlvdXMgc2VjdGlvbnMgdG8gYWZ0ZXIgdGhlIGFjdGl2ZSBzZWN0aW9uXHJcbiAgICAgICAgICAgICAgICBhZnRlcigkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF0sIHByZXZBbGwodi5hY3RpdmVTZWN0aW9uLCBTRUNUSU9OX1NFTCkucmV2ZXJzZSgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHsgLy8gU2Nyb2xsaW5nIHVwXHJcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIGFsbCBuZXh0IHNlY3Rpb25zIHRvIGJlZm9yZSB0aGUgYWN0aXZlIHNlY3Rpb25cclxuICAgICAgICAgICAgICAgIGJlZm9yZSgkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF0sIG5leHRBbGwodi5hY3RpdmVTZWN0aW9uLCBTRUNUSU9OX1NFTCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBNYWludGFpbiB0aGUgZGlzcGxheWVkIHBvc2l0aW9uIChub3cgdGhhdCB3ZSBjaGFuZ2VkIHRoZSBlbGVtZW50IG9yZGVyKVxyXG4gICAgICAgICAgICBzaWxlbnRTY3JvbGwoJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdLm9mZnNldFRvcCk7XHJcblxyXG4gICAgICAgICAgICAvLyBNYWludGFpbiB0aGUgYWN0aXZlIHNsaWRlcyB2aXNpYmxlIGluIHRoZSB2aWV3cG9ydFxyXG4gICAgICAgICAgICBrZWVwU2xpZGVzUG9zaXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNhdmUgZm9yIGxhdGVyIHRoZSBlbGVtZW50cyB0aGF0IHN0aWxsIG5lZWQgdG8gYmUgcmVvcmRlcmVkXHJcbiAgICAgICAgICAgIHYud3JhcEFyb3VuZEVsZW1lbnRzID0gdi5hY3RpdmVTZWN0aW9uO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVjYWxjdWxhdGUgYW5pbWF0aW9uIHZhcmlhYmxlc1xyXG4gICAgICAgICAgICB2LmR0b3AgPSB2LmVsZW1lbnQub2Zmc2V0VG9wO1xyXG4gICAgICAgICAgICB2LnlNb3ZlbWVudCA9IGdldFltb3ZlbWVudCh2LmVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgLy9zZWN0aW9ucyB3aWxsIHRlbXBvcmFsbHkgaGF2ZSBhbm90aGVyIHBvc2l0aW9uIGluIHRoZSBET01cclxuICAgICAgICAgICAgLy91cGRhdGluZyB0aGlzIHZhbHVlcyBpbiBjYXNlIHdlIG5lZWQgdGhlbVxyXG4gICAgICAgICAgICB2LmxlYXZpbmdTZWN0aW9uID0gaW5kZXgodi5hY3RpdmVTZWN0aW9uLCBTRUNUSU9OX1NFTCkgKyAxO1xyXG4gICAgICAgICAgICB2LnNlY3Rpb25JbmRleCA9IGluZGV4KHYuZWxlbWVudCwgU0VDVElPTl9TRUwpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEZpeCBzZWN0aW9uIG9yZGVyIGFmdGVyIGNvbnRpbnVvdXNWZXJ0aWNhbCBjaGFuZ2VzIGhhdmUgYmVlbiBhbmltYXRlZFxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gY29udGludW91c1ZlcnRpY2FsRml4U2VjdGlvbk9yZGVyICh2KSB7XHJcbiAgICAgICAgICAgIC8vIElmIGNvbnRpbnVvdXNWZXJ0aWNhbCBpcyBpbiBlZmZlY3QgKGFuZCBhdXRvU2Nyb2xsaW5nIHdvdWxkIGFsc28gYmUgaW4gZWZmZWN0IHRoZW4pLFxyXG4gICAgICAgICAgICAvLyBmaW5pc2ggbW92aW5nIHRoZSBlbGVtZW50cyBhcm91bmQgc28gdGhlIGRpcmVjdCBuYXZpZ2F0aW9uIHdpbGwgZnVuY3Rpb24gbW9yZSBzaW1wbHlcclxuICAgICAgICAgICAgaWYgKHYud3JhcEFyb3VuZEVsZW1lbnRzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHYuaXNNb3ZlbWVudFVwKSB7XHJcbiAgICAgICAgICAgICAgICBiZWZvcmUoJChTRUNUSU9OX1NFTClbMF0sIHYud3JhcEFyb3VuZEVsZW1lbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFmdGVyKCQoU0VDVElPTl9TRUwpWyQoU0VDVElPTl9TRUwpLmxlbmd0aC0xXSwgdi53cmFwQXJvdW5kRWxlbWVudHMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzaWxlbnRTY3JvbGwoJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdLm9mZnNldFRvcCk7XHJcblxyXG4gICAgICAgICAgICAvLyBNYWludGFpbiB0aGUgYWN0aXZlIHNsaWRlcyB2aXNpYmxlIGluIHRoZSB2aWV3cG9ydFxyXG4gICAgICAgICAgICBrZWVwU2xpZGVzUG9zaXRpb24oKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEFjdGlvbnMgdG8gZG8gb25jZSB0aGUgc2VjdGlvbiBpcyBsb2FkZWQuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBhZnRlclNlY3Rpb25Mb2FkcyAodil7XHJcbiAgICAgICAgICAgIGNvbnRpbnVvdXNWZXJ0aWNhbEZpeFNlY3Rpb25PcmRlcih2KTtcclxuXHJcbiAgICAgICAgICAgIC8vY2FsbGJhY2sgKGFmdGVyTG9hZCkgaWYgdGhlIHNpdGUgaXMgbm90IGp1c3QgcmVzaXppbmcgYW5kIHJlYWRqdXN0aW5nIHRoZSBzbGlkZXNcclxuICAgICAgICAgICAgaWYoaXNGdW5jdGlvbihvcHRpb25zLmFmdGVyTG9hZCkgJiYgIXYubG9jYWxJc1Jlc2l6aW5nKXtcclxuICAgICAgICAgICAgICAgIGZpcmVDYWxsYmFjaygnYWZ0ZXJMb2FkJywgdik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3cpe1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zY3JvbGxPdmVyZmxvd0hhbmRsZXIuYWZ0ZXJMb2FkKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKCF2LmxvY2FsSXNSZXNpemluZyl7XHJcbiAgICAgICAgICAgICAgICBwbGF5TWVkaWEodi5lbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYWRkQ2xhc3Modi5lbGVtZW50LCBDT01QTEVURUxZKTtcclxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3Moc2libGluZ3Modi5lbGVtZW50KSwgQ09NUExFVEVMWSk7XHJcblxyXG4gICAgICAgICAgICBjYW5TY3JvbGwgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgaWYoaXNGdW5jdGlvbih2LmNhbGxiYWNrKSl7XHJcbiAgICAgICAgICAgICAgICB2LmNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2V0cyB0aGUgdmFsdWUgZm9yIHRoZSBnaXZlbiBhdHRyaWJ1dGUgZnJvbSB0aGUgYGRhdGEtYCBhdHRyaWJ1dGUgd2l0aCB0aGUgc2FtZSBzdWZmaXhcclxuICAgICAgICAqIGllOiBkYXRhLXNyY3NldCA9PT4gc3Jjc2V0ICB8ICBkYXRhLXNyYyA9PT4gc3JjXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzZXRTcmMoZWxlbWVudCwgYXR0cmlidXRlKXtcclxuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS0nICsgYXR0cmlidXRlKSk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLScgKyBhdHRyaWJ1dGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBMYXp5IGxvYWRzIGltYWdlLCB2aWRlbyBhbmQgYXVkaW8gZWxlbWVudHMuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBsYXp5TG9hZChkZXN0aW55KXtcclxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmxhenlMb2FkaW5nKXtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHBhbmVsID0gZ2V0U2xpZGVPclNlY3Rpb24oZGVzdGlueSk7XHJcblxyXG4gICAgICAgICAgICAkKCdpbWdbZGF0YS1zcmNdLCBpbWdbZGF0YS1zcmNzZXRdLCBzb3VyY2VbZGF0YS1zcmNdLCBzb3VyY2VbZGF0YS1zcmNzZXRdLCB2aWRlb1tkYXRhLXNyY10sIGF1ZGlvW2RhdGEtc3JjXSwgaWZyYW1lW2RhdGEtc3JjXScsIHBhbmVsKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpe1xyXG4gICAgICAgICAgICAgICAgWydzcmMnLCAnc3Jjc2V0J10uZm9yRWFjaChmdW5jdGlvbih0eXBlKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGF0dHJpYnV0ZSAhPSBudWxsICYmIGF0dHJpYnV0ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNyYyhlbGVtZW50LCB0eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihtYXRjaGVzKGVsZW1lbnQsICdzb3VyY2UnKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRUb1BsYXkgPSAgY2xvc2VzdChlbGVtZW50LCAndmlkZW8sIGF1ZGlvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudFRvUGxheSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRUb1BsYXkubG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFBsYXlzIHZpZGVvIGFuZCBhdWRpbyBlbGVtZW50cy5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHBsYXlNZWRpYShkZXN0aW55KXtcclxuICAgICAgICAgICAgdmFyIHBhbmVsID0gZ2V0U2xpZGVPclNlY3Rpb24oZGVzdGlueSk7XHJcblxyXG4gICAgICAgICAgICAvL3BsYXlpbmcgSFRNTDUgbWVkaWEgZWxlbWVudHNcclxuICAgICAgICAgICAgJCgndmlkZW8sIGF1ZGlvJywgcGFuZWwpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCl7XHJcbiAgICAgICAgICAgICAgICBpZiggZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2RhdGEtYXV0b3BsYXknKSAmJiB0eXBlb2YgZWxlbWVudC5wbGF5ID09PSAnZnVuY3Rpb24nICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8veW91dHViZSB2aWRlb3NcclxuICAgICAgICAgICAgJCgnaWZyYW1lW3NyYyo9XCJ5b3V0dWJlLmNvbS9lbWJlZC9cIl0nLCBwYW5lbCkuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KXtcclxuICAgICAgICAgICAgICAgIGlmICggZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2RhdGEtYXV0b3BsYXknKSApe1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXlZb3V0dWJlKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vaW4gY2FzZSB0aGUgVVJMIHdhcyBub3QgbG9hZGVkIHlldC4gT24gcGFnZSBsb2FkIHdlIG5lZWQgdGltZSBmb3IgdGhlIG5ldyBVUkwgKHdpdGggdGhlIEFQSSBzdHJpbmcpIHRvIGxvYWQuXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICggZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2RhdGEtYXV0b3BsYXknKSApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5WW91dHViZShlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogUGxheXMgYSB5b3V0dWJlIHZpZGVvXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBwbGF5WW91dHViZShlbGVtZW50KXtcclxuICAgICAgICAgICAgZWxlbWVudC5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKCd7XCJldmVudFwiOlwiY29tbWFuZFwiLFwiZnVuY1wiOlwicGxheVZpZGVvXCIsXCJhcmdzXCI6XCJcIn0nLCAnKicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBTdG9wcyB2aWRlbyBhbmQgYXVkaW8gZWxlbWVudHMuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzdG9wTWVkaWEoZGVzdGlueSl7XHJcbiAgICAgICAgICAgIHZhciBwYW5lbCA9IGdldFNsaWRlT3JTZWN0aW9uKGRlc3RpbnkpO1xyXG5cclxuICAgICAgICAgICAgLy9zdG9wcGluZyBIVE1MNSBtZWRpYSBlbGVtZW50c1xyXG4gICAgICAgICAgICAkKCd2aWRlbywgYXVkaW8nLCBwYW5lbCkuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KXtcclxuICAgICAgICAgICAgICAgIGlmKCAhZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2RhdGEta2VlcHBsYXlpbmcnKSAmJiB0eXBlb2YgZWxlbWVudC5wYXVzZSA9PT0gJ2Z1bmN0aW9uJyApIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnBhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy95b3V0dWJlIHZpZGVvc1xyXG4gICAgICAgICAgICAkKCdpZnJhbWVbc3JjKj1cInlvdXR1YmUuY29tL2VtYmVkL1wiXScsIHBhbmVsKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpe1xyXG4gICAgICAgICAgICAgICAgaWYoIC95b3V0dWJlXFwuY29tXFwvZW1iZWRcXC8vLnRlc3QoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3NyYycpKSAmJiAhZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2RhdGEta2VlcHBsYXlpbmcnKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKCd7XCJldmVudFwiOlwiY29tbWFuZFwiLFwiZnVuY1wiOlwicGF1c2VWaWRlb1wiLFwiYXJnc1wiOlwiXCJ9JywnKicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogR2V0cyB0aGUgYWN0aXZlIHNsaWRlIChvciBzZWN0aW9uKSBmb3IgdGhlIGdpdmVuIHNlY3Rpb25cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldFNsaWRlT3JTZWN0aW9uKGRlc3Rpbnkpe1xyXG4gICAgICAgICAgICB2YXIgc2xpZGUgPSAkKFNMSURFX0FDVElWRV9TRUwsIGRlc3RpbnkpO1xyXG4gICAgICAgICAgICBpZiggc2xpZGUubGVuZ3RoICkge1xyXG4gICAgICAgICAgICAgICAgZGVzdGlueSA9IHNsaWRlWzBdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZGVzdGlueTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2Nyb2xscyB0byB0aGUgYW5jaG9yIGluIHRoZSBVUkwgd2hlbiBsb2FkaW5nIHRoZSBzaXRlXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzY3JvbGxUb0FuY2hvcigpe1xyXG4gICAgICAgICAgICB2YXIgYW5jaG9ycyA9ICBnZXRBbmNob3JzVVJMKCk7XHJcbiAgICAgICAgICAgIHZhciBzZWN0aW9uQW5jaG9yID0gYW5jaG9ycy5zZWN0aW9uO1xyXG4gICAgICAgICAgICB2YXIgc2xpZGVBbmNob3IgPSBhbmNob3JzLnNsaWRlO1xyXG5cclxuICAgICAgICAgICAgaWYoc2VjdGlvbkFuY2hvcil7ICAvL2lmIHRoZXJlcyBhbnkgI1xyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5hbmltYXRlQW5jaG9yKXtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxQYWdlQW5kU2xpZGUoc2VjdGlvbkFuY2hvciwgc2xpZGVBbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgc2lsZW50TW92ZVRvKHNlY3Rpb25BbmNob3IsIHNsaWRlQW5jaG9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBEZXRlY3RpbmcgYW55IGNoYW5nZSBvbiB0aGUgVVJMIHRvIHNjcm9sbCB0byB0aGUgZ2l2ZW4gYW5jaG9yIGxpbmtcclxuICAgICAgICAqIChhIHdheSB0byBkZXRlY3QgYmFjayBoaXN0b3J5IGJ1dHRvbiBhcyB3ZSBwbGF5IHdpdGggdGhlIGhhc2hlcyBvbiB0aGUgVVJMKVxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gaGFzaENoYW5nZUhhbmRsZXIoKXtcclxuICAgICAgICAgICAgaWYoIWlzU2Nyb2xsaW5nICYmICFvcHRpb25zLmxvY2tBbmNob3JzKXtcclxuICAgICAgICAgICAgICAgIHZhciBhbmNob3JzID0gZ2V0QW5jaG9yc1VSTCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlY3Rpb25BbmNob3IgPSBhbmNob3JzLnNlY3Rpb247XHJcbiAgICAgICAgICAgICAgICB2YXIgc2xpZGVBbmNob3IgPSBhbmNob3JzLnNsaWRlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vd2hlbiBtb3ZpbmcgdG8gYSBzbGlkZSBpbiB0aGUgZmlyc3Qgc2VjdGlvbiBmb3IgdGhlIGZpcnN0IHRpbWUgKGZpcnN0IHRpbWUgdG8gYWRkIGFuIGFuY2hvciB0byB0aGUgVVJMKVxyXG4gICAgICAgICAgICAgICAgdmFyIGlzRmlyc3RTbGlkZU1vdmUgPSAgKHR5cGVvZiBsYXN0U2Nyb2xsZWREZXN0aW55ID09PSAndW5kZWZpbmVkJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNGaXJzdFNjcm9sbE1vdmUgPSAodHlwZW9mIGxhc3RTY3JvbGxlZERlc3RpbnkgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBzbGlkZUFuY2hvciA9PT0gJ3VuZGVmaW5lZCcgJiYgIXNsaWRlTW92aW5nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihzZWN0aW9uQW5jaG9yICYmIHNlY3Rpb25BbmNob3IubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgICAgICAvKmluIG9yZGVyIHRvIGNhbGwgc2Nyb2xscGFnZSgpIG9ubHkgb25jZSBmb3IgZWFjaCBkZXN0aW5hdGlvbiBhdCBhIHRpbWVcclxuICAgICAgICAgICAgICAgICAgICBJdCBpcyBjYWxsZWQgdHdpY2UgZm9yIGVhY2ggc2Nyb2xsIG90aGVyd2lzZSwgYXMgaW4gY2FzZSBvZiB1c2luZyBhbmNob3JsaW5rcyBgaGFzaENoYW5nZWBcclxuICAgICAgICAgICAgICAgICAgICBldmVudCBpcyBmaXJlZCBvbiBldmVyeSBzY3JvbGwgdG9vLiovXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChzZWN0aW9uQW5jaG9yICYmIHNlY3Rpb25BbmNob3IgIT09IGxhc3RTY3JvbGxlZERlc3RpbnkpICYmICFpc0ZpcnN0U2xpZGVNb3ZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IGlzRmlyc3RTY3JvbGxNb3ZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICghc2xpZGVNb3ZpbmcgJiYgbGFzdFNjcm9sbGVkU2xpZGUgIT0gc2xpZGVBbmNob3IgKSl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxQYWdlQW5kU2xpZGUoc2VjdGlvbkFuY2hvciwgc2xpZGVBbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9nZXRzIHRoZSBVUkwgYW5jaG9ycyAoc2VjdGlvbiBhbmQgc2xpZGUpXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0QW5jaG9yc1VSTCgpe1xyXG4gICAgICAgICAgICB2YXIgc2VjdGlvbjtcclxuICAgICAgICAgICAgdmFyIHNsaWRlO1xyXG4gICAgICAgICAgICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xyXG5cclxuICAgICAgICAgICAgaWYoaGFzaC5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgLy9nZXR0aW5nIHRoZSBhbmNob3IgbGluayBpbiB0aGUgVVJMIGFuZCBkZWxldGluZyB0aGUgYCNgXHJcbiAgICAgICAgICAgICAgICB2YXIgYW5jaG9yc1BhcnRzID0gIGhhc2gucmVwbGFjZSgnIycsICcnKS5zcGxpdCgnLycpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdXNpbmcgLyBmb3IgdmlzdWFsIHJlYXNvbnMgYW5kIG5vdCBhcyBhIHNlY3Rpb24vc2xpZGUgc2VwYXJhdG9yICMyODAzXHJcbiAgICAgICAgICAgICAgICB2YXIgaXNGdW5reUFuY2hvciA9IGhhc2guaW5kZXhPZignIy8nKSA+IC0xO1xyXG5cclxuICAgICAgICAgICAgICAgIHNlY3Rpb24gPSBpc0Z1bmt5QW5jaG9yID8gJy8nICsgYW5jaG9yc1BhcnRzWzFdIDogZGVjb2RlVVJJQ29tcG9uZW50KGFuY2hvcnNQYXJ0c1swXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHNsaWRlQW5jaG9yID0gaXNGdW5reUFuY2hvciA/IGFuY2hvcnNQYXJ0c1syXSA6IGFuY2hvcnNQYXJ0c1sxXTtcclxuICAgICAgICAgICAgICAgIGlmKHNsaWRlQW5jaG9yICYmIHNsaWRlQW5jaG9yLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGUgPSBkZWNvZGVVUklDb21wb25lbnQoc2xpZGVBbmNob3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc2VjdGlvbjogc2VjdGlvbixcclxuICAgICAgICAgICAgICAgIHNsaWRlOiBzbGlkZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9TbGlkaW5nIHdpdGggYXJyb3cga2V5cywgYm90aCwgdmVydGljYWwgYW5kIGhvcml6b250YWxcclxuICAgICAgICBmdW5jdGlvbiBrZXlkb3duSGFuZGxlcihlKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChrZXlkb3duSWQpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xyXG4gICAgICAgICAgICB2YXIga2V5Q29kZSA9IGUua2V5Q29kZTtcclxuXHJcbiAgICAgICAgICAgIC8vdGFiP1xyXG4gICAgICAgICAgICBpZihrZXlDb2RlID09PSA5KXtcclxuICAgICAgICAgICAgICAgIG9uVGFiKGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlbHNlIGlmKCFtYXRjaGVzKGFjdGl2ZUVsZW1lbnQsICd0ZXh0YXJlYScpICYmICFtYXRjaGVzKGFjdGl2ZUVsZW1lbnQsICdpbnB1dCcpICYmICFtYXRjaGVzKGFjdGl2ZUVsZW1lbnQsICdzZWxlY3QnKSAmJlxyXG4gICAgICAgICAgICAgICAgYWN0aXZlRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnRFZGl0YWJsZScpICE9PSBcInRydWVcIiAmJiBhY3RpdmVFbGVtZW50LmdldEF0dHJpYnV0ZSgnY29udGVudEVkaXRhYmxlJykgIT09ICcnICYmXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmtleWJvYXJkU2Nyb2xsaW5nICYmIG9wdGlvbnMuYXV0b1Njcm9sbGluZyl7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9wcmV2ZW50aW5nIHRoZSBzY3JvbGwgd2l0aCBhcnJvdyBrZXlzICYgc3BhY2ViYXIgJiBQYWdlIFVwICYgRG93biBrZXlzXHJcbiAgICAgICAgICAgICAgICB2YXIga2V5Q29udHJvbHMgPSBbNDAsIDM4LCAzMiwgMzMsIDM0XTtcclxuICAgICAgICAgICAgICAgIGlmKGtleUNvbnRyb2xzLmluZGV4T2Yoa2V5Q29kZSkgPiAtMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQoZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29udHJvbFByZXNzZWQgPSBlLmN0cmxLZXk7XHJcblxyXG4gICAgICAgICAgICAgICAga2V5ZG93bklkID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIG9ua2V5ZG93bihlKTtcclxuICAgICAgICAgICAgICAgIH0sMTUwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdG9vbHRpcFRleHRIYW5kbGVyKCl7XHJcbiAgICAgICAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXHJcbiAgICAgICAgICAgIHRyaWdnZXIocHJldih0aGlzKSwgJ2NsaWNrJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3RvIHByZXZlbnQgc2Nyb2xsaW5nIHdoaWxlIHpvb21pbmdcclxuICAgICAgICBmdW5jdGlvbiBrZXlVcEhhbmRsZXIoZSl7XHJcbiAgICAgICAgICAgIGlmKGlzV2luZG93Rm9jdXNlZCl7IC8vdGhlIGtleXVwIGdldHMgZmlyZWQgb24gbmV3IHRhYiBjdHJsICsgdCBpbiBGaXJlZm94XHJcbiAgICAgICAgICAgICAgICBjb250cm9sUHJlc3NlZCA9IGUuY3RybEtleTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9iaW5kaW5nIHRoZSBtb3VzZW1vdmUgd2hlbiB0aGUgbW91c2UncyBtaWRkbGUgYnV0dG9uIGlzIHJlbGVhc2VkXHJcbiAgICAgICAgZnVuY3Rpb24gbW91c2VEb3duSGFuZGxlcihlKXtcclxuICAgICAgICAgICAgLy9taWRkbGUgYnV0dG9uXHJcbiAgICAgICAgICAgIGlmIChlLndoaWNoID09IDIpe1xyXG4gICAgICAgICAgICAgICAgb2xkUGFnZVkgPSBlLnBhZ2VZO1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG1vdXNlTW92ZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3VuYmluZGluZyB0aGUgbW91c2Vtb3ZlIHdoZW4gdGhlIG1vdXNlJ3MgbWlkZGxlIGJ1dHRvbiBpcyByZWxlYXNlZFxyXG4gICAgICAgIGZ1bmN0aW9uIG1vdXNlVXBIYW5kbGVyKGUpe1xyXG4gICAgICAgICAgICAvL21pZGRsZSBidXR0b25cclxuICAgICAgICAgICAgaWYgKGUud2hpY2ggPT0gMil7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW91c2VNb3ZlSGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogTWFrZXMgc3VyZSB0aGUgdGFiIGtleSB3aWxsIG9ubHkgZm9jdXMgZWxlbWVudHMgd2l0aGluIHRoZSBjdXJyZW50IHNlY3Rpb24vc2xpZGVcclxuICAgICAgICAqIHByZXZlbnRpbmcgdGhpcyB3YXkgZnJvbSBicmVha2luZyB0aGUgcGFnZS5cclxuICAgICAgICAqIEJhc2VkIG9uIFwiTW9kYWxzIGFuZCBrZXlib2FyZCB0cmFwc1wiXHJcbiAgICAgICAgKiBmcm9tIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3dlYi9mdW5kYW1lbnRhbHMvYWNjZXNzaWJpbGl0eS9mb2N1cy91c2luZy10YWJpbmRleFxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gb25UYWIoZSl7XHJcbiAgICAgICAgICAgIHZhciBpc1NoaWZ0UHJlc3NlZCA9IGUuc2hpZnRLZXk7XHJcbiAgICAgICAgICAgIHZhciBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcclxuICAgICAgICAgICAgdmFyIGFjdGl2ZVNlY3Rpb24gPSAkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF07XHJcbiAgICAgICAgICAgIHZhciBhY3RpdmVTbGlkZSA9ICQoU0xJREVfQUNUSVZFX1NFTCwgYWN0aXZlU2VjdGlvbilbMF07XHJcbiAgICAgICAgICAgIHZhciBmb2N1c2FibGVXcmFwcGVyID0gYWN0aXZlU2xpZGUgPyBhY3RpdmVTbGlkZSA6IGFjdGl2ZVNlY3Rpb247XHJcbiAgICAgICAgICAgIHZhciBmb2N1c2FibGVFbGVtZW50cyA9ICQoZm9jdXNhYmxlRWxlbWVudHNTdHJpbmcgKyAnOm5vdChbdGFiaW5kZXg9XCItMVwiXSknLCBmb2N1c2FibGVXcmFwcGVyKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXZlbnRBbmRGb2N1c0ZpcnN0KGUpe1xyXG4gICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQoZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9jdXNhYmxlRWxlbWVudHNbMF0uZm9jdXMoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9pcyB0aGVyZSBhbiBlbGVtZW50IHdpdGggZm9jdXM/XHJcbiAgICAgICAgICAgIGlmKGFjdGl2ZUVsZW1lbnQpe1xyXG4gICAgICAgICAgICAgICAgaWYoY2xvc2VzdChhY3RpdmVFbGVtZW50LCBTRUNUSU9OX0FDVElWRV9TRUwgKyAnLCcgKyBTTElERV9BQ1RJVkVfU0VMKSA9PSBudWxsKXtcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVFbGVtZW50ID0gcHJldmVudEFuZEZvY3VzRmlyc3QoZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vbm8gZWxlbWVudCBpZiBmb2N1c2VkPyBMZXQncyBmb2N1cyB0aGUgZmlyc3Qgb25lIG9mIHRoZSBzZWN0aW9uL3NsaWRlXHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBwcmV2ZW50QW5kRm9jdXNGaXJzdChlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy93aGVuIHJlYWNoZWQgdGhlIGZpcnN0IG9yIGxhc3QgZm9jdXNhYmxlIGVsZW1lbnQgb2YgdGhlIHNlY3Rpb24vc2xpZGVcclxuICAgICAgICAgICAgLy93ZSBwcmV2ZW50IHRoZSB0YWIgYWN0aW9uIHRvIGtlZXAgaXQgaW4gdGhlIGxhc3QgZm9jdXNhYmxlIGVsZW1lbnRcclxuICAgICAgICAgICAgaWYoIWlzU2hpZnRQcmVzc2VkICYmIGFjdGl2ZUVsZW1lbnQgPT0gZm9jdXNhYmxlRWxlbWVudHNbZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV0gfHxcclxuICAgICAgICAgICAgICAgIGlzU2hpZnRQcmVzc2VkICYmIGFjdGl2ZUVsZW1lbnQgPT0gZm9jdXNhYmxlRWxlbWVudHNbMF1cclxuICAgICAgICAgICAgKXtcclxuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1Njcm9sbGluZyBob3Jpem9udGFsbHkgd2hlbiBjbGlja2luZyBvbiB0aGUgc2xpZGVyIGNvbnRyb2xzLlxyXG4gICAgICAgIGZ1bmN0aW9uIHNsaWRlQXJyb3dIYW5kbGVyKCl7XHJcbiAgICAgICAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXHJcbiAgICAgICAgICAgIHZhciBzZWN0aW9uID0gY2xvc2VzdCh0aGlzLCBTRUNUSU9OX1NFTCk7XHJcblxyXG4gICAgICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xyXG4gICAgICAgICAgICBpZiAoaGFzQ2xhc3ModGhpcywgU0xJREVTX1BSRVYpKSB7XHJcbiAgICAgICAgICAgICAgICBpZihpc1Njcm9sbEFsbG93ZWQubS5sZWZ0KXtcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlU2xpZGVMZWZ0KHNlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYoaXNTY3JvbGxBbGxvd2VkLm0ucmlnaHQpe1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVTbGlkZVJpZ2h0KHNlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3doZW4gb3BlbmluZyBhIG5ldyB0YWIgKGN0cmwgKyB0KSwgYGNvbnRyb2xgIHdvbid0IGJlIHByZXNzZWQgd2hlbiBjb21pbmcgYmFjay5cclxuICAgICAgICBmdW5jdGlvbiBibHVySGFuZGxlcigpe1xyXG4gICAgICAgICAgICBpc1dpbmRvd0ZvY3VzZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29udHJvbFByZXNzZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vU2Nyb2xscyB0byB0aGUgc2VjdGlvbiB3aGVuIGNsaWNraW5nIHRoZSBuYXZpZ2F0aW9uIGJ1bGxldFxyXG4gICAgICAgIGZ1bmN0aW9uIHNlY3Rpb25CdWxsZXRIYW5kbGVyKGUpe1xyXG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdChlKTtcclxuXHJcbiAgICAgICAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXHJcbiAgICAgICAgICAgIHZhciBpbmRleEJ1bGxldCA9IGluZGV4KGNsb3Nlc3QodGhpcywgU0VDVElPTl9OQVZfU0VMICsgJyBsaScpKTtcclxuICAgICAgICAgICAgc2Nyb2xsUGFnZSgkKFNFQ1RJT05fU0VMKVtpbmRleEJ1bGxldF0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9TY3JvbGxzIHRoZSBzbGlkZXIgdG8gdGhlIGdpdmVuIHNsaWRlIGRlc3RpbmF0aW9uIGZvciB0aGUgZ2l2ZW4gc2VjdGlvblxyXG4gICAgICAgIGZ1bmN0aW9uIHNsaWRlQnVsbGV0SGFuZGxlcihlKXtcclxuICAgICAgICAgICAgcHJldmVudERlZmF1bHQoZSk7XHJcblxyXG4gICAgICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xyXG4gICAgICAgICAgICB2YXIgc2xpZGVzID0gJChTTElERVNfV1JBUFBFUl9TRUwsIGNsb3Nlc3QodGhpcywgU0VDVElPTl9TRUwpKVswXTtcclxuICAgICAgICAgICAgdmFyIGRlc3RpbnkgPSAkKFNMSURFX1NFTCwgc2xpZGVzKVtpbmRleChjbG9zZXN0KHRoaXMsICdsaScpKV07XHJcblxyXG4gICAgICAgICAgICBsYW5kc2NhcGVTY3JvbGwoc2xpZGVzLCBkZXN0aW55KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogS2V5ZG93biBldmVudFxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gb25rZXlkb3duKGUpe1xyXG4gICAgICAgICAgICB2YXIgc2hpZnRQcmVzc2VkID0gZS5zaGlmdEtleTtcclxuXHJcbiAgICAgICAgICAgIC8vZG8gbm90aGluZyBpZiB3ZSBjYW4gbm90IHNjcm9sbCBvciB3ZSBhcmUgbm90IHVzaW5nIGhvcml6b3RuYWwga2V5IGFycm93cy5cclxuICAgICAgICAgICAgaWYoIWNhblNjcm9sbCAmJiBbMzcsMzldLmluZGV4T2YoZS5rZXlDb2RlKSA8IDApe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xyXG4gICAgICAgICAgICAgICAgLy91cFxyXG4gICAgICAgICAgICAgICAgY2FzZSAzODpcclxuICAgICAgICAgICAgICAgIGNhc2UgMzM6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNTY3JvbGxBbGxvd2VkLmsudXApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlU2VjdGlvblVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZG93blxyXG4gICAgICAgICAgICAgICAgY2FzZSAzMjogLy9zcGFjZWJhclxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHNoaWZ0UHJlc3NlZCAmJiBpc1Njcm9sbEFsbG93ZWQuay51cCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVTZWN0aW9uVXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0MDpcclxuICAgICAgICAgICAgICAgIGNhc2UgMzQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNTY3JvbGxBbGxvd2VkLmsuZG93bil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVTZWN0aW9uRG93bigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAvL0hvbWVcclxuICAgICAgICAgICAgICAgIGNhc2UgMzY6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNTY3JvbGxBbGxvd2VkLmsudXApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlVG8oMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vRW5kXHJcbiAgICAgICAgICAgICAgICBjYXNlIDM1OlxyXG4gICAgICAgICAgICAgICAgICAgICBpZihpc1Njcm9sbEFsbG93ZWQuay5kb3duKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVRvKCAkKFNFQ1RJT05fU0VMKS5sZW5ndGggKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9sZWZ0XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM3OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGlzU2Nyb2xsQWxsb3dlZC5rLmxlZnQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlU2xpZGVMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vcmlnaHRcclxuICAgICAgICAgICAgICAgIGNhc2UgMzk6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNTY3JvbGxBbGxvd2VkLmsucmlnaHQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlU2xpZGVSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gZXhpdCB0aGlzIGhhbmRsZXIgZm9yIG90aGVyIGtleXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBEZXRlY3RpbmcgdGhlIGRpcmVjdGlvbiBvZiB0aGUgbW91c2UgbW92ZW1lbnQuXHJcbiAgICAgICAgKiBVc2VkIG9ubHkgZm9yIHRoZSBtaWRkbGUgYnV0dG9uIG9mIHRoZSBtb3VzZS5cclxuICAgICAgICAqL1xyXG4gICAgICAgIHZhciBvbGRQYWdlWSA9IDA7XHJcbiAgICAgICAgZnVuY3Rpb24gbW91c2VNb3ZlSGFuZGxlcihlKXtcclxuICAgICAgICAgICAgaWYoY2FuU2Nyb2xsKXtcclxuICAgICAgICAgICAgICAgIC8vIG1vdmluZyB1cFxyXG4gICAgICAgICAgICAgICAgaWYgKGUucGFnZVkgPCBvbGRQYWdlWSAmJiBpc1Njcm9sbEFsbG93ZWQubS51cCl7XHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZVNlY3Rpb25VcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIG1vdmluZyBkb3duXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmKGUucGFnZVkgPiBvbGRQYWdlWSAmJiBpc1Njcm9sbEFsbG93ZWQubS5kb3duKXtcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlU2VjdGlvbkRvd24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvbGRQYWdlWSA9IGUucGFnZVk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNjcm9sbHMgaG9yaXpvbnRhbCBzbGlkZXJzLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gbGFuZHNjYXBlU2Nyb2xsKHNsaWRlcywgZGVzdGlueSwgZGlyZWN0aW9uKXtcclxuICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSBjbG9zZXN0KHNsaWRlcywgU0VDVElPTl9TRUwpO1xyXG4gICAgICAgICAgICB2YXIgdiA9IHtcclxuICAgICAgICAgICAgICAgIHNsaWRlczogc2xpZGVzLFxyXG4gICAgICAgICAgICAgICAgZGVzdGlueTogZGVzdGlueSxcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgZGVzdGlueVBvczoge2xlZnQ6IGRlc3Rpbnkub2Zmc2V0TGVmdH0sXHJcbiAgICAgICAgICAgICAgICBzbGlkZUluZGV4OiBpbmRleChkZXN0aW55KSxcclxuICAgICAgICAgICAgICAgIHNlY3Rpb246IHNlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICBzZWN0aW9uSW5kZXg6IGluZGV4KHNlY3Rpb24sIFNFQ1RJT05fU0VMKSxcclxuICAgICAgICAgICAgICAgIGFuY2hvckxpbms6IHNlY3Rpb24uZ2V0QXR0cmlidXRlKCdkYXRhLWFuY2hvcicpLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzTmF2OiAkKFNMSURFU19OQVZfU0VMLCBzZWN0aW9uKVswXSxcclxuICAgICAgICAgICAgICAgIHNsaWRlQW5jaG9yOiBnZXRBbmNob3IoZGVzdGlueSksXHJcbiAgICAgICAgICAgICAgICBwcmV2U2xpZGU6ICQoU0xJREVfQUNUSVZFX1NFTCwgc2VjdGlvbilbMF0sXHJcbiAgICAgICAgICAgICAgICBwcmV2U2xpZGVJbmRleDogaW5kZXgoJChTTElERV9BQ1RJVkVfU0VMLCBzZWN0aW9uKVswXSksXHJcblxyXG4gICAgICAgICAgICAgICAgLy9jYWNoaW5nIHRoZSB2YWx1ZSBvZiBpc1Jlc2l6aW5nIGF0IHRoZSBtb21tZW50IHRoZSBmdW5jdGlvbiBpcyBjYWxsZWRcclxuICAgICAgICAgICAgICAgIC8vYmVjYXVzZSBpdCB3aWxsIGJlIGNoZWNrZWQgbGF0ZXIgaW5zaWRlIGEgc2V0VGltZW91dCBhbmQgdGhlIHZhbHVlIG1pZ2h0IGNoYW5nZVxyXG4gICAgICAgICAgICAgICAgbG9jYWxJc1Jlc2l6aW5nOiBpc1Jlc2l6aW5nXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHYueE1vdmVtZW50ID0gZ2V0WG1vdmVtZW50KHYucHJldlNsaWRlSW5kZXgsIHYuc2xpZGVJbmRleCk7XHJcblxyXG4gICAgICAgICAgICAvL2ltcG9ydGFudCEhIE9ubHkgZG8gaXQgd2hlbiBub3QgcmVzaXppbmdcclxuICAgICAgICAgICAgaWYoIXYubG9jYWxJc1Jlc2l6aW5nKXtcclxuICAgICAgICAgICAgICAgIC8vcHJldmVudGluZyBmcm9tIHNjcm9sbGluZyB0byB0aGUgbmV4dC9wcmV2IHNlY3Rpb24gd2hlbiB1c2luZyBzY3JvbGxIb3Jpem9udGFsbHlcclxuICAgICAgICAgICAgICAgIGNhblNjcm9sbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihvcHRpb25zLm9uU2xpZGVMZWF2ZSl7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9pZiB0aGUgc2l0ZSBpcyBub3QganVzdCByZXNpemluZyBhbmQgcmVhZGp1c3RpbmcgdGhlIHNsaWRlc1xyXG4gICAgICAgICAgICAgICAgaWYoIXYubG9jYWxJc1Jlc2l6aW5nICYmIHYueE1vdmVtZW50IT09J25vbmUnKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihpc0Z1bmN0aW9uKCBvcHRpb25zLm9uU2xpZGVMZWF2ZSApKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGZpcmVDYWxsYmFjaygnb25TbGlkZUxlYXZlJywgdikgPT09IGZhbHNlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlTW92aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGFkZENsYXNzKGRlc3RpbnksIEFDVElWRSk7XHJcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNpYmxpbmdzKGRlc3RpbnkpLCBBQ1RJVkUpO1xyXG5cclxuICAgICAgICAgICAgaWYoIXYubG9jYWxJc1Jlc2l6aW5nKXtcclxuICAgICAgICAgICAgICAgIHN0b3BNZWRpYSh2LnByZXZTbGlkZSk7XHJcbiAgICAgICAgICAgICAgICBsYXp5TG9hZChkZXN0aW55KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoIW9wdGlvbnMubG9vcEhvcml6b250YWwgJiYgb3B0aW9ucy5jb250cm9sQXJyb3dzKXtcclxuICAgICAgICAgICAgICAgIC8vaGlkZGluZyBpdCBmb3IgdGhlIGZpc3Qgc2xpZGUsIHNob3dpbmcgZm9yIHRoZSByZXN0XHJcbiAgICAgICAgICAgICAgICB0b2dnbGUoJChTTElERVNfQVJST1dfUFJFVl9TRUwsIHNlY3Rpb24pLCB2LnNsaWRlSW5kZXghPT0wKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2hpZGRpbmcgaXQgZm9yIHRoZSBsYXN0IHNsaWRlLCBzaG93aW5nIGZvciB0aGUgcmVzdFxyXG4gICAgICAgICAgICAgICAgdG9nZ2xlKCQoU0xJREVTX0FSUk9XX05FWFRfU0VMLCBzZWN0aW9uKSwgbmV4dChkZXN0aW55KSAhPSBudWxsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9vbmx5IGNoYW5naW5nIHRoZSBVUkwgaWYgdGhlIHNsaWRlcyBhcmUgaW4gdGhlIGN1cnJlbnQgc2VjdGlvbiAobm90IGZvciByZXNpemUgcmUtYWRqdXN0aW5nKVxyXG4gICAgICAgICAgICBpZihoYXNDbGFzcyhzZWN0aW9uLCBBQ1RJVkUpICYmICF2LmxvY2FsSXNSZXNpemluZyl7XHJcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZSh2LnNsaWRlSW5kZXgsIHYuc2xpZGVBbmNob3IsIHYuYW5jaG9yTGluaywgdi5zZWN0aW9uSW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwZXJmb3JtSG9yaXpvbnRhbE1vdmUoc2xpZGVzLCB2LCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZnRlclNsaWRlTG9hZHModil7XHJcbiAgICAgICAgICAgIGFjdGl2ZVNsaWRlc05hdmlnYXRpb24odi5zbGlkZXNOYXYsIHYuc2xpZGVJbmRleCk7XHJcblxyXG4gICAgICAgICAgICAvL2lmIHRoZSBzaXRlIGlzIG5vdCBqdXN0IHJlc2l6aW5nIGFuZCByZWFkanVzdGluZyB0aGUgc2xpZGVzXHJcbiAgICAgICAgICAgIGlmKCF2LmxvY2FsSXNSZXNpemluZyl7XHJcbiAgICAgICAgICAgICAgICBpZihpc0Z1bmN0aW9uKCBvcHRpb25zLmFmdGVyU2xpZGVMb2FkICkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcmVDYWxsYmFjaygnYWZ0ZXJTbGlkZUxvYWQnLCB2KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL25lZWRzIHRvIGJlIGluc2lkZSB0aGUgY29uZGl0aW9uIHRvIHByZXZlbnQgcHJvYmxlbXMgd2l0aCBjb250aW51b3VzVmVydGljYWwgYW5kIHNjcm9sbEhvcml6b250YWxseVxyXG4gICAgICAgICAgICAgICAgLy9hbmQgdG8gcHJldmVudCBkb3VibGUgc2Nyb2xsIHJpZ2h0IGFmdGVyIGEgd2luZG93cyByZXNpemVcclxuICAgICAgICAgICAgICAgIGNhblNjcm9sbCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgcGxheU1lZGlhKHYuZGVzdGlueSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vbGV0dGluZyB0aGVtIHNsaWRlIGFnYWluXHJcbiAgICAgICAgICAgIHNsaWRlTW92aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFBlcmZvcm1zIHRoZSBob3Jpem9udGFsIG1vdmVtZW50LiAoQ1NTMyBvciBqUXVlcnkpXHJcbiAgICAgICAgKlxyXG4gICAgICAgICogQHBhcmFtIGZpcmVDYWxsYmFjayB7Qm9vbH0gLSBkZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IHRvIGZpcmUgdGhlIGNhbGxiYWNrXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBwZXJmb3JtSG9yaXpvbnRhbE1vdmUoc2xpZGVzLCB2LCBmaXJlQ2FsbGJhY2spe1xyXG4gICAgICAgICAgICB2YXIgZGVzdGlueVBvcyA9IHYuZGVzdGlueVBvcztcclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuY3NzMyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRlM2QgPSAndHJhbnNsYXRlM2QoLScgKyBNYXRoLnJvdW5kKGRlc3RpbnlQb3MubGVmdCkgKyAncHgsIDBweCwgMHB4KSc7XHJcblxyXG4gICAgICAgICAgICAgICAgRlAudGVzdC50cmFuc2xhdGUzZEhbdi5zZWN0aW9uSW5kZXhdID0gdHJhbnNsYXRlM2Q7XHJcbiAgICAgICAgICAgICAgICBjc3MoYWRkQW5pbWF0aW9uKCQoU0xJREVTX0NPTlRBSU5FUl9TRUwsIHNsaWRlcykpLCBnZXRUcmFuc2Zvcm1zKHRyYW5zbGF0ZTNkKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYWZ0ZXJTbGlkZUxvYWRzSWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZmlyZUNhbGxiYWNrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJTbGlkZUxvYWRzKHYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuc2Nyb2xsaW5nU3BlZWQpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIEZQLnRlc3QubGVmdFt2LnNlY3Rpb25JbmRleF0gPSBNYXRoLnJvdW5kKGRlc3RpbnlQb3MubGVmdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsVG8oc2xpZGVzLCBNYXRoLnJvdW5kKGRlc3RpbnlQb3MubGVmdCksIG9wdGlvbnMuc2Nyb2xsaW5nU3BlZWQsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZmlyZUNhbGxiYWNrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJTbGlkZUxvYWRzKHYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNldHMgdGhlIHN0YXRlIGZvciB0aGUgaG9yaXpvbnRhbCBidWxsZXQgbmF2aWdhdGlvbnMuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmVTbGlkZXNOYXZpZ2F0aW9uKHNsaWRlc05hdiwgc2xpZGVJbmRleCl7XHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuc2xpZGVzTmF2aWdhdGlvbiAmJiBzbGlkZXNOYXYgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcygkKEFDVElWRV9TRUwsIHNsaWRlc05hdiksIEFDVElWRSk7XHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyggJCgnYScsICQoJ2xpJywgc2xpZGVzTmF2KVtzbGlkZUluZGV4XSApLCBBQ1RJVkUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcHJldmlvdXNIZWlnaHQgPSB3aW5kb3dzSGVpZ2h0O1xyXG5cclxuICAgICAgICAvL3doZW4gcmVzaXppbmcgdGhlIHNpdGUsIHdlIGFkanVzdCB0aGUgaGVpZ2h0cyBvZiB0aGUgc2VjdGlvbnMsIHNsaW1TY3JvbGwuLi5cclxuICAgICAgICBmdW5jdGlvbiByZXNpemVIYW5kbGVyKCl7XHJcbiAgICAgICAgICAgIC8vY2hlY2tpbmcgaWYgaXQgbmVlZHMgdG8gZ2V0IHJlc3BvbnNpdmVcclxuICAgICAgICAgICAgcmVzcG9uc2l2ZSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVidWlsZCBpbW1lZGlhdGVseSBvbiB0b3VjaCBkZXZpY2VzXHJcbiAgICAgICAgICAgIGlmIChpc1RvdWNoRGV2aWNlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9pZiB0aGUga2V5Ym9hcmQgaXMgTk9UIHZpc2libGVcclxuICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlcyhhY3RpdmVFbGVtZW50LCAndGV4dGFyZWEnKSAmJiAhbWF0Y2hlcyhhY3RpdmVFbGVtZW50LCAnaW5wdXQnKSAmJiAhbWF0Y2hlcyhhY3RpdmVFbGVtZW50LCAnc2VsZWN0JykpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudEhlaWdodCA9IGdldFdpbmRvd0hlaWdodCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL21ha2luZyBzdXJlIHRoZSBjaGFuZ2UgaW4gdGhlIHZpZXdwb3J0IHNpemUgaXMgZW5vdWdoIHRvIGZvcmNlIGEgcmVidWlsZC4gKDIwICUgb2YgdGhlIHdpbmRvdyB0byBhdm9pZCBwcm9ibGVtcyB3aGVuIGhpZGRpbmcgc2Nyb2xsIGJhcnMpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIE1hdGguYWJzKGN1cnJlbnRIZWlnaHQgLSBwcmV2aW91c0hlaWdodCkgPiAoMjAgKiBNYXRoLm1heChwcmV2aW91c0hlaWdodCwgY3VycmVudEhlaWdodCkgLyAxMDApICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlQnVpbGQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzSGVpZ2h0ID0gY3VycmVudEhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgLy9pbiBvcmRlciB0byBjYWxsIHRoZSBmdW5jdGlvbnMgb25seSB3aGVuIHRoZSByZXNpemUgaXMgZmluaXNoZWRcclxuICAgICAgICAgICAgICAgIC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80Mjk4NjEyL2pxdWVyeS1ob3ctdG8tY2FsbC1yZXNpemUtZXZlbnQtb25seS1vbmNlLWl0cy1maW5pc2hlZC1yZXNpemluZ1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZUlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXNpemVJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICByZUJ1aWxkKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSwgMzUwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBDaGVja3MgaWYgdGhlIHNpdGUgbmVlZHMgdG8gZ2V0IHJlc3BvbnNpdmUgYW5kIGRpc2FibGVzIGF1dG9TY3JvbGxpbmcgaWYgc28uXHJcbiAgICAgICAgKiBBIGNsYXNzIGBmcC1yZXNwb25zaXZlYCBpcyBhZGRlZCB0byB0aGUgcGx1Z2luJ3MgY29udGFpbmVyIGluIGNhc2UgdGhlIHVzZXIgd2FudHMgdG8gdXNlIGl0IGZvciBoaXMgb3duIHJlc3BvbnNpdmUgQ1NTLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzcG9uc2l2ZSgpe1xyXG4gICAgICAgICAgICB2YXIgd2lkdGhMaW1pdCA9IG9wdGlvbnMucmVzcG9uc2l2ZSB8fCBvcHRpb25zLnJlc3BvbnNpdmVXaWR0aDsgLy9iYWNrd2FyZHMgY29tcGF0aWJsaXR5XHJcbiAgICAgICAgICAgIHZhciBoZWlnaHRMaW1pdCA9IG9wdGlvbnMucmVzcG9uc2l2ZUhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIC8vb25seSBjYWxjdWxhdGluZyB3aGF0IHdlIG5lZWQuIFJlbWVtYmVyIGl0cyBjYWxsZWQgb24gdGhlIHJlc2l6ZSBldmVudC5cclxuICAgICAgICAgICAgdmFyIGlzQnJlYWtpbmdQb2ludFdpZHRoID0gd2lkdGhMaW1pdCAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8IHdpZHRoTGltaXQ7XHJcbiAgICAgICAgICAgIHZhciBpc0JyZWFraW5nUG9pbnRIZWlnaHQgPSBoZWlnaHRMaW1pdCAmJiB3aW5kb3cuaW5uZXJIZWlnaHQgPCBoZWlnaHRMaW1pdDtcclxuXHJcbiAgICAgICAgICAgIGlmKHdpZHRoTGltaXQgJiYgaGVpZ2h0TGltaXQpe1xyXG4gICAgICAgICAgICAgICAgc2V0UmVzcG9uc2l2ZShpc0JyZWFraW5nUG9pbnRXaWR0aCB8fCBpc0JyZWFraW5nUG9pbnRIZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYod2lkdGhMaW1pdCl7XHJcbiAgICAgICAgICAgICAgICBzZXRSZXNwb25zaXZlKGlzQnJlYWtpbmdQb2ludFdpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKGhlaWdodExpbWl0KXtcclxuICAgICAgICAgICAgICAgIHNldFJlc3BvbnNpdmUoaXNCcmVha2luZ1BvaW50SGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBBZGRzIHRyYW5zaXRpb24gYW5pbWF0aW9ucyBmb3IgdGhlIGdpdmVuIGVsZW1lbnRcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGFkZEFuaW1hdGlvbihlbGVtZW50KXtcclxuICAgICAgICAgICAgdmFyIHRyYW5zaXRpb24gPSAnYWxsICcgKyBvcHRpb25zLnNjcm9sbGluZ1NwZWVkICsgJ21zICcgKyBvcHRpb25zLmVhc2luZ2NzczM7XHJcblxyXG4gICAgICAgICAgICByZW1vdmVDbGFzcyhlbGVtZW50LCBOT19UUkFOU0lUSU9OKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNzcyhlbGVtZW50LCB7XHJcbiAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2l0aW9uJzogdHJhbnNpdGlvbixcclxuICAgICAgICAgICAgICAgICd0cmFuc2l0aW9uJzogdHJhbnNpdGlvblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogUmVtb3ZlIHRyYW5zaXRpb24gYW5pbWF0aW9ucyBmb3IgdGhlIGdpdmVuIGVsZW1lbnRcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUFuaW1hdGlvbihlbGVtZW50KXtcclxuICAgICAgICAgICAgcmV0dXJuIGFkZENsYXNzKGVsZW1lbnQsIE5PX1RSQU5TSVRJT04pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBBY3RpdmF0aW5nIHRoZSB2ZXJ0aWNhbCBuYXZpZ2F0aW9uIGJ1bGxldHMgYWNjb3JkaW5nIHRvIHRoZSBnaXZlbiBzbGlkZSBuYW1lLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGVOYXZEb3RzKG5hbWUsIHNlY3Rpb25JbmRleCl7XHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMubmF2aWdhdGlvbiAmJiAkKFNFQ1RJT05fTkFWX1NFTClbMF0gIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoJChBQ1RJVkVfU0VMLCAkKFNFQ1RJT05fTkFWX1NFTClbMF0pLCBBQ1RJVkUpO1xyXG4gICAgICAgICAgICAgICAgaWYobmFtZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoICQoJ2FbaHJlZj1cIiMnICsgbmFtZSArICdcIl0nLCAkKFNFQ1RJT05fTkFWX1NFTClbMF0pLCBBQ1RJVkUpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoJCgnYScsICQoJ2xpJywgJChTRUNUSU9OX05BVl9TRUwpWzBdKVtzZWN0aW9uSW5kZXhdKSwgQUNUSVZFKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBBY3RpdmF0aW5nIHRoZSB3ZWJzaXRlIG1haW4gbWVudSBlbGVtZW50cyBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIHNsaWRlIG5hbWUuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZU1lbnVFbGVtZW50KG5hbWUpe1xyXG4gICAgICAgICAgICB2YXIgbWVudSA9ICQob3B0aW9ucy5tZW51KVswXTtcclxuICAgICAgICAgICAgaWYob3B0aW9ucy5tZW51ICYmIG1lbnUgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcygkKEFDVElWRV9TRUwsIG1lbnUpLCBBQ1RJVkUpO1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoJCgnW2RhdGEtbWVudWFuY2hvcj1cIicrbmFtZSsnXCJdJywgbWVudSksIEFDVElWRSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2V0cyB0byBhY3RpdmUgdGhlIGN1cnJlbnQgbWVudSBhbmQgdmVydGljYWwgbmF2IGl0ZW1zLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGVNZW51QW5kTmF2KGFuY2hvciwgaW5kZXgpe1xyXG4gICAgICAgICAgICBhY3RpdmF0ZU1lbnVFbGVtZW50KGFuY2hvcik7XHJcbiAgICAgICAgICAgIGFjdGl2YXRlTmF2RG90cyhhbmNob3IsIGluZGV4KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogUmV0dW5zIGB1cGAgb3IgYGRvd25gIGRlcGVuZGluZyBvbiB0aGUgc2Nyb2xsaW5nIG1vdmVtZW50IHRvIHJlYWNoIGl0cyBkZXN0aW5hdGlvblxyXG4gICAgICAgICogZnJvbSB0aGUgY3VycmVudCBzZWN0aW9uLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0WW1vdmVtZW50KGRlc3Rpbnkpe1xyXG4gICAgICAgICAgICB2YXIgZnJvbUluZGV4ID0gaW5kZXgoJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdLCBTRUNUSU9OX1NFTCk7XHJcbiAgICAgICAgICAgIHZhciB0b0luZGV4ID0gaW5kZXgoZGVzdGlueSwgU0VDVElPTl9TRUwpO1xyXG4gICAgICAgICAgICBpZiggZnJvbUluZGV4ID09IHRvSW5kZXgpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihmcm9tSW5kZXggPiB0b0luZGV4KXtcclxuICAgICAgICAgICAgICAgIHJldHVybiAndXAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAnZG93bic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFJldHVucyBgcmlnaHRgIG9yIGBsZWZ0YCBkZXBlbmRpbmcgb24gdGhlIHNjcm9sbGluZyBtb3ZlbWVudCB0byByZWFjaCBpdHMgZGVzdGluYXRpb25cclxuICAgICAgICAqIGZyb20gdGhlIGN1cnJlbnQgc2xpZGUuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBnZXRYbW92ZW1lbnQoZnJvbUluZGV4LCB0b0luZGV4KXtcclxuICAgICAgICAgICAgaWYoIGZyb21JbmRleCA9PSB0b0luZGV4KXtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoZnJvbUluZGV4ID4gdG9JbmRleCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2xlZnQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAncmlnaHQnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkVGFibGVDbGFzcyhlbGVtZW50KXtcclxuICAgICAgICAgICAgLy9JbiBjYXNlIHdlIGFyZSBzdHlsaW5nIGZvciB0aGUgMm5kIHRpbWUgYXMgaW4gd2l0aCByZXBvbnNpdmVTbGlkZXNcclxuICAgICAgICAgICAgaWYoIWhhc0NsYXNzKGVsZW1lbnQsIFRBQkxFKSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSBUQUJMRV9DRUxMO1xyXG4gICAgICAgICAgICAgICAgd3JhcHBlci5zdHlsZS5oZWlnaHQgPSBnZXRUYWJsZUhlaWdodChlbGVtZW50KSArICdweCc7XHJcblxyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgVEFCTEUpO1xyXG4gICAgICAgICAgICAgICAgd3JhcElubmVyKGVsZW1lbnQsIHdyYXBwZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRUYWJsZUhlaWdodChlbGVtZW50KXtcclxuICAgICAgICAgICAgdmFyIHNlY3Rpb25IZWlnaHQgPSB3aW5kb3dzSGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgaWYob3B0aW9ucy5wYWRkaW5nVG9wIHx8IG9wdGlvbnMucGFkZGluZ0JvdHRvbSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VjdGlvbiA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBpZighaGFzQ2xhc3Moc2VjdGlvbiwgU0VDVElPTikpe1xyXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb24gPSBjbG9zZXN0KGVsZW1lbnQsIFNFQ1RJT05fU0VMKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcGFkZGluZ3MgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKHNlY3Rpb24pWydwYWRkaW5nLXRvcCddKSArIHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoc2VjdGlvbilbJ3BhZGRpbmctYm90dG9tJ10pO1xyXG4gICAgICAgICAgICAgICAgc2VjdGlvbkhlaWdodCA9ICh3aW5kb3dzSGVpZ2h0IC0gcGFkZGluZ3MpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gc2VjdGlvbkhlaWdodDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQWRkcyBhIGNzczMgdHJhbnNmb3JtIHByb3BlcnR5IHRvIHRoZSBjb250YWluZXIgY2xhc3Mgd2l0aCBvciB3aXRob3V0IGFuaW1hdGlvbiBkZXBlbmRpbmcgb24gdGhlIGFuaW1hdGVkIHBhcmFtLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gdHJhbnNmb3JtQ29udGFpbmVyKHRyYW5zbGF0ZTNkLCBhbmltYXRlZCl7XHJcbiAgICAgICAgICAgIGlmKGFuaW1hdGVkKXtcclxuICAgICAgICAgICAgICAgIGFkZEFuaW1hdGlvbihjb250YWluZXIpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHJlbW92ZUFuaW1hdGlvbihjb250YWluZXIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjc3MoY29udGFpbmVyLCBnZXRUcmFuc2Zvcm1zKHRyYW5zbGF0ZTNkKSk7XHJcbiAgICAgICAgICAgIEZQLnRlc3QudHJhbnNsYXRlM2QgPSB0cmFuc2xhdGUzZDtcclxuXHJcbiAgICAgICAgICAgIC8vc3luY3Jvbm91c2x5IHJlbW92aW5nIHRoZSBjbGFzcyBhZnRlciB0aGUgYW5pbWF0aW9uIGhhcyBiZWVuIGFwcGxpZWQuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGNvbnRhaW5lciwgTk9fVFJBTlNJVElPTik7XHJcbiAgICAgICAgICAgIH0sMTApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBHZXRzIGEgc2VjdGlvbiBieSBpdHMgYW5jaG9yIC8gaW5kZXhcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldFNlY3Rpb25CeUFuY2hvcihzZWN0aW9uQW5jaG9yKXtcclxuICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSAkKFNFQ1RJT05fU0VMICsgJ1tkYXRhLWFuY2hvcj1cIicrc2VjdGlvbkFuY2hvcisnXCJdJywgY29udGFpbmVyKVswXTtcclxuICAgICAgICAgICAgaWYoIXNlY3Rpb24pe1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlY3Rpb25JbmRleCA9IHR5cGVvZiBzZWN0aW9uQW5jaG9yICE9PSAndW5kZWZpbmVkJyA/IHNlY3Rpb25BbmNob3IgLTEgOiAwO1xyXG4gICAgICAgICAgICAgICAgc2VjdGlvbiA9ICQoU0VDVElPTl9TRUwpW3NlY3Rpb25JbmRleF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzZWN0aW9uO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBHZXRzIGEgc2xpZGUgaW5zaWRlIGEgZ2l2ZW4gc2VjdGlvbiBieSBpdHMgYW5jaG9yIC8gaW5kZXhcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldFNsaWRlQnlBbmNob3Ioc2xpZGVBbmNob3IsIHNlY3Rpb24pe1xyXG4gICAgICAgICAgICB2YXIgc2xpZGUgPSAkKFNMSURFX1NFTCArICdbZGF0YS1hbmNob3I9XCInK3NsaWRlQW5jaG9yKydcIl0nLCBzZWN0aW9uKVswXTtcclxuICAgICAgICAgICAgaWYoc2xpZGUgPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICBzbGlkZUFuY2hvciA9IHR5cGVvZiBzbGlkZUFuY2hvciAhPT0gJ3VuZGVmaW5lZCcgPyBzbGlkZUFuY2hvciA6IDA7XHJcbiAgICAgICAgICAgICAgICBzbGlkZSA9ICQoU0xJREVfU0VMLCBzZWN0aW9uKVtzbGlkZUFuY2hvcl07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzbGlkZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2Nyb2xscyB0byB0aGUgZ2l2ZW4gc2VjdGlvbiBhbmQgc2xpZGUgYW5jaG9yc1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2Nyb2xsUGFnZUFuZFNsaWRlKHNlY3Rpb25BbmNob3IsIHNsaWRlQW5jaG9yKXtcclxuICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSBnZXRTZWN0aW9uQnlBbmNob3Ioc2VjdGlvbkFuY2hvcik7XHJcblxyXG4gICAgICAgICAgICAvL2RvIG5vdGhpbmcgaWYgdGhlcmUncyBubyBzZWN0aW9uIHdpdGggdGhlIGdpdmVuIGFuY2hvciBuYW1lXHJcbiAgICAgICAgICAgIGlmKHNlY3Rpb24gPT0gbnVsbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdmFyIHNsaWRlID0gZ2V0U2xpZGVCeUFuY2hvcihzbGlkZUFuY2hvciwgc2VjdGlvbik7XHJcblxyXG4gICAgICAgICAgICAvL3dlIG5lZWQgdG8gc2Nyb2xsIHRvIHRoZSBzZWN0aW9uIGFuZCB0aGVuIHRvIHRoZSBzbGlkZVxyXG4gICAgICAgICAgICBpZiAoc2VjdGlvbkFuY2hvciAhPT0gbGFzdFNjcm9sbGVkRGVzdGlueSAmJiAhaGFzQ2xhc3Moc2VjdGlvbiwgQUNUSVZFKSl7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxQYWdlKHNlY3Rpb24sIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsU2xpZGVyKHNsaWRlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vaWYgd2Ugd2VyZSBhbHJlYWR5IGluIHRoZSBzZWN0aW9uXHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxTbGlkZXIoc2xpZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNjcm9sbHMgdGhlIHNsaWRlciB0byB0aGUgZ2l2ZW4gc2xpZGUgZGVzdGluYXRpb24gZm9yIHRoZSBnaXZlbiBzZWN0aW9uXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzY3JvbGxTbGlkZXIoc2xpZGUpe1xyXG4gICAgICAgICAgICBpZihzbGlkZSAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgIGxhbmRzY2FwZVNjcm9sbChjbG9zZXN0KHNsaWRlLCBTTElERVNfV1JBUFBFUl9TRUwpLCBzbGlkZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQ3JlYXRlcyBhIGxhbmRzY2FwZSBuYXZpZ2F0aW9uIGJhciB3aXRoIGRvdHMgZm9yIGhvcml6b250YWwgc2xpZGVycy5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGFkZFNsaWRlc05hdmlnYXRpb24oc2VjdGlvbiwgbnVtU2xpZGVzKXtcclxuICAgICAgICAgICAgYXBwZW5kVG8oY3JlYXRlRWxlbWVudEZyb21IVE1MKCc8ZGl2IGNsYXNzPVwiJyArIFNMSURFU19OQVYgKyAnXCI+PHVsPjwvdWw+PC9kaXY+JyksIHNlY3Rpb24pO1xyXG4gICAgICAgICAgICB2YXIgbmF2ID0gJChTTElERVNfTkFWX1NFTCwgc2VjdGlvbilbMF07XHJcblxyXG4gICAgICAgICAgICAvL3RvcCBvciBib3R0b21cclxuICAgICAgICAgICAgYWRkQ2xhc3MobmF2LCAnZnAtJyArIG9wdGlvbnMuc2xpZGVzTmF2UG9zaXRpb24pO1xyXG5cclxuICAgICAgICAgICAgZm9yKHZhciBpPTA7IGk8IG51bVNsaWRlczsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGFwcGVuZFRvKGNyZWF0ZUVsZW1lbnRGcm9tSFRNTCgnPGxpPjxhIGhyZWY9XCIjXCI+PHNwYW4+PC9zcGFuPjwvYT48L2xpPicpLCAkKCd1bCcsIG5hdilbMF0gKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9jZW50ZXJpbmcgaXRcclxuICAgICAgICAgICAgY3NzKG5hdiwgeydtYXJnaW4tbGVmdCc6ICctJyArIChuYXYuaW5uZXJXaWR0aC8yKSArICdweCd9KTtcclxuXHJcbiAgICAgICAgICAgIGFkZENsYXNzKCQoJ2EnLCAkKCdsaScsIG5hdilbMF0gKSwgQUNUSVZFKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNldHMgdGhlIHN0YXRlIG9mIHRoZSB3ZWJzaXRlIGRlcGVuZGluZyBvbiB0aGUgYWN0aXZlIHNlY3Rpb24vc2xpZGUuXHJcbiAgICAgICAgKiBJdCBjaGFuZ2VzIHRoZSBVUkwgaGFzaCB3aGVuIG5lZWRlZCBhbmQgdXBkYXRlcyB0aGUgYm9keSBjbGFzcy5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNldFN0YXRlKHNsaWRlSW5kZXgsIHNsaWRlQW5jaG9yLCBhbmNob3JMaW5rLCBzZWN0aW9uSW5kZXgpe1xyXG4gICAgICAgICAgICB2YXIgc2VjdGlvbkhhc2ggPSAnJztcclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuYW5jaG9ycy5sZW5ndGggJiYgIW9wdGlvbnMubG9ja0FuY2hvcnMpe1xyXG5cclxuICAgICAgICAgICAgICAgIC8vaXNuJ3QgaXQgdGhlIGZpcnN0IHNsaWRlP1xyXG4gICAgICAgICAgICAgICAgaWYoc2xpZGVJbmRleCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYW5jaG9yTGluayAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbkhhc2ggPSBhbmNob3JMaW5rO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9zbGlkZSB3aXRob3V0IGFuY2hvciBsaW5rPyBXZSB0YWtlIHRoZSBpbmRleCBpbnN0ZWFkLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHNsaWRlQW5jaG9yID09IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZUFuY2hvciA9IHNsaWRlSW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsYXN0U2Nyb2xsZWRTbGlkZSA9IHNsaWRlQW5jaG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFVybEhhc2goc2VjdGlvbkhhc2ggKyAnLycgKyBzbGlkZUFuY2hvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9maXJzdCBzbGlkZSB3b24ndCBoYXZlIHNsaWRlIGFuY2hvciwganVzdCB0aGUgc2VjdGlvbiBvbmVcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKHNsaWRlSW5kZXggIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdFNjcm9sbGVkU2xpZGUgPSBzbGlkZUFuY2hvcjtcclxuICAgICAgICAgICAgICAgICAgICBzZXRVcmxIYXNoKGFuY2hvckxpbmspO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vc2VjdGlvbiB3aXRob3V0IHNsaWRlc1xyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBzZXRVcmxIYXNoKGFuY2hvckxpbmspO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZXRCb2R5Q2xhc3MoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2V0cyB0aGUgVVJMIGhhc2guXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzZXRVcmxIYXNoKHVybCl7XHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMucmVjb3JkSGlzdG9yeSl7XHJcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5oYXNoID0gdXJsO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIC8vTW9iaWxlIENocm9tZSBkb2Vzbid0IHdvcmsgdGhlIG5vcm1hbCB3YXksIHNvLi4uIGxldHMgdXNlIEhUTUw1IGZvciBwaG9uZXMgOilcclxuICAgICAgICAgICAgICAgIGlmKGlzVG91Y2hEZXZpY2UgfHwgaXNUb3VjaCl7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAnIycgKyB1cmwpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2VVcmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCBiYXNlVXJsICsgJyMnICsgdXJsICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogR2V0cyB0aGUgYW5jaG9yIGZvciB0aGUgZ2l2ZW4gc2xpZGUgLyBzZWN0aW9uLiBJdHMgaW5kZXggd2lsbCBiZSB1c2VkIGlmIHRoZXJlJ3Mgbm9uZS5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldEFuY2hvcihlbGVtZW50KXtcclxuICAgICAgICAgICAgaWYoIWVsZW1lbnQpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGFuY2hvciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWFuY2hvcicpO1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudEluZGV4ID0gaW5kZXgoZWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAvL1NsaWRlIHdpdGhvdXQgYW5jaG9yIGxpbms/IFdlIHRha2UgdGhlIGluZGV4IGluc3RlYWQuXHJcbiAgICAgICAgICAgIGlmKGFuY2hvciA9PSBudWxsKXtcclxuICAgICAgICAgICAgICAgIGFuY2hvciA9IGVsZW1lbnRJbmRleDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGFuY2hvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2V0cyBhIGNsYXNzIGZvciB0aGUgYm9keSBvZiB0aGUgcGFnZSBkZXBlbmRpbmcgb24gdGhlIGFjdGl2ZSBzZWN0aW9uIC8gc2xpZGVcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNldEJvZHlDbGFzcygpe1xyXG4gICAgICAgICAgICB2YXIgc2VjdGlvbiA9ICQoU0VDVElPTl9BQ1RJVkVfU0VMKVswXTtcclxuICAgICAgICAgICAgdmFyIHNsaWRlID0gJChTTElERV9BQ1RJVkVfU0VMLCBzZWN0aW9uKVswXTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzZWN0aW9uQW5jaG9yID0gZ2V0QW5jaG9yKHNlY3Rpb24pO1xyXG4gICAgICAgICAgICB2YXIgc2xpZGVBbmNob3IgPSBnZXRBbmNob3Ioc2xpZGUpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHRleHQgPSBTdHJpbmcoc2VjdGlvbkFuY2hvcik7XHJcblxyXG4gICAgICAgICAgICBpZihzbGlkZSl7XHJcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dCArICctJyArIHNsaWRlQW5jaG9yO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL2NoYW5naW5nIHNsYXNoIGZvciBkYXNoIHRvIG1ha2UgaXQgYSB2YWxpZCBDU1Mgc3R5bGVcclxuICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgnLycsICctJykucmVwbGFjZSgnIycsJycpO1xyXG5cclxuICAgICAgICAgICAgLy9yZW1vdmluZyBwcmV2aW91cyBhbmNob3IgY2xhc3Nlc1xyXG4gICAgICAgICAgICB2YXIgY2xhc3NSZSA9IG5ldyBSZWdFeHAoJ1xcXFxiXFxcXHM/JyArIFZJRVdJTkdfUFJFRklYICsgJy1bXlxcXFxzXStcXFxcYicsIFwiZ1wiKTtcclxuICAgICAgICAgICAgJGJvZHkuY2xhc3NOYW1lID0gJGJvZHkuY2xhc3NOYW1lLnJlcGxhY2UoY2xhc3NSZSwgJycpO1xyXG5cclxuICAgICAgICAgICAgLy9hZGRpbmcgdGhlIGN1cnJlbnQgYW5jaG9yXHJcbiAgICAgICAgICAgIGFkZENsYXNzKCRib2R5LCBWSUVXSU5HX1BSRUZJWCArICctJyArIHRleHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBDaGVja3MgZm9yIHRyYW5zbGF0ZTNkIHN1cHBvcnRcclxuICAgICAgICAqIEByZXR1cm4gYm9vbGVhblxyXG4gICAgICAgICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81NjYxNjcxL2RldGVjdGluZy10cmFuc2Zvcm0tdHJhbnNsYXRlM2Qtc3VwcG9ydFxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc3VwcG9ydDNkKCkge1xyXG4gICAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyksXHJcbiAgICAgICAgICAgICAgICBoYXMzZCxcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3dlYmtpdFRyYW5zZm9ybSc6Jy13ZWJraXQtdHJhbnNmb3JtJyxcclxuICAgICAgICAgICAgICAgICAgICAnT1RyYW5zZm9ybSc6Jy1vLXRyYW5zZm9ybScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ21zVHJhbnNmb3JtJzonLW1zLXRyYW5zZm9ybScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ01velRyYW5zZm9ybSc6Jy1tb3otdHJhbnNmb3JtJyxcclxuICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzondHJhbnNmb3JtJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vcHJldmVudGluZyB0aGUgc3R5bGUgcDplbXB0eXtkaXNwbGF5OiBub25lO30gZnJvbSByZXR1cm5pbmcgdGhlIHdyb25nIHJlc3VsdFxyXG4gICAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIGl0IHRvIHRoZSBib2R5IHRvIGdldCB0aGUgY29tcHV0ZWQgc3R5bGUuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKGVsLCBudWxsKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIHQgaW4gdHJhbnNmb3Jtcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsLnN0eWxlW3RdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbC5zdHlsZVt0XSA9ICd0cmFuc2xhdGUzZCgxcHgsMXB4LDFweCknO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhczNkID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpLmdldFByb3BlcnR5VmFsdWUodHJhbnNmb3Jtc1t0XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWwpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIChoYXMzZCAhPT0gdW5kZWZpbmVkICYmIGhhczNkLmxlbmd0aCA+IDAgJiYgaGFzM2QgIT09ICdub25lJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFJlbW92ZXMgdGhlIGF1dG8gc2Nyb2xsaW5nIGFjdGlvbiBmaXJlZCBieSB0aGUgbW91c2Ugd2hlZWwgYW5kIHRyYWNrcGFkLlxyXG4gICAgICAgICogQWZ0ZXIgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSBtb3VzZXdoZWVsIGFuZCB0cmFja3BhZCBtb3ZlbWVudHMgd29uJ3Qgc2Nyb2xsIHRocm91Z2ggc2VjdGlvbnMuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmVNb3VzZVdoZWVsSGFuZGxlcigpe1xyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIE1vdXNlV2hlZWxIYW5kbGVyLCBmYWxzZSk7IC8vSUU5LCBDaHJvbWUsIFNhZmFyaSwgT3BlclxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBNb3VzZVdoZWVsSGFuZGxlciwgZmFsc2UpOyAvL0ZpcmVmb3hcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ01vek1vdXNlUGl4ZWxTY3JvbGwnLCBNb3VzZVdoZWVsSGFuZGxlciwgZmFsc2UpOyAvL29sZCBGaXJlZm94XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgnb25tb3VzZXdoZWVsJywgTW91c2VXaGVlbEhhbmRsZXIpOyAvL0lFIDYvNy84XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQWRkcyB0aGUgYXV0byBzY3JvbGxpbmcgYWN0aW9uIGZvciB0aGUgbW91c2Ugd2hlZWwgYW5kIHRyYWNrcGFkLlxyXG4gICAgICAgICogQWZ0ZXIgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSBtb3VzZXdoZWVsIGFuZCB0cmFja3BhZCBtb3ZlbWVudHMgd2lsbCBzY3JvbGwgdGhyb3VnaCBzZWN0aW9uc1xyXG4gICAgICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL3doZWVsXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBhZGRNb3VzZVdoZWVsSGFuZGxlcigpe1xyXG4gICAgICAgICAgICB2YXIgcHJlZml4ID0gJyc7XHJcbiAgICAgICAgICAgIHZhciBfYWRkRXZlbnRMaXN0ZW5lcjtcclxuXHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcil7XHJcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRMaXN0ZW5lciA9IFwiYWRkRXZlbnRMaXN0ZW5lclwiO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIF9hZGRFdmVudExpc3RlbmVyID0gXCJhdHRhY2hFdmVudFwiO1xyXG4gICAgICAgICAgICAgICAgcHJlZml4ID0gJ29uJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgIC8vIGRldGVjdCBhdmFpbGFibGUgd2hlZWwgZXZlbnRcclxuICAgICAgICAgICAgdmFyIHN1cHBvcnQgPSAnb253aGVlbCcgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykgPyAnd2hlZWwnIDogLy8gTW9kZXJuIGJyb3dzZXJzIHN1cHBvcnQgXCJ3aGVlbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5vbm1vdXNld2hlZWwgIT09IHVuZGVmaW5lZCA/ICdtb3VzZXdoZWVsJyA6IC8vIFdlYmtpdCBhbmQgSUUgc3VwcG9ydCBhdCBsZWFzdCBcIm1vdXNld2hlZWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgJ0RPTU1vdXNlU2Nyb2xsJzsgLy8gbGV0J3MgYXNzdW1lIHRoYXQgcmVtYWluaW5nIGJyb3dzZXJzIGFyZSBvbGRlciBGaXJlZm94XHJcblxyXG5cclxuICAgICAgICAgICAgaWYoc3VwcG9ydCA9PSAnRE9NTW91c2VTY3JvbGwnKXtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50WyBfYWRkRXZlbnRMaXN0ZW5lciBdKHByZWZpeCArICdNb3pNb3VzZVBpeGVsU2Nyb2xsJywgTW91c2VXaGVlbEhhbmRsZXIsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9oYW5kbGUgTW96TW91c2VQaXhlbFNjcm9sbCBpbiBvbGRlciBGaXJlZm94XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudFsgX2FkZEV2ZW50TGlzdGVuZXIgXShwcmVmaXggKyBzdXBwb3J0LCBNb3VzZVdoZWVsSGFuZGxlciwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEJpbmRpbmcgdGhlIG1vdXNlbW92ZSB3aGVuIHRoZSBtb3VzZSdzIG1pZGRsZSBidXR0b24gaXMgcHJlc3NlZFxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkTWlkZGxlV2hlZWxIYW5kbGVyKCl7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBtb3VzZURvd25IYW5kbGVyKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBtb3VzZVVwSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFVuYmluZGluZyB0aGUgbW91c2Vtb3ZlIHdoZW4gdGhlIG1vdXNlJ3MgbWlkZGxlIGJ1dHRvbiBpcyByZWxlYXNlZFxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlTWlkZGxlV2hlZWxIYW5kbGVyKCl7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBtb3VzZURvd25IYW5kbGVyKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBtb3VzZVVwSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEFkZHMgdGhlIHBvc3NpYmlsaXR5IHRvIGF1dG8gc2Nyb2xsIHRocm91Z2ggc2VjdGlvbnMgb24gdG91Y2ggZGV2aWNlcy5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGFkZFRvdWNoSGFuZGxlcigpe1xyXG4gICAgICAgICAgICBpZihpc1RvdWNoRGV2aWNlIHx8IGlzVG91Y2gpe1xyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5hdXRvU2Nyb2xsaW5nKXtcclxuICAgICAgICAgICAgICAgICAgICAkYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50cy50b3VjaG1vdmUsIHByZXZlbnRCb3VuY2luZywge3Bhc3NpdmU6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGJvZHkuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMudG91Y2htb3ZlLCBwcmV2ZW50Qm91bmNpbmcsIHtwYXNzaXZlOiBmYWxzZX0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICQoV1JBUFBFUl9TRUwpWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRzLnRvdWNoc3RhcnQsIHRvdWNoU3RhcnRIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgICQoV1JBUFBFUl9TRUwpWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRzLnRvdWNobW92ZSwgdG91Y2hNb3ZlSGFuZGxlciwge3Bhc3NpdmU6IGZhbHNlfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJChXUkFQUEVSX1NFTClbMF0uYWRkRXZlbnRMaXN0ZW5lcihldmVudHMudG91Y2hzdGFydCwgdG91Y2hTdGFydEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgJChXUkFQUEVSX1NFTClbMF0uYWRkRXZlbnRMaXN0ZW5lcihldmVudHMudG91Y2htb3ZlLCB0b3VjaE1vdmVIYW5kbGVyLCB7cGFzc2l2ZTogZmFsc2V9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBSZW1vdmVzIHRoZSBhdXRvIHNjcm9sbGluZyBmb3IgdG91Y2ggZGV2aWNlcy5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZVRvdWNoSGFuZGxlcigpe1xyXG4gICAgICAgICAgICBpZihpc1RvdWNoRGV2aWNlIHx8IGlzVG91Y2gpe1xyXG4gICAgICAgICAgICAgICAgLy8gbm9ybWFsU2Nyb2xsRWxlbWVudHMgcmVxdWlyZXMgaXQgb2ZmICMyNjkxXHJcbiAgICAgICAgICAgICAgICBpZihvcHRpb25zLmF1dG9TY3JvbGxpbmcpe1xyXG4gICAgICAgICAgICAgICAgICAgICRib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRzLnRvdWNobW92ZSwgdG91Y2hNb3ZlSGFuZGxlciwge3Bhc3NpdmU6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudHMudG91Y2htb3ZlLCBwcmV2ZW50Qm91bmNpbmcsIHtwYXNzaXZlOiBmYWxzZX0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICQoV1JBUFBFUl9TRUwpWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRzLnRvdWNoc3RhcnQsIHRvdWNoU3RhcnRIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgICQoV1JBUFBFUl9TRUwpWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRzLnRvdWNobW92ZSwgdG91Y2hNb3ZlSGFuZGxlciwge3Bhc3NpdmU6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgKiBSZXR1cm5zIGFuZCBvYmplY3Qgd2l0aCBNaWNyb3NvZnQgcG9pbnRlcnMgKGZvciBJRTwxMSBhbmQgZm9yIElFID49IDExKVxyXG4gICAgICAgICogaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2RuMzA0ODg2KHY9dnMuODUpLmFzcHhcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldE1TUG9pbnRlcigpe1xyXG4gICAgICAgICAgICB2YXIgcG9pbnRlcjtcclxuXHJcbiAgICAgICAgICAgIC8vSUUgPj0gMTEgJiByZXN0IG9mIGJyb3dzZXJzXHJcbiAgICAgICAgICAgIGlmKHdpbmRvdy5Qb2ludGVyRXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgcG9pbnRlciA9IHsgZG93bjogJ3BvaW50ZXJkb3duJywgbW92ZTogJ3BvaW50ZXJtb3ZlJ307XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vSUUgPCAxMVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgcG9pbnRlciA9IHsgZG93bjogJ01TUG9pbnRlckRvd24nLCBtb3ZlOiAnTVNQb2ludGVyTW92ZSd9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcG9pbnRlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogR2V0cyB0aGUgcGFnZVggYW5kIHBhZ2VZIHByb3BlcnRpZXMgZGVwZW5kaW5nIG9uIHRoZSBicm93c2VyLlxyXG4gICAgICAgICogaHR0cHM6Ly9naXRodWIuY29tL2FsdmFyb3RyaWdvL2Z1bGxQYWdlLmpzL2lzc3Vlcy8xOTQjaXNzdWVjb21tZW50LTM0MDY5ODU0XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBnZXRFdmVudHNQYWdlKGUpe1xyXG4gICAgICAgICAgICB2YXIgZXZlbnRzID0gW107XHJcblxyXG4gICAgICAgICAgICBldmVudHMueSA9ICh0eXBlb2YgZS5wYWdlWSAhPT0gJ3VuZGVmaW5lZCcgJiYgKGUucGFnZVkgfHwgZS5wYWdlWCkgPyBlLnBhZ2VZIDogZS50b3VjaGVzWzBdLnBhZ2VZKTtcclxuICAgICAgICAgICAgZXZlbnRzLnggPSAodHlwZW9mIGUucGFnZVggIT09ICd1bmRlZmluZWQnICYmIChlLnBhZ2VZIHx8IGUucGFnZVgpID8gZS5wYWdlWCA6IGUudG91Y2hlc1swXS5wYWdlWCk7XHJcblxyXG4gICAgICAgICAgICAvL2luIHRvdWNoIGRldmljZXMgd2l0aCBzY3JvbGxCYXI6dHJ1ZSwgZS5wYWdlWSBpcyBkZXRlY3RlZCwgYnV0IHdlIGhhdmUgdG8gZGVhbCB3aXRoIHRvdWNoIGV2ZW50cy4gIzEwMDhcclxuICAgICAgICAgICAgaWYoaXNUb3VjaCAmJiBpc1JlYWxseVRvdWNoKGUpICYmIG9wdGlvbnMuc2Nyb2xsQmFyICYmIHR5cGVvZiBlLnRvdWNoZXMgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy55ID0gZS50b3VjaGVzWzBdLnBhZ2VZO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzLnggPSBlLnRvdWNoZXNbMF0ucGFnZVg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBldmVudHM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNsaWRlcyBzaWxlbnRseSAod2l0aCBubyBhbmltYXRpb24pIHRoZSBhY3RpdmUgc2xpZGVyIHRvIHRoZSBnaXZlbiBzbGlkZS5cclxuICAgICAgICAqIEBwYXJhbSBub0NhbGxiYWNrIHtib29sfSB0cnVlIG9yIGRlZmluZWQgLT4gbm8gY2FsbGJhY2tzXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzaWxlbnRMYW5kc2NhcGVTY3JvbGwoYWN0aXZlU2xpZGUsIG5vQ2FsbGJhY2tzKXtcclxuICAgICAgICAgICAgc2V0U2Nyb2xsaW5nU3BlZWQoMCwgJ2ludGVybmFsJyk7XHJcblxyXG4gICAgICAgICAgICBpZih0eXBlb2Ygbm9DYWxsYmFja3MgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgICAgIC8vcHJldmVudGluZyBmaXJpbmcgY2FsbGJhY2tzIGFmdGVyU2xpZGVMb2FkIGV0Yy5cclxuICAgICAgICAgICAgICAgIGlzUmVzaXppbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsYW5kc2NhcGVTY3JvbGwoY2xvc2VzdChhY3RpdmVTbGlkZSwgU0xJREVTX1dSQVBQRVJfU0VMKSwgYWN0aXZlU2xpZGUpO1xyXG5cclxuICAgICAgICAgICAgaWYodHlwZW9mIG5vQ2FsbGJhY2tzICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgICAgICBpc1Jlc2l6aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNldFNjcm9sbGluZ1NwZWVkKG9yaWdpbmFscy5zY3JvbGxpbmdTcGVlZCwgJ2ludGVybmFsJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNjcm9sbHMgc2lsZW50bHkgKHdpdGggbm8gYW5pbWF0aW9uKSB0aGUgcGFnZSB0byB0aGUgZ2l2ZW4gWSBwb3NpdGlvbi5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNpbGVudFNjcm9sbCh0b3Ape1xyXG4gICAgICAgICAgICAvLyBUaGUgZmlyc3Qgc2VjdGlvbiBjYW4gaGF2ZSBhIG5lZ2F0aXZlIHZhbHVlIGluIGlPUyAxMC4gTm90IHF1aXRlIHN1cmUgd2h5OiAtMC4wMTQyODIyMjY1NjI1XHJcbiAgICAgICAgICAgIC8vIHRoYXQncyB3aHkgd2Ugcm91bmQgaXQgdG8gMC5cclxuICAgICAgICAgICAgdmFyIHJvdW5kZWRUb3AgPSBNYXRoLnJvdW5kKHRvcCk7XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5jc3MzICYmIG9wdGlvbnMuYXV0b1Njcm9sbGluZyAmJiAhb3B0aW9ucy5zY3JvbGxCYXIpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZTNkID0gJ3RyYW5zbGF0ZTNkKDBweCwgLScgKyByb3VuZGVkVG9wICsgJ3B4LCAwcHgpJztcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybUNvbnRhaW5lcih0cmFuc2xhdGUzZCwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYob3B0aW9ucy5hdXRvU2Nyb2xsaW5nICYmICFvcHRpb25zLnNjcm9sbEJhcil7XHJcbiAgICAgICAgICAgICAgICBjc3MoY29udGFpbmVyLCB7J3RvcCc6IC1yb3VuZGVkVG9wICsgJ3B4J30pO1xyXG4gICAgICAgICAgICAgICAgRlAudGVzdC50b3AgPSAtcm91bmRlZFRvcCArICdweCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxTZXR0aW5ncyA9IGdldFNjcm9sbFNldHRpbmdzKHJvdW5kZWRUb3ApO1xyXG4gICAgICAgICAgICAgICAgc2V0U2Nyb2xsaW5nKHNjcm9sbFNldHRpbmdzLmVsZW1lbnQsIHNjcm9sbFNldHRpbmdzLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFJldHVybnMgdGhlIGNyb3NzLWJyb3dzZXIgdHJhbnNmb3JtIHN0cmluZy5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldFRyYW5zZm9ybXModHJhbnNsYXRlM2Qpe1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogdHJhbnNsYXRlM2QsXHJcbiAgICAgICAgICAgICAgICAnLW1vei10cmFuc2Zvcm0nOiB0cmFuc2xhdGUzZCxcclxuICAgICAgICAgICAgICAgICctbXMtdHJhbnNmb3JtJzp0cmFuc2xhdGUzZCxcclxuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiB0cmFuc2xhdGUzZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBBbGxvd2luZyBvciBkaXNhbGxvd2luZyB0aGUgbW91c2Uvc3dpcGUgc2Nyb2xsIGluIGEgZ2l2ZW4gZGlyZWN0aW9uLiAobm90IGZvciBrZXlib2FyZClcclxuICAgICAgICAqIEB0eXBlICBtIChtb3VzZSkgb3IgayAoa2V5Ym9hcmQpXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzZXRJc1Njcm9sbEFsbG93ZWQodmFsdWUsIGRpcmVjdGlvbiwgdHlwZSl7XHJcbiAgICAgICAgICAgIC8vdXAsIGRvd24sIGxlZnQsIHJpZ2h0XHJcbiAgICAgICAgICAgIGlmKGRpcmVjdGlvbiAhPT0gJ2FsbCcpe1xyXG4gICAgICAgICAgICAgICAgaXNTY3JvbGxBbGxvd2VkW3R5cGVdW2RpcmVjdGlvbl0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9hbGwgZGlyZWN0aW9ucz9cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGlzU2Nyb2xsQWxsb3dlZFt0eXBlXSkuZm9yRWFjaChmdW5jdGlvbihrZXkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzU2Nyb2xsQWxsb3dlZFt0eXBlXVtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAqIERlc3Ryb3lzIGZ1bGxwYWdlLmpzIHBsdWdpbiBldmVudHMgYW5kIG9wdGluYWxseSBpdHMgaHRtbCBtYXJrdXAgYW5kIHN0eWxlc1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveShhbGwpe1xyXG4gICAgICAgICAgICBzZXRBdXRvU2Nyb2xsaW5nKGZhbHNlLCAnaW50ZXJuYWwnKTtcclxuICAgICAgICAgICAgc2V0QWxsb3dTY3JvbGxpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICBzZXRLZXlib2FyZFNjcm9sbGluZyhmYWxzZSk7XHJcbiAgICAgICAgICAgIGFkZENsYXNzKGNvbnRhaW5lciwgREVTVFJPWUVEKTtcclxuXHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChhZnRlclNsaWRlTG9hZHNJZCk7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChhZnRlclNlY3Rpb25Mb2Fkc0lkKTtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZUlkKTtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNjcm9sbElkKTtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNjcm9sbElkMik7XHJcblxyXG5cclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbEhhbmRsZXIpO1xyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIGhhc2hDaGFuZ2VIYW5kbGVyKTtcclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZUhhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25IYW5kbGVyKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBrZXlVcEhhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNsaWNrVG91Y2hFdmVudHMgPSBbc2VjdGlvbkJ1bGxldEhhbmRsZXIsIHRvb2x0aXBUZXh0SGFuZGxlciwgc2xpZGVBcnJvd0hhbmRsZXIsIHNsaWRlQnVsbGV0SGFuZGxlcl07XHJcbiAgICAgICAgICAgIFsnY2xpY2snLCAndG91Y2hzdGFydCddLmZvckVhY2goZnVuY3Rpb24oZXZlbnROYW1lKXtcclxuICAgICAgICAgICAgICAgIGNsaWNrVG91Y2hFdmVudHMuZm9yRWFjaChmdW5jdGlvbihmb28pe1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmb28pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgWydtb3VzZWVudGVyJywgJ3RvdWNoc3RhcnQnLCAnbW91c2VsZWF2ZScsICd0b3VjaGVuZCddLmZvckVhY2goZnVuY3Rpb24oZXZlbnROYW1lKXtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBvbk1vdXNlRW50ZXJPckxlYXZlLCB0cnVlKTsgLy90cnVlIGlzIHJlcXVpcmVkIVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChhZnRlclNsaWRlTG9hZHNJZCk7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChhZnRlclNlY3Rpb25Mb2Fkc0lkKTtcclxuXHJcbiAgICAgICAgICAgIC8vbGV0cyBtYWtlIGEgbWVzcyFcclxuICAgICAgICAgICAgaWYoYWxsKXtcclxuICAgICAgICAgICAgICAgIGRlc3Ryb3lTdHJ1Y3R1cmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAqIFJlbW92ZXMgaW5saW5lIHN0eWxlcyBhZGRlZCBieSBmdWxscGFnZS5qc1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveVN0cnVjdHVyZSgpe1xyXG4gICAgICAgICAgICAvL3Jlc2V0aW5nIHRoZSBgdG9wYCBvciBgdHJhbnNsYXRlYCBwcm9wZXJ0aWVzIHRvIDBcclxuICAgICAgICAgICAgc2lsZW50U2Nyb2xsKDApO1xyXG5cclxuICAgICAgICAgICAgLy9sb2FkaW5nIGFsbCB0aGUgbGF6eSBsb2FkIGNvbnRlbnRcclxuICAgICAgICAgICAgJCgnaW1nW2RhdGEtc3JjXSwgc291cmNlW2RhdGEtc3JjXSwgYXVkaW9bZGF0YS1zcmNdLCBpZnJhbWVbZGF0YS1zcmNdJywgY29udGFpbmVyKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICAgICAgICAgICAgc2V0U3JjKGl0ZW0sICdzcmMnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkKCdpbWdbZGF0YS1zcmNzZXRdJykuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtcclxuICAgICAgICAgICAgICAgIHNldFNyYyhpdGVtLCAnc3Jjc2V0Jyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmVtb3ZlKCQoU0VDVElPTl9OQVZfU0VMICsgJywgJyArIFNMSURFU19OQVZfU0VMICsgICcsICcgKyBTTElERVNfQVJST1dfU0VMKSk7XHJcblxyXG4gICAgICAgICAgICAvL3JlbW92aW5nIGlubGluZSBzdHlsZXNcclxuICAgICAgICAgICAgY3NzKCQoU0VDVElPTl9TRUwpLCB7XHJcbiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogJycsXHJcbiAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1jb2xvcicgOiAnJyxcclxuICAgICAgICAgICAgICAgICdwYWRkaW5nJzogJydcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjc3MoJChTTElERV9TRUwpLCB7XHJcbiAgICAgICAgICAgICAgICAnd2lkdGgnOiAnJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNzcyhjb250YWluZXIsIHtcclxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiAnJyxcclxuICAgICAgICAgICAgICAgICdwb3NpdGlvbic6ICcnLFxyXG4gICAgICAgICAgICAgICAgJy1tcy10b3VjaC1hY3Rpb24nOiAnJyxcclxuICAgICAgICAgICAgICAgICd0b3VjaC1hY3Rpb24nOiAnJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNzcygkaHRtbEJvZHksIHtcclxuICAgICAgICAgICAgICAgICdvdmVyZmxvdyc6ICcnLFxyXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6ICcnXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVtb3ZlIC5mcC1lbmFibGVkIGNsYXNzXHJcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKCQoJ2h0bWwnKSwgRU5BQkxFRCk7XHJcblxyXG4gICAgICAgICAgICAvLyByZW1vdmUgLmZwLXJlc3BvbnNpdmUgY2xhc3NcclxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoJGJvZHksIFJFU1BPTlNJVkUpO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVtb3ZlIGFsbCBvZiB0aGUgLmZwLXZpZXdpbmctIGNsYXNzZXNcclxuICAgICAgICAgICAgJGJvZHkuY2xhc3NOYW1lLnNwbGl0KC9cXHMrLykuZm9yRWFjaChmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NOYW1lLmluZGV4T2YoVklFV0lOR19QUkVGSVgpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoJGJvZHksIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9yZW1vdmluZyBhZGRlZCBjbGFzc2VzXHJcbiAgICAgICAgICAgICQoU0VDVElPTl9TRUwgKyAnLCAnICsgU0xJREVfU0VMKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5zY3JvbGxPdmVyZmxvd0hhbmRsZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyLnJlbW92ZShpdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGl0ZW0sIFRBQkxFICsgJyAnICsgQUNUSVZFICsgJyAnICsgQ09NUExFVEVMWSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXNTdHlsZXMgPSBpdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1mcC1zdHlsZXMnKTtcclxuICAgICAgICAgICAgICAgIGlmKHByZXZpb3VzU3R5bGVzKXtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBpdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1mcC1zdHlsZXMnKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9yZW1vdmluZyB0aGUgYXBwbGllZCB0cmFuc2l0aW9uIGZyb20gdGhlIGZ1bGxwYWdlIHdyYXBwZXJcclxuICAgICAgICAgICAgcmVtb3ZlQW5pbWF0aW9uKGNvbnRhaW5lcik7XHJcblxyXG4gICAgICAgICAgICAvL1Vud3JhcHBpbmcgY29udGVudFxyXG4gICAgICAgICAgICBbVEFCTEVfQ0VMTF9TRUwsIFNMSURFU19DT05UQUlORVJfU0VMLFNMSURFU19XUkFQUEVSX1NFTF0uZm9yRWFjaChmdW5jdGlvbihzZWxlY3Rvcil7XHJcbiAgICAgICAgICAgICAgICAkKHNlbGVjdG9yLCBjb250YWluZXIpLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy91bndyYXAgbm90IGJlaW5nIHVzZSBpbiBjYXNlIHRoZXJlJ3Mgbm8gY2hpbGQgZWxlbWVudCBpbnNpZGUgYW5kIGl0cyBqdXN0IHRleHRcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLm91dGVySFRNTCA9IGl0ZW0uaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9yZW1vdmluZyB0aGUgYXBwbGllZCB0cmFuc2l0aW9uIGZyb20gdGhlIGZ1bGxwYWdlIHdyYXBwZXJcclxuICAgICAgICAgICAgY3NzKGNvbnRhaW5lciwge1xyXG4gICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNpdGlvbic6ICdub25lJyxcclxuICAgICAgICAgICAgICAgICd0cmFuc2l0aW9uJzogJ25vbmUnXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9zY3JvbGxpbmcgdGhlIHBhZ2UgdG8gdGhlIHRvcCB3aXRoIG5vIGFuaW1hdGlvblxyXG4gICAgICAgICAgICAkKCdodG1sJylbMF0uc2Nyb2xsVG8oMCwgMCk7XHJcbiAgICAgICAgICAgICQoJ2JvZHknKVswXS5zY3JvbGxUbygwLCAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vcmVtb3Zpbmcgc2VsZWN0b3JzXHJcbiAgICAgICAgICAgIHZhciB1c2VkU2VsZWN0b3JzID0gW1NFQ1RJT04sIFNMSURFLCBTTElERVNfQ09OVEFJTkVSXTtcclxuICAgICAgICAgICAgdXNlZFNlbGVjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoJCgnLicgKyBpdGVtKSwgaXRlbSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAqIFNldHMgdGhlIHN0YXRlIGZvciBhIHZhcmlhYmxlIHdpdGggbXVsdGlwbGUgc3RhdGVzIChvcmlnaW5hbCwgYW5kIHRlbXBvcmFsKVxyXG4gICAgICAgICogU29tZSB2YXJpYWJsZXMgc3VjaCBhcyBgYXV0b1Njcm9sbGluZ2Agb3IgYHJlY29yZEhpc3RvcnlgIG1pZ2h0IGNoYW5nZSBhdXRvbWF0aWNhbGx5IGl0cyBzdGF0ZSB3aGVuIHVzaW5nIGByZXNwb25zaXZlYCBvciBgYXV0b1Njcm9sbGluZzpmYWxzZWAuXHJcbiAgICAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8ga2VlcCB0cmFjayBvZiBib3RoIHN0YXRlcywgdGhlIG9yaWdpbmFsIGFuZCB0aGUgdGVtcG9yYWwgb25lLlxyXG4gICAgICAgICogSWYgdHlwZSBpcyBub3QgJ2ludGVybmFsJywgdGhlbiB3ZSBhc3N1bWUgdGhlIHVzZXIgaXMgZ2xvYmFsbHkgY2hhbmdpbmcgdGhlIHZhcmlhYmxlLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0VmFyaWFibGVTdGF0ZSh2YXJpYWJsZSwgdmFsdWUsIHR5cGUpe1xyXG4gICAgICAgICAgICBvcHRpb25zW3ZhcmlhYmxlXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBpZih0eXBlICE9PSAnaW50ZXJuYWwnKXtcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsc1t2YXJpYWJsZV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBEaXNwbGF5cyB3YXJuaW5nc1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZGlzcGxheVdhcm5pbmdzKCl7XHJcbiAgICAgICAgICAgIGlmKCFpc0xpY2Vuc2VWYWxpZCl7XHJcbiAgICAgICAgICAgICAgICBzaG93RXJyb3IoJ2Vycm9yJywgJ0Z1bGxwYWdlLmpzIHZlcnNpb24gMyBoYXMgY2hhbmdlZCBpdHMgbGljZW5zZSB0byBHUEx2MyBhbmQgaXQgcmVxdWlyZXMgYSBgbGljZW5zZUtleWAgb3B0aW9uLiBSZWFkIGFib3V0IGl0IGhlcmU6Jyk7XHJcbiAgICAgICAgICAgICAgICBzaG93RXJyb3IoJ2Vycm9yJywgJ2h0dHBzOi8vZ2l0aHViLmNvbS9hbHZhcm90cmlnby9mdWxsUGFnZS5qcyNvcHRpb25zLicpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgZXh0ZW5zaW9ucyA9IFsnZmFkaW5nRWZmZWN0JywgJ2NvbnRpbnVvdXNIb3Jpem9udGFsJywgJ3Njcm9sbEhvcml6b250YWxseScsICdpbnRlcmxvY2tlZFNsaWRlcycsICdyZXNldFNsaWRlcnMnLCAncmVzcG9uc2l2ZVNsaWRlcycsICdvZmZzZXRTZWN0aW9ucycsICdkcmFnQW5kTW92ZScsICdzY3JvbGxPdmVyZmxvd1Jlc2V0JywgJ3BhcmFsbGF4J107XHJcbiAgICAgICAgICAgIGlmKGhhc0NsYXNzKCQoJ2h0bWwnKSwgRU5BQkxFRCkpe1xyXG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yKCdlcnJvcicsICdGdWxscGFnZS5qcyBjYW4gb25seSBiZSBpbml0aWFsaXplZCBvbmNlIGFuZCB5b3UgYXJlIGRvaW5nIGl0IG11bHRpcGxlIHRpbWVzIScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBEaXNhYmxlIG11dHVhbGx5IGV4Y2x1c2l2ZSBzZXR0aW5nc1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5jb250aW51b3VzVmVydGljYWwgJiZcclxuICAgICAgICAgICAgICAgIChvcHRpb25zLmxvb3BUb3AgfHwgb3B0aW9ucy5sb29wQm90dG9tKSkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jb250aW51b3VzVmVydGljYWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHNob3dFcnJvcignd2FybicsICdPcHRpb24gYGxvb3BUb3AvbG9vcEJvdHRvbWAgaXMgbXV0dWFsbHkgZXhjbHVzaXZlIHdpdGggYGNvbnRpbnVvdXNWZXJ0aWNhbGA7IGBjb250aW51b3VzVmVydGljYWxgIGRpc2FibGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuc2Nyb2xsQmFyICYmIG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3cpe1xyXG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yKCd3YXJuJywgJ09wdGlvbiBgc2Nyb2xsQmFyYCBpcyBtdXR1YWxseSBleGNsdXNpdmUgd2l0aCBgc2Nyb2xsT3ZlcmZsb3dgLiBTZWN0aW9ucyB3aXRoIHNjcm9sbE92ZXJmbG93IG1pZ2h0IG5vdCB3b3JrIHdlbGwgaW4gRmlyZWZveCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihvcHRpb25zLmNvbnRpbnVvdXNWZXJ0aWNhbCAmJiAob3B0aW9ucy5zY3JvbGxCYXIgfHwgIW9wdGlvbnMuYXV0b1Njcm9sbGluZykpe1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jb250aW51b3VzVmVydGljYWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHNob3dFcnJvcignd2FybicsICdTY3JvbGwgYmFycyAoYHNjcm9sbEJhcjp0cnVlYCBvciBgYXV0b1Njcm9sbGluZzpmYWxzZWApIGFyZSBtdXR1YWxseSBleGNsdXNpdmUgd2l0aCBgY29udGludW91c1ZlcnRpY2FsYDsgYGNvbnRpbnVvdXNWZXJ0aWNhbGAgZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYob3B0aW9ucy5zY3JvbGxPdmVyZmxvdyAmJiBvcHRpb25zLnNjcm9sbE92ZXJmbG93SGFuZGxlciA9PSBudWxsKXtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3cgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHNob3dFcnJvcignZXJyb3InLCAnVGhlIG9wdGlvbiBgc2Nyb2xsT3ZlcmZsb3c6dHJ1ZWAgcmVxdWlyZXMgdGhlIGZpbGUgYHNjcm9sbG92ZXJmbG93Lm1pbi5qc2AuIFBsZWFzZSBpbmNsdWRlIGl0IGJlZm9yZSBmdWxsUGFnZS5qcy4nKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy91c2luZyBleHRlbnNpb25zPyBXcm9uZyBmaWxlIVxyXG4gICAgICAgICAgICBleHRlbnNpb25zLmZvckVhY2goZnVuY3Rpb24oZXh0ZW5zaW9uKXtcclxuICAgICAgICAgICAgICAgIC8vaXMgdGhlIG9wdGlvbiBzZXQgdG8gdHJ1ZT9cclxuICAgICAgICAgICAgICAgIGlmKG9wdGlvbnNbZXh0ZW5zaW9uXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yKCd3YXJuJywgJ2Z1bGxwYWdlLmpzIGV4dGVuc2lvbnMgcmVxdWlyZSBmdWxscGFnZS5leHRlbnNpb25zLm1pbi5qcyBmaWxlIGluc3RlYWQgb2YgdGhlIHVzdWFsIGZ1bGxwYWdlLmpzLiBSZXF1ZXN0ZWQ6ICcrIGV4dGVuc2lvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9hbmNob3JzIGNhbiBub3QgaGF2ZSB0aGUgc2FtZSB2YWx1ZSBhcyBhbnkgZWxlbWVudCBJRCBvciBOQU1FXHJcbiAgICAgICAgICAgIG9wdGlvbnMuYW5jaG9ycy5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpe1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY2FzZSBpbnNlbnNpdGl2ZSBzZWxlY3RvcnMgKGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE5NDY1MTg3LzEwODEzOTYpXHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZUF0dHIgPSAgW10uc2xpY2UuY2FsbCgkKCdbbmFtZV0nKSkuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5nZXRBdHRyaWJ1dGUoJ25hbWUnKSAmJiBpdGVtLmdldEF0dHJpYnV0ZSgnbmFtZScpLnRvTG93ZXJDYXNlKCkgPT0gbmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGlkQXR0ciA9ICBbXS5zbGljZS5jYWxsKCQoJ1tpZF0nKSkuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5nZXRBdHRyaWJ1dGUoJ2lkJykgJiYgaXRlbS5nZXRBdHRyaWJ1dGUoJ2lkJykudG9Mb3dlckNhc2UoKSA9PSBuYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihpZEF0dHIubGVuZ3RoIHx8IG5hbWVBdHRyLmxlbmd0aCApe1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3dFcnJvcignZXJyb3InLCAnZGF0YS1hbmNob3IgdGFncyBjYW4gbm90IGhhdmUgdGhlIHNhbWUgdmFsdWUgYXMgYW55IGBpZGAgZWxlbWVudCBvbiB0aGUgc2l0ZSAob3IgYG5hbWVgIGVsZW1lbnQgZm9yIElFKS4nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZihpZEF0dHIubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yKCdlcnJvcicsICdcIicgKyBuYW1lICsgJ1wiIGlzIGlzIGJlaW5nIHVzZWQgYnkgYW5vdGhlciBlbGVtZW50IGBpZGAgcHJvcGVydHknKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYobmFtZUF0dHIubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yKCdlcnJvcicsICdcIicgKyBuYW1lICsgJ1wiIGlzIGlzIGJlaW5nIHVzZWQgYnkgYW5vdGhlciBlbGVtZW50IGBuYW1lYCBwcm9wZXJ0eScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEdldHRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoZSBlbGVtZW50IHRvIHNjcm9sbCB3aGVuIHVzaW5nIGpRdWVyeSBhbmltYXRpb25zXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBnZXRTY3JvbGxlZFBvc2l0aW9uKGVsZW1lbnQpe1xyXG4gICAgICAgICAgICB2YXIgcG9zaXRpb247XHJcblxyXG4gICAgICAgICAgICAvL2lzIG5vdCB0aGUgd2luZG93IGVsZW1lbnQgYW5kIGlzIGEgc2xpZGU/XHJcbiAgICAgICAgICAgIGlmKGVsZW1lbnQuc2VsZiAhPSB3aW5kb3cgJiYgaGFzQ2xhc3MoZWxlbWVudCwgU0xJREVTX1dSQVBQRVIpKXtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gZWxlbWVudC5zY3JvbGxMZWZ0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYoIW9wdGlvbnMuYXV0b1Njcm9sbGluZyAgfHwgb3B0aW9ucy5zY3JvbGxCYXIpe1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBnZXRTY3JvbGxUb3AoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBlbGVtZW50Lm9mZnNldFRvcDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9nZXRzIHRoZSB0b3AgcHJvcGVydHkgb2YgdGhlIHdyYXBwZXJcclxuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBTaW11bGF0ZXMgdGhlIGFuaW1hdGVkIHNjcm9sbFRvcCBvZiBqUXVlcnkuIFVzZWQgd2hlbiBjc3MzOmZhbHNlIG9yIHNjcm9sbEJhcjp0cnVlIG9yIGF1dG9TY3JvbGxpbmc6ZmFsc2VcclxuICAgICAgICAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE2MTM2Nzg5LzEwODEzOTZcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNjcm9sbFRvKGVsZW1lbnQsIHRvLCBkdXJhdGlvbiwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gZ2V0U2Nyb2xsZWRQb3NpdGlvbihlbGVtZW50KTtcclxuICAgICAgICAgICAgdmFyIGNoYW5nZSA9IHRvIC0gc3RhcnQ7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IDA7XHJcbiAgICAgICAgICAgIHZhciBpbmNyZW1lbnQgPSAyMDtcclxuICAgICAgICAgICAgYWN0aXZlQW5pbWF0aW9uID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBhbmltYXRlU2Nyb2xsID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmKGFjdGl2ZUFuaW1hdGlvbil7IC8vaW4gb3JkZXIgdG8gc3RvcGUgaXQgZnJvbSBvdGhlciBmdW5jdGlvbiB3aGVuZXZlciB3ZSB3YW50XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IHRvO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGltZSArPSBpbmNyZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGR1cmF0aW9uKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gd2luZG93LmZwX2Vhc2luZ3Nbb3B0aW9ucy5lYXNpbmddKGN1cnJlbnRUaW1lLCBzdGFydCwgY2hhbmdlLCBkdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZXRTY3JvbGxpbmcoZWxlbWVudCwgdmFsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudFRpbWUgPCBkdXJhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGFuaW1hdGVTY3JvbGwsIGluY3JlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYodHlwZW9mIGNhbGxiYWNrICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYgKGN1cnJlbnRUaW1lIDwgZHVyYXRpb24pe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBhbmltYXRlU2Nyb2xsKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNjcm9sbHMgdGhlIHBhZ2UgLyBzbGlkZXIgdGhlIGdpdmVuIG51bWJlciBvZiBwaXhlbHMuXHJcbiAgICAgICAgKiBJdCB3aWxsIGRvIGl0IG9uZSBvciBhbm90aGVyIHdheSBkZXBlbmRpb25nIG9uIHRoZSBsaWJyYXJ5J3MgY29uZmlnLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0U2Nyb2xsaW5nKGVsZW1lbnQsIHZhbCl7XHJcbiAgICAgICAgICAgIGlmKCFvcHRpb25zLmF1dG9TY3JvbGxpbmcgfHwgb3B0aW9ucy5zY3JvbGxCYXIgfHwgKGVsZW1lbnQuc2VsZiAhPSB3aW5kb3cgJiYgaGFzQ2xhc3MoZWxlbWVudCwgU0xJREVTX1dSQVBQRVIpKSl7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zY3JvbGxpbmcgaG9yaXpvbnRhbGx5IHRocm91Z2ggdGhlIHNsaWRlcz9cclxuICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuc2VsZiAhPSB3aW5kb3cgICYmIGhhc0NsYXNzKGVsZW1lbnQsIFNMSURFU19XUkFQUEVSKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zY3JvbGxMZWZ0ID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy92ZXJ0aWNhbCBzY3JvbGxcclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zY3JvbGxUbygwLCB2YWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRvcCA9IHZhbCArICdweCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogR2V0cyB0aGUgYWN0aXZlIHNsaWRlLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0QWN0aXZlU2xpZGUoKXtcclxuICAgICAgICAgICAgdmFyIGFjdGl2ZVNsaWRlID0gJChTTElERV9BQ1RJVkVfU0VMLCAkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF0pWzBdO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbE9yU2xpZGUoYWN0aXZlU2xpZGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBHZXRzIHRoZSBhY3RpdmUgc2VjdGlvbi5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldEFjdGl2ZVNlY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTZWN0aW9uKCQoU0VDVElPTl9BQ1RJVkVfU0VMKVswXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEl0ZW0uIFNsaWRlIG9yIFNlY3Rpb24gb2JqZWN0cyBzaGFyZSB0aGUgc2FtZSBwcm9wZXJ0aWVzLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gSXRlbShlbCwgc2VsZWN0b3Ipe1xyXG4gICAgICAgICAgICB0aGlzLmFuY2hvciA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1hbmNob3InKTtcclxuICAgICAgICAgICAgdGhpcy5pdGVtID0gZWw7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBpbmRleChlbCwgc2VsZWN0b3IpO1xyXG4gICAgICAgICAgICB0aGlzLmlzTGFzdCA9IHRoaXMuaW5kZXggPT09ICQoc2VsZWN0b3IpLmxlbmd0aCAtMTtcclxuICAgICAgICAgICAgdGhpcy5pc0ZpcnN0ID0gIXRoaXMuaW5kZXg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNlY3Rpb24gb2JqZWN0XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBTZWN0aW9uKGVsKXtcclxuICAgICAgICAgICAgSXRlbS5jYWxsKHRoaXMsIGVsLCBTRUNUSU9OX1NFTCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNsaWRlIG9iamVjdFxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gU2xpZGUoZWwpe1xyXG4gICAgICAgICAgICBJdGVtLmNhbGwodGhpcywgZWwsIFNMSURFX1NFTCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gRlA7XHJcbiAgICB9IC8vZW5kIG9mICQuZm4uZnVsbHBhZ2VcclxuXHJcblxyXG4gICAgLy91dGlsc1xyXG4gICAgLyoqXHJcbiAgICAqIFNob3dzIGEgbWVzc2FnZSBpbiB0aGUgY29uc29sZSBvZiB0aGUgZ2l2ZW4gdHlwZS5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBzaG93RXJyb3IodHlwZSwgdGV4dCl7XHJcbiAgICAgICAgd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGVbdHlwZV0gJiYgd2luZG93LmNvbnNvbGVbdHlwZV0oJ2Z1bGxQYWdlOiAnICsgdGV4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEVxdWl2YWxlbnQgb3IgalF1ZXJ5IGZ1bmN0aW9uICQoKS5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiAkKHNlbGVjdG9yLCBjb250ZXh0KXtcclxuICAgICAgICBjb250ZXh0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBjb250ZXh0IDogZG9jdW1lbnQ7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRXh0ZW5kcyBhIGdpdmVuIE9iamVjdCBwcm9wZXJ0aWVzIGFuZCBpdHMgY2hpbGRzLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGRlZXBFeHRlbmQob3V0KSB7XHJcbiAgICAgIG91dCA9IG91dCB8fCB7fTtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG9iaiA9IGFyZ3VtZW50c1tpXTtcclxuXHJcbiAgICAgICAgaWYgKCFvYmopXHJcbiAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xyXG4gICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqW2tleV0gPT09ICdvYmplY3QnICYmIG9ialtrZXldICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgb3V0W2tleV0gPSBkZWVwRXh0ZW5kKG91dFtrZXldLCBvYmpba2V5XSk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICBvdXRba2V5XSA9IG9ialtrZXldO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ2hlY2tzIGlmIHRoZSBwYXNzZWQgZWxlbWVudCBjb250YWlucyB0aGUgcGFzc2VkIGNsYXNzLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGhhc0NsYXNzKGVsLCBjbGFzc05hbWUpe1xyXG4gICAgICAgIGlmKGVsID09IG51bGwpe1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbC5jbGFzc0xpc3Qpe1xyXG4gICAgICAgICAgICByZXR1cm4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgUmVnRXhwKCcoXnwgKScgKyBjbGFzc05hbWUgKyAnKCB8JCknLCAnZ2knKS50ZXN0KGVsLmNsYXNzTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEdldHMgdGhlIHdpbmRvdyBoZWlnaHQuIENyb3NzYnJvd3Nlci5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRXaW5kb3dIZWlnaHQoKXtcclxuICAgICAgICByZXR1cm4gICdpbm5lckhlaWdodCcgaW4gd2luZG93ID8gd2luZG93LmlubmVySGVpZ2h0IDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0J3MgdGhlIENTUyBwcm9wZXJ0aWVzIGZvciB0aGUgcGFzc2VkIGl0ZW0vcy5cclxuICAgICogQHBhcmFtIHtOb2RlTGlzdHxIVE1MRWxlbWVudH0gaXRlbXNcclxuICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BzIGNzcyBwcm9wZXJ0aWVzIGFuZCB2YWx1ZXMuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gY3NzKGl0ZW1zLCBwcm9wcykge1xyXG4gICAgICAgIGl0ZW1zID0gZ2V0TGlzdChpdGVtcyk7XHJcblxyXG4gICAgICAgIHZhciBrZXk7XHJcbiAgICAgICAgZm9yIChrZXkgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gaXRlbXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGVba2V5XSA9IHByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaXRlbXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEdlbmVyaWMgZnVuY3Rpb24gdG8gZ2V0IHRoZSBwcmV2aW91cyBvciBuZXh0IGVsZW1lbnQuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gdW50aWwoaXRlbSwgc2VsZWN0b3IsIGZuKXtcclxuICAgICAgICB2YXIgc2libGluZyA9IGl0ZW1bZm5dO1xyXG4gICAgICAgIHdoaWxlKHNpYmxpbmcgJiYgIW1hdGNoZXMoc2libGluZywgc2VsZWN0b3IpKXtcclxuICAgICAgICAgICAgc2libGluZyA9IHNpYmxpbmdbZm5dO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHNpYmxpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEdldHMgdGhlIHByZXZpb3VzIGVsZW1lbnQgdG8gdGhlIHBhc3NlZCBlbGVtZW50IHRoYXQgbWF0Y2hlcyB0aGUgcGFzc2VkIHNlbGVjdG9yLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHByZXZVbnRpbChpdGVtLCBzZWxlY3Rvcil7XHJcbiAgICAgICAgcmV0dXJuIHVudGlsKGl0ZW0sIHNlbGVjdG9yLCAncHJldmlvdXNFbGVtZW50U2libGluZycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBHZXRzIHRoZSBuZXh0IGVsZW1lbnQgdG8gdGhlIHBhc3NlZCBlbGVtZW50IHRoYXQgbWF0Y2hlcyB0aGUgcGFzc2VkIHNlbGVjdG9yLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIG5leHRVbnRpbChpdGVtLCBzZWxlY3Rvcil7XHJcbiAgICAgICAgcmV0dXJuIHVudGlsKGl0ZW0sIHNlbGVjdG9yLCAnbmV4dEVsZW1lbnRTaWJsaW5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEdldHMgdGhlIHByZXZpb3VzIGVsZW1lbnQgdG8gdGhlIHBhc3NlZCBlbGVtZW50LlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHByZXYoaXRlbSl7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW0ucHJldmlvdXNFbGVtZW50U2libGluZztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogR2V0cyB0aGUgbmV4dCBlbGVtZW50IHRvIHRoZSBwYXNzZWQgZWxlbWVudC5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBuZXh0KGl0ZW0pe1xyXG4gICAgICAgIHJldHVybiBpdGVtLm5leHRFbGVtZW50U2libGluZztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogR2V0cyB0aGUgbGFzdCBlbGVtZW50IGZyb20gdGhlIHBhc3NlZCBsaXN0IG9mIGVsZW1lbnRzLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGxhc3QoaXRlbSl7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1baXRlbS5sZW5ndGgtMV07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEdldHMgaW5kZXggZnJvbSB0aGUgcGFzc2VkIGVsZW1lbnQuXHJcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvciBpcyBvcHRpb25hbC5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBpbmRleChpdGVtLCBzZWxlY3Rvcikge1xyXG4gICAgICAgIGl0ZW0gPSBpc0FycmF5T3JMaXN0KGl0ZW0pID8gaXRlbVswXSA6IGl0ZW07XHJcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gc2VsZWN0b3IgIT0gbnVsbD8gJChzZWxlY3RvciwgaXRlbS5wYXJlbnROb2RlKSA6IGl0ZW0ucGFyZW50Tm9kZS5jaGlsZE5vZGVzO1xyXG4gICAgICAgIHZhciBudW0gPSAwO1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgaWYgKGNoaWxkcmVuW2ldID09IGl0ZW0pIHJldHVybiBudW07XHJcbiAgICAgICAgICAgICBpZiAoY2hpbGRyZW5baV0ubm9kZVR5cGU9PTEpIG51bSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEdldHMgYW4gaXRlcmFibGUgZWxlbWVudCBmb3IgdGhlIHBhc3NlZCBlbGVtZW50L3NcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRMaXN0KGl0ZW0pe1xyXG4gICAgICAgIHJldHVybiAhaXNBcnJheU9yTGlzdChpdGVtKSA/IFtpdGVtXSA6IGl0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEFkZHMgdGhlIGRpc3BsYXk9bm9uZSBwcm9wZXJ0eSBmb3IgdGhlIHBhc3NlZCBlbGVtZW50L3NcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBoaWRlKGVsKXtcclxuICAgICAgICBlbCA9IGdldExpc3QoZWwpO1xyXG5cclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpPGVsLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgZWxbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBBZGRzIHRoZSBkaXNwbGF5PWJsb2NrIHByb3BlcnR5IGZvciB0aGUgcGFzc2VkIGVsZW1lbnQvc1xyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHNob3coZWwpe1xyXG4gICAgICAgIGVsID0gZ2V0TGlzdChlbCk7XHJcblxyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGk8ZWwubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBlbFtpXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDaGVja3MgaWYgdGhlIHBhc3NlZCBlbGVtZW50IGlzIGFuIGl0ZXJhYmxlIGVsZW1lbnQgb3Igbm90XHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gaXNBcnJheU9yTGlzdChlbCl7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCggZWwgKSA9PT0gJ1tvYmplY3QgQXJyYXldJyB8fFxyXG4gICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoIGVsICkgPT09ICdbb2JqZWN0IE5vZGVMaXN0XSc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEFkZHMgdGhlIHBhc3NlZCBjbGFzcyB0byB0aGUgcGFzc2VkIGVsZW1lbnQvc1xyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGFkZENsYXNzKGVsLCBjbGFzc05hbWUpIHtcclxuICAgICAgICBlbCA9IGdldExpc3QoZWwpO1xyXG5cclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpPGVsLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSBlbFtpXTtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uY2xhc3NMaXN0KXtcclxuICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgaXRlbS5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogUmVtb3ZlcyB0aGUgcGFzc2VkIGNsYXNzIHRvIHRoZSBwYXNzZWQgZWxlbWVudC9zXHJcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBgY2xhc3NOYW1lYCBjYW4gYmUgbXVsdGlwbGUgY2xhc3NuYW1lcyBzZXBhcmF0ZWQgYnkgd2hpdGVzcGFjZVxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsLCBjbGFzc05hbWUpe1xyXG4gICAgICAgIGVsID0gZ2V0TGlzdChlbCk7XHJcblxyXG4gICAgICAgIHZhciBjbGFzc05hbWVzID0gY2xhc3NOYW1lLnNwbGl0KCcgJyk7XHJcblxyXG4gICAgICAgIGZvcih2YXIgYSA9IDA7IGE8Y2xhc3NOYW1lcy5sZW5ndGg7IGErKyl7XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbYV07XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGk8ZWwubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBlbFtpXTtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLmNsYXNzTGlzdCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NOYW1lID0gaXRlbS5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKCcoXnxcXFxcYiknICsgY2xhc3NOYW1lLnNwbGl0KCcgJykuam9pbignfCcpICsgJyhcXFxcYnwkKScsICdnaScpLCAnICcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQXBwZW5kcyB0aGUgZ2l2ZW4gZWxlbWVudCBvdCB0aGUgZ2l2ZW4gcGFyZW50LlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGFwcGVuZFRvKGVsLCBwYXJlbnQpe1xyXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICBVc2FnZTpcclxuXHJcbiAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgd3JhcHBlci5jbGFzc05hbWUgPSAnZnAtc2xpZGVzJztcclxuICAgIHdyYXAoJCgnLnNsaWRlJyksIHdyYXBwZXIpO1xyXG5cclxuICAgIGh0dHBzOi8vanNmaWRkbGUubmV0L3F3emM3b3kzLzE1LyAodmFuaWxsYSlcclxuICAgIGh0dHBzOi8vanNmaWRkbGUubmV0L295YTZuZGthLzEvIChqcXVlcnkgZXF1aXZhbGVudClcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiB3cmFwKHRvV3JhcCwgd3JhcHBlciwgaXNXcmFwQWxsKSB7XHJcbiAgICAgICAgdmFyIG5ld1BhcmVudDtcclxuICAgICAgICB3cmFwcGVyID0gd3JhcHBlciB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdG9XcmFwLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0b1dyYXBbaV07XHJcbiAgICAgICAgICAgIGlmKGlzV3JhcEFsbCAmJiAhaSB8fCAhaXNXcmFwQWxsKXtcclxuICAgICAgICAgICAgICAgIG5ld1BhcmVudCA9IHdyYXBwZXIuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdQYXJlbnQsIGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld1BhcmVudC5hcHBlbmRDaGlsZChpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRvV3JhcDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgIFVzYWdlOlxyXG4gICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gJ2ZwLXNsaWRlcyc7XHJcbiAgICB3cmFwKCQoJy5zbGlkZScpLCB3cmFwcGVyKTtcclxuXHJcbiAgICBodHRwczovL2pzZmlkZGxlLm5ldC9xd3pjN295My8yNy8gKHZhbmlsbGEpXHJcbiAgICBodHRwczovL2pzZmlkZGxlLm5ldC9veWE2bmRrYS80LyAoanF1ZXJ5IGVxdWl2YWxlbnQpXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gd3JhcEFsbCh0b1dyYXAsIHdyYXBwZXIpIHtcclxuICAgICAgICB3cmFwKHRvV3JhcCwgd3JhcHBlciwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFVzYWdlOlxyXG4gICAgKiB3cmFwSW5uZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BlcGUnKSwgJzxkaXYgY2xhc3M9XCJ0ZXN0XCI+YWZkYXM8L2Rpdj4nKTtcclxuICAgICogd3JhcElubmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwZXBlJyksIGVsZW1lbnQpO1xyXG4gICAgKlxyXG4gICAgKiBodHRwczovL2pzZmlkZGxlLm5ldC96ZXh4ejB0dy82L1xyXG4gICAgKlxyXG4gICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjE4MTc1OTAvMTA4MTM5NlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHdyYXBJbm5lcihwYXJlbnQsIHdyYXBwZXIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHdyYXBwZXIgPT09IFwic3RyaW5nXCIpe1xyXG4gICAgICAgICAgICB3cmFwcGVyID0gY3JlYXRlRWxlbWVudEZyb21IVE1MKHdyYXBwZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHdyYXBwZXIpO1xyXG5cclxuICAgICAgICB3aGlsZShwYXJlbnQuZmlyc3RDaGlsZCAhPT0gd3JhcHBlcil7XHJcbiAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQocGFyZW50LmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzIyMTAwODUzL2RvbS1wdXJlLWphdmFzY3JpcHQtc29sdXRpb24tdG8tanF1ZXJ5LWNsb3Nlc3QtaW1wbGVtZW50YXRpb25cclxuICAgICogUmV0dXJucyB0aGUgZWxlbWVudCBvciBgZmFsc2VgIGlmIHRoZXJlJ3Mgbm9uZVxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGNsb3Nlc3QoZWwsIHNlbGVjdG9yKSB7XHJcbiAgICAgICAgaWYoZWwgJiYgZWwubm9kZVR5cGUgPT09IDEpe1xyXG4gICAgICAgICAgICBpZihtYXRjaGVzKGVsLCBzZWxlY3Rvcikpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjbG9zZXN0KGVsLnBhcmVudE5vZGUsIHNlbGVjdG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFBsYWNlcyBvbmUgZWxlbWVudCAocmVsKSBhZnRlciBhbm90aGVyIG9uZSBvciBncm91cCBvZiB0aGVtIChyZWZlcmVuY2UpLlxyXG4gICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSByZWZlcmVuY2VcclxuICAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxOb2RlTGlzdHxTdHJpbmd9IGVsXHJcbiAgICAqIGh0dHBzOi8vanNmaWRkbGUubmV0LzlzOTdoaHp2LzEvXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gYWZ0ZXIocmVmZXJlbmNlLCBlbCkge1xyXG4gICAgICAgIGluc2VydEJlZm9yZShyZWZlcmVuY2UsIHJlZmVyZW5jZS5uZXh0U2libGluZywgZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBQbGFjZXMgb25lIGVsZW1lbnQgKHJlbCkgYmVmb3JlIGFub3RoZXIgb25lIG9yIGdyb3VwIG9mIHRoZW0gKHJlZmVyZW5jZSkuXHJcbiAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHJlZmVyZW5jZVxyXG4gICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fE5vZGVMaXN0fFN0cmluZ30gZWxcclxuICAgICogaHR0cHM6Ly9qc2ZpZGRsZS5uZXQvOXM5N2hoenYvMS9cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBiZWZvcmUocmVmZXJlbmNlLCBlbCkge1xyXG4gICAgICAgIGluc2VydEJlZm9yZShyZWZlcmVuY2UsIHJlZmVyZW5jZSwgZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBCYXNlZCBpbiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTkzMTYwMjQvMTA4MTM5NlxyXG4gICAgKiBhbmQgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ3OTM2MzAvMTA4MTM5NlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGluc2VydEJlZm9yZShyZWZlcmVuY2UsIGJlZm9yZUVsZW1lbnQsIGVsKXtcclxuICAgICAgICBpZighaXNBcnJheU9yTGlzdChlbCkpe1xyXG4gICAgICAgICAgICBpZih0eXBlb2YgZWwgPT0gJ3N0cmluZycpe1xyXG4gICAgICAgICAgICAgICAgZWwgPSBjcmVhdGVFbGVtZW50RnJvbUhUTUwoZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsID0gW2VsXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGk8ZWwubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICByZWZlcmVuY2UucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWxbaV0sIGJlZm9yZUVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ2NDg3Ni9qYXZhc2NyaXB0LWdldC13aW5kb3cteC15LXBvc2l0aW9uLWZvci1zY3JvbGxcclxuICAgIGZ1bmN0aW9uIGdldFNjcm9sbFRvcCgpe1xyXG4gICAgICAgIHZhciBkb2MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICAgICAgcmV0dXJuICh3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jLnNjcm9sbFRvcCkgIC0gKGRvYy5jbGllbnRUb3AgfHwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEdldHMgdGhlIHNpYmxpbmdzIG9mIHRoZSBwYXNzZWQgZWxlbWVudFxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHNpYmxpbmdzKGVsKXtcclxuICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGVsLnBhcmVudE5vZGUuY2hpbGRyZW4sIGZ1bmN0aW9uKGNoaWxkKXtcclxuICAgICAgICAgIHJldHVybiBjaGlsZCAhPT0gZWw7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9mb3IgSUUgOSA/XHJcbiAgICBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChldmVudCl7XHJcbiAgICAgICAgaWYoZXZlbnQucHJldmVudERlZmF1bHQpe1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBwYXNzZWQgaXRlbSBpcyBvZiBmdW5jdGlvbiB0eXBlLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICB2YXIgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoaXRlbSk7XHJcbiAgICAgIHJldHVybiB0eXBlID09PSAnW29iamVjdCBGdW5jdGlvbl0nIHx8IHR5cGUgPT09ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXSc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFRyaWdnZXIgY3VzdG9tIGV2ZW50c1xyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHRyaWdnZXIoZWwsIGV2ZW50TmFtZSwgZGF0YSl7XHJcbiAgICAgICAgdmFyIGV2ZW50O1xyXG4gICAgICAgIGRhdGEgPSB0eXBlb2YgZGF0YSA9PT0gJ3VuZGVmaW5lZCcgPyB7fSA6IGRhdGE7XHJcblxyXG4gICAgICAgIC8vIE5hdGl2ZVxyXG4gICAgICAgIGlmKHR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQgPT09IFwiZnVuY3Rpb25cIiApe1xyXG4gICAgICAgICAgICBldmVudCA9IG5ldyBDdXN0b21FdmVudChldmVudE5hbWUsIHtkZXRhaWw6IGRhdGF9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcclxuICAgICAgICAgICAgZXZlbnQuaW5pdEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwgdHJ1ZSwgdHJ1ZSwgZGF0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogUG9seWZpbGwgb2YgLm1hdGNoZXMoKVxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIG1hdGNoZXMoZWwsIHNlbGVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIChlbC5tYXRjaGVzIHx8IGVsLm1hdGNoZXNTZWxlY3RvciB8fCBlbC5tc01hdGNoZXNTZWxlY3RvciB8fCBlbC5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgZWwud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IGVsLm9NYXRjaGVzU2VsZWN0b3IpLmNhbGwoZWwsIHNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogVG9nZ2xlcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgcGFzc2VkIGVsZW1lbnQgZWwuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gdG9nZ2xlKGVsLCB2YWx1ZSl7XHJcbiAgICAgICAgaWYodHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIil7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGk8ZWwubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgZWxbaV0uc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL3dlIGRvbid0IHVzZSBpdCBpbiBvdGhlciB3YXksIHNvIG5vIGVsc2UgOilcclxuXHJcbiAgICAgICAgcmV0dXJuIGVsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgSFRNTEVsZW1lbnQgZnJvbSB0aGUgcGFzc2VkIEhUTUwgc3RyaW5nLlxyXG4gICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDk0MzQ4LzEwODEzOTZcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50RnJvbUhUTUwoaHRtbFN0cmluZykge1xyXG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZy50cmltKCk7XHJcblxyXG4gICAgICAgIC8vIENoYW5nZSB0aGlzIHRvIGRpdi5jaGlsZE5vZGVzIHRvIHN1cHBvcnQgbXVsdGlwbGUgdG9wLWxldmVsIG5vZGVzXHJcbiAgICAgICAgcmV0dXJuIGRpdi5maXJzdENoaWxkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBSZW1vdmVzIHRoZSBwYXNzZWQgaXRlbS9zIGZyb20gdGhlIERPTS5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiByZW1vdmUoaXRlbXMpe1xyXG4gICAgICAgIGl0ZW1zID0gZ2V0TGlzdChpdGVtcyk7XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaTxpdGVtcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gaXRlbXNbaV07XHJcbiAgICAgICAgICAgIGlmKGl0ZW0gJiYgaXRlbS5wYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEZpbHRlcnMgYW4gYXJyYXkgYnkgdGhlIHBhc3NlZCBmaWx0ZXIgZnVudGlvbi5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBmaWx0ZXIoZWwsIGZpbHRlckZuKXtcclxuICAgICAgICBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZWwsIGZpbHRlckZuKTtcclxuICAgIH1cclxuXHJcbiAgICAvL2h0dHBzOi8vanNmaWRkbGUubmV0L3cxcmt0ZWN6L1xyXG4gICAgZnVuY3Rpb24gdW50aWxBbGwoaXRlbSwgc2VsZWN0b3IsIGZuKXtcclxuICAgICAgICB2YXIgc2libGluZyA9IGl0ZW1bZm5dO1xyXG4gICAgICAgIHZhciBzaWJsaW5ncyA9IFtdO1xyXG4gICAgICAgIHdoaWxlKHNpYmxpbmcpe1xyXG4gICAgICAgICAgICBpZihtYXRjaGVzKHNpYmxpbmcsIHNlbGVjdG9yKSB8fCBzZWxlY3RvciA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBzaWJsaW5ncy5wdXNoKHNpYmxpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNpYmxpbmcgPSBzaWJsaW5nW2ZuXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzaWJsaW5ncztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogR2V0cyBhbGwgbmV4dCBlbGVtZW50cyBtYXRjaGluZyB0aGUgcGFzc2VkIHNlbGVjdG9yLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIG5leHRBbGwoaXRlbSwgc2VsZWN0b3Ipe1xyXG4gICAgICAgIHJldHVybiB1bnRpbEFsbChpdGVtLCBzZWxlY3RvciwgJ25leHRFbGVtZW50U2libGluZycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBHZXRzIGFsbCBwcmV2aW91cyBlbGVtZW50cyBtYXRjaGluZyB0aGUgcGFzc2VkIHNlbGVjdG9yLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHByZXZBbGwoaXRlbSwgc2VsZWN0b3Ipe1xyXG4gICAgICAgIHJldHVybiB1bnRpbEFsbChpdGVtLCBzZWxlY3RvciwgJ3ByZXZpb3VzRWxlbWVudFNpYmxpbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ29udmVydHMgYW4gb2JqZWN0IHRvIGFuIGFycmF5LlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHRvQXJyYXkob2JqZWN0RGF0YSl7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdERhdGEpLm1hcChmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgICByZXR1cm4gb2JqZWN0RGF0YVtrZXldO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBmb3JFYWNoIHBvbHlmaWxsIGZvciBJRVxyXG4gICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTm9kZUxpc3QvZm9yRWFjaCNCcm93c2VyX0NvbXBhdGliaWxpdHlcclxuICAgICovXHJcbiAgICBpZiAod2luZG93Lk5vZGVMaXN0ICYmICFOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaCkge1xyXG4gICAgICAgIE5vZGVMaXN0LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrLCB0aGlzQXJnKSB7XHJcbiAgICAgICAgICAgIHRoaXNBcmcgPSB0aGlzQXJnIHx8IHdpbmRvdztcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXNbaV0sIGksIHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvL3V0aWxzIGFyZSBwdWJsaWMsIHNvIHdlIGNhbiB1c2UgaXQgd2hlcmV2ZXIgd2Ugd2FudFxyXG4gICAgd2luZG93LmZwX3V0aWxzID0ge1xyXG4gICAgICAgICQ6ICQsXHJcbiAgICAgICAgZGVlcEV4dGVuZDogZGVlcEV4dGVuZCxcclxuICAgICAgICBoYXNDbGFzczogaGFzQ2xhc3MsXHJcbiAgICAgICAgZ2V0V2luZG93SGVpZ2h0OiBnZXRXaW5kb3dIZWlnaHQsXHJcbiAgICAgICAgY3NzOiBjc3MsXHJcbiAgICAgICAgdW50aWw6IHVudGlsLFxyXG4gICAgICAgIHByZXZVbnRpbDogcHJldlVudGlsLFxyXG4gICAgICAgIG5leHRVbnRpbDogbmV4dFVudGlsLFxyXG4gICAgICAgIHByZXY6IHByZXYsXHJcbiAgICAgICAgbmV4dDogbmV4dCxcclxuICAgICAgICBsYXN0OiBsYXN0LFxyXG4gICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICBnZXRMaXN0OiBnZXRMaXN0LFxyXG4gICAgICAgIGhpZGU6IGhpZGUsXHJcbiAgICAgICAgc2hvdzogc2hvdyxcclxuICAgICAgICBpc0FycmF5T3JMaXN0OiBpc0FycmF5T3JMaXN0LFxyXG4gICAgICAgIGFkZENsYXNzOiBhZGRDbGFzcyxcclxuICAgICAgICByZW1vdmVDbGFzczogcmVtb3ZlQ2xhc3MsXHJcbiAgICAgICAgYXBwZW5kVG86IGFwcGVuZFRvLFxyXG4gICAgICAgIHdyYXA6IHdyYXAsXHJcbiAgICAgICAgd3JhcEFsbDogd3JhcEFsbCxcclxuICAgICAgICB3cmFwSW5uZXI6IHdyYXBJbm5lcixcclxuICAgICAgICBjbG9zZXN0OiBjbG9zZXN0LFxyXG4gICAgICAgIGFmdGVyOiBhZnRlcixcclxuICAgICAgICBiZWZvcmU6IGJlZm9yZSxcclxuICAgICAgICBpbnNlcnRCZWZvcmU6IGluc2VydEJlZm9yZSxcclxuICAgICAgICBnZXRTY3JvbGxUb3A6IGdldFNjcm9sbFRvcCxcclxuICAgICAgICBzaWJsaW5nczogc2libGluZ3MsXHJcbiAgICAgICAgcHJldmVudERlZmF1bHQ6IHByZXZlbnREZWZhdWx0LFxyXG4gICAgICAgIGlzRnVuY3Rpb246IGlzRnVuY3Rpb24sXHJcbiAgICAgICAgdHJpZ2dlcjogdHJpZ2dlcixcclxuICAgICAgICBtYXRjaGVzOiBtYXRjaGVzLFxyXG4gICAgICAgIHRvZ2dsZTogdG9nZ2xlLFxyXG4gICAgICAgIGNyZWF0ZUVsZW1lbnRGcm9tSFRNTDogY3JlYXRlRWxlbWVudEZyb21IVE1MLFxyXG4gICAgICAgIHJlbW92ZTogcmVtb3ZlLFxyXG4gICAgICAgIGZpbHRlcjogZmlsdGVyLFxyXG4gICAgICAgIHVudGlsQWxsOiB1bnRpbEFsbCxcclxuICAgICAgICBuZXh0QWxsOiBuZXh0QWxsLFxyXG4gICAgICAgIHByZXZBbGw6IHByZXZBbGxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGluaXRpYWxpc2U7XHJcbn0pKTtcclxuXHJcbi8qKlxyXG4gKiBqUXVlcnkgYWRhcHRlciBmb3IgZnVsbFBhZ2UuanMgMy4wLjBcclxuICovXHJcbmlmKHdpbmRvdy5qUXVlcnkgJiYgd2luZG93LmZ1bGxwYWdlKXtcclxuICAgIChmdW5jdGlvbiAoJCwgZnVsbHBhZ2UpIHtcclxuICAgICAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgICAgIC8vIE5vIGpRdWVyeSBObyBHb1xyXG4gICAgICAgIGlmICghJCB8fCAhZnVsbHBhZ2UpIHtcclxuICAgICAgICAgICAgd2luZG93LmZwX3V0aWxzLnNob3dFcnJvcignZXJyb3InLCAnalF1ZXJ5IGlzIHJlcXVpcmVkIHRvIHVzZSB0aGUgalF1ZXJ5IGZ1bGxwYWdlIGFkYXB0ZXIhJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQuZm4uZnVsbHBhZ2UgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHZhciBGUCA9IG5ldyBmdWxscGFnZSgnIycgKyAkKHRoaXMpLmF0dHIoJ2lkJyksIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgLy9TdGF0aWMgQVBJXHJcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKEZQKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICQuZm4uZnVsbHBhZ2Vba2V5XSA9IEZQW2tleV07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9KShqUXVlcnksIGZ1bGxwYWdlKTtcclxufVxyXG4iLCIvLyBPcHRpb25hbC4gV2hlbiB1c2luZyBmdWxsUGFnZSBleHRlbnNpb25zXG4vL2ltcG9ydCBzY3JvbGxIb3Jpem9udGFsbHkgZnJvbSAnLi9mdWxscGFnZS5zY3JvbGxIb3Jpem9udGFsbHkubWluJztcblxuLy8gT3B0aW9uYWwuIFdoZW4gdXNpbmcgc2Nyb2xsT3ZlcmZsb3c6dHJ1ZVxuLy9pbXBvcnQgSVNjcm9sbCBmcm9tICdmdWxscGFnZS5qcy92ZW5kb3JzL3Njcm9sbG92ZXJmbG93JztcblxuLy8gSW1wb3J0aW5nIGZ1bGxwYWdlLmpzXG5pbXBvcnQgZnVsbHBhZ2UgZnJvbSAnZnVsbHBhZ2UuanMnO1xuXG4vLyBXaGVuIHVzaW5nIGZ1bGxQYWdlIGV4dGVuc2lvbnMgcmVwbGFjZSB0aGUgcHJldmlvdXMgaW1wb3J0XG4vLyBvZiBmdWxscGFnZS5qcyBmb3IgdGhpcyBmaWxlXG4vL2ltcG9ydCBmdWxscGFnZSBmcm9tICdmdWxscGFnZS5qcy9kaXN0L2Z1bGxwYWdlLmV4dGVuc2lvbnMubWluJztcblxuLy8gSW5pdGlhbGl6aW5nIGl0XG52YXIgZnVsbFBhZ2VJbnN0YW5jZSA9IG5ldyBmdWxscGFnZSgnI215RnVsbHBhZ2UnLCB7XG4gICAgbmF2aWdhdGlvbjogdHJ1ZSxcbiAgICBzZWN0aW9uc0NvbG9yOlsnI2ZmNWY0NScsICcjMDc5OGVjJywgJyNmYzZjN2MnLCAnZ3JleSddXG59KTtcblxuLy8gQ2FsbGluZyBtZXRob2RzXG4vLyBmdWxscGFnZV9hcGkubW92ZVNlY3Rpb25Eb3duKCk7XG4vLyBPclxuLy8gZnVsbFBhZ2VJbnN0YW5jZS5tb3ZlU2VjdGlvbkRvd24oKTsiXSwic291cmNlUm9vdCI6IiJ9